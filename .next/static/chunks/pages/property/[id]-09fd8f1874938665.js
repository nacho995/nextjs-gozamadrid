(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1299],{55594:(e,a,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/property/[id]",function(){return r(97125)}])},64513:(e,a,r)=>{"use strict";r.d(a,{A:()=>d});var t=r(37876),s=r(14232),o=r(98928),l=r(77328),n=r.n(l);let i=e=>{let{countries:a}=e;try{let e=a.filter(e=>["ES","US","FR","GB","DE","IT","PT","MX","AR","CO"].includes(e.code)),r={"@context":"https://schema.org","@type":"WebApplication",name:"Selector de Prefijo Telef\xf3nico Internacional",applicationCategory:"BusinessApplication",description:"Selector de prefijos telef\xf3nicos internacionales para comunicaci\xf3n global",offers:{"@type":"Offer",price:0,priceCurrency:"EUR"},operatingSystem:"Web",softwareVersion:"1.0",url:"https://realestategozamadrid.com/contacto",provider:{"@type":"Organization",name:"Goza Madrid",url:"https://realestategozamadrid.com"},applicationSubCategory:"CommunicationApplication",countriesSupported:e.map(e=>({"@type":"Country",name:e.name,identifier:e.code}))};return(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}})}catch(e){return console.error("Error generando datos estructurados para prefijos telef\xf3nicos:",e),null}},c=[{code:"ES",name:"Espa\xf1a",prefix:"+34",continent:"Europa",language:"es-ES"},{code:"US",name:"Estados Unidos",prefix:"+1",continent:"Am\xe9rica del Norte",language:"en-US"},{code:"FR",name:"Francia",prefix:"+33",continent:"Europa",language:"fr-FR"},{code:"GB",name:"Reino Unido",prefix:"+44",continent:"Europa",language:"en-GB"},{code:"DE",name:"Alemania",prefix:"+49",continent:"Europa",language:"de-DE"},{code:"IT",name:"Italia",prefix:"+39",continent:"Europa",language:"it-IT"},{code:"PT",name:"Portugal",prefix:"+351",continent:"Europa",language:"pt-PT"},{code:"MX",name:"M\xe9xico",prefix:"+52",continent:"Am\xe9rica del Norte",language:"es-MX"},{code:"AR",name:"Argentina",prefix:"+54",continent:"Am\xe9rica del Sur",language:"es-AR"},{code:"CO",name:"Colombia",prefix:"+57",continent:"Am\xe9rica del Sur",language:"es-CO"},{code:"CL",name:"Chile",prefix:"+56",continent:"Am\xe9rica del Sur",language:"es-CL"},{code:"PE",name:"Per\xfa",prefix:"+51",continent:"Am\xe9rica del Sur",language:"es-PE"},{code:"VE",name:"Venezuela",prefix:"+58",continent:"Am\xe9rica del Sur",language:"es-VE"},{code:"EC",name:"Ecuador",prefix:"+593",continent:"Am\xe9rica del Sur",language:"es-EC"},{code:"BR",name:"Brasil",prefix:"+55",continent:"Am\xe9rica del Sur",language:"pt-BR"},{code:"CA",name:"Canad\xe1",prefix:"+1",continent:"Am\xe9rica del Norte",language:"en-CA"},{code:"CN",name:"China",prefix:"+86",continent:"Asia",language:"zh-CN"},{code:"JP",name:"Jap\xf3n",prefix:"+81",continent:"Asia",language:"ja-JP"},{code:"AU",name:"Australia",prefix:"+61",continent:"Ocean\xeda",language:"en-AU"},{code:"RU",name:"Rusia",prefix:"+7",continent:"Europa",language:"ru-RU"},{code:"IN",name:"India",prefix:"+91",continent:"Asia",language:"hi-IN"},{code:"NL",name:"Pa\xedses Bajos",prefix:"+31",continent:"Europa",language:"nl-NL"},{code:"BE",name:"B\xe9lgica",prefix:"+32",continent:"Europa",language:"nl-BE"},{code:"CH",name:"Suiza",prefix:"+41",continent:"Europa",language:"de-CH"},{code:"AT",name:"Austria",prefix:"+43",continent:"Europa",language:"de-AT"},{code:"SE",name:"Suecia",prefix:"+46",continent:"Europa",language:"sv-SE"},{code:"NO",name:"Noruega",prefix:"+47",continent:"Europa",language:"no-NO"},{code:"DK",name:"Dinamarca",prefix:"+45",continent:"Europa",language:"da-DK"},{code:"FI",name:"Finlandia",prefix:"+358",continent:"Europa",language:"fi-FI"},{code:"IE",name:"Irlanda",prefix:"+353",continent:"Europa",language:"en-IE"}].map(e=>({...e,searchTerms:"".concat(e.name," ").concat(e.prefix," ").concat(e.code).toLowerCase()})),d=e=>{let{value:a,onChange:r,className:l,id:d="country-prefix"}=e,[m,p]=(0,s.useState)(!1),[x,u]=(0,s.useState)(""),[f,b]=(0,s.useState)(c),[g,h]=(0,s.useState)(-1),j=(0,s.useRef)(null),y=(0,s.useRef)(null),v=c.find(e=>e.prefix===a)||c[0];(0,s.useEffect)(()=>{x?(b(c.filter(e=>e.searchTerms.includes(x.toLowerCase()))),h(-1)):b(c)},[x]),(0,s.useEffect)(()=>{let e=e=>{j.current&&!j.current.contains(e.target)&&(p(!1),h(-1))};return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]);let w=e=>{if(!m){("Enter"===e.key||" "===e.key||"ArrowDown"===e.key)&&(p(!0),e.preventDefault());return}switch(e.key){case"ArrowDown":h(e=>e<f.length-1?e+1:e),e.preventDefault();break;case"ArrowUp":h(e=>e>0?e-1:e),e.preventDefault();break;case"Enter":g>=0&&N(f[g].prefix),e.preventDefault();break;case"Escape":p(!1),h(-1),e.preventDefault()}};(0,s.useEffect)(()=>{if(g>=0&&y.current){let e=y.current.children[g];e&&e.scrollIntoView({block:"nearest"})}},[g]);let N=e=>{r(e),p(!1),u(""),h(-1)};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{children:(0,t.jsx)(i,{countries:c})}),(0,t.jsxs)("div",{className:"relative ".concat(l),ref:j,role:"combobox","aria-expanded":m,"aria-haspopup":"listbox","aria-controls":"".concat(d,"-listbox"),"aria-label":"Selector de pa\xeds y prefijo telef\xf3nico",children:[(0,t.jsxs)("button",{type:"button",className:"flex items-center justify-between w-full p-3 bg-white bg-opacity-20 rounded-lg border border-white border-opacity-20 focus:border-amarillo focus:ring-2 focus:ring-amarillo text-black",onClick:()=>p(!m),onKeyDown:w,"aria-label":"Prefijo seleccionado: ".concat(v.name," (").concat(v.prefix,")"),children:[(0,t.jsx)("span",{className:"flex items-center truncate",children:(0,t.jsx)("span",{className:"ml-0 md:ml-1 text-sm md:text-base",children:v.prefix})}),(0,t.jsx)(o.Vr3,{className:"ml-1 text-xs md:text-sm transition-transform ".concat(m?"transform rotate-180":""),"aria-hidden":"true"})]}),m&&(0,t.jsxs)("div",{className:"absolute z-20 w-full min-w-[180px] mt-1 bg-white rounded-lg shadow-lg max-h-60 overflow-y-auto",role:"presentation",children:[(0,t.jsx)("div",{className:"sticky top-0 bg-white p-2 border-b z-10",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(o.KSO,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400","aria-hidden":"true"}),(0,t.jsx)("input",{type:"text",value:x,onChange:e=>u(e.target.value),placeholder:"Buscar pa\xeds o prefijo",className:"w-full pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-amarillo text-sm","aria-label":"Buscar pa\xeds o prefijo telef\xf3nico",role:"searchbox"})]})}),(0,t.jsxs)("ul",{ref:y,role:"listbox",id:"".concat(d,"-listbox"),"aria-label":"Lista de pa\xedses y prefijos telef\xf3nicos",className:"py-1",children:[f.map((e,r)=>(0,t.jsx)("li",{role:"option","aria-selected":e.prefix===a,className:"".concat(g===r?"bg-gray-100":""),children:(0,t.jsxs)("button",{type:"button",className:"flex items-center w-full px-4 py-2 text-left hover:bg-gray-100 text-sm md:text-base",onClick:()=>N(e.prefix),onKeyDown:w,children:[(0,t.jsx)("span",{className:"font-medium truncate",children:e.name}),(0,t.jsx)("span",{className:"ml-auto text-gray-500 whitespace-nowrap",children:e.prefix})]})},e.code)),0===f.length&&(0,t.jsx)("li",{className:"px-4 py-2 text-gray-500 text-center text-sm",role:"alert",children:"No se encontraron resultados"})]})]})]})]})}},87375:(e,a,r)=>{"use strict";r.d(a,{$g:()=>s,_z:()=>l,vf:()=>o});let t=e=>{let a;return e&&"Consultar"!==e?isNaN(a="string"==typeof e?parseFloat(e.replace(/[^\d.-]/g,"")):e)||a<=0?0:(a<1e4&&a>=50&&(a*=1e3),a<5e4&&a>=10&&("string"==typeof e?parseFloat(e.replace(/[^\d.-]/g,"")):e)<100&&(a*=1e3),a):0},s=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{currency:r="EUR",minimumFractionDigits:s=0,maximumFractionDigits:o=0,showCurrency:l=!0}=a,n=t(e);return 0===n?"Consultar precio":l?new Intl.NumberFormat("es-ES",{style:"currency",currency:r,minimumFractionDigits:s,maximumFractionDigits:o}).format(n):new Intl.NumberFormat("es-ES",{minimumFractionDigits:s,maximumFractionDigits:o}).format(n)},o=e=>t(e),l=e=>{let a=t(e);if(a<=0)return[];let r=[];return r.push({label:"5% menos",value:Math.round(.95*a),percentage:-5}),r.push({label:"10% menos",value:Math.round(.9*a),percentage:-10}),r.push({label:"15% menos",value:Math.round(.85*a),percentage:-15}),r.push({label:"Precio publicado",value:a,percentage:0}),r}},97125:(e,a,r)=>{"use strict";r.r(a),r.d(a,{__N_SSP:()=>A,default:()=>M});var t=r(37876),s=r(89099),o=r(14232),l=r(77328),n=r.n(l),i=r(5031),c=r.n(i),d=r(6420),m=r(98928),p=r(48230),x=r.n(p),u=r(39200),f=r.n(u);r(36556);var b=r(21407),g=r(25486),h=r(40103),j=r(27125),y=r(57446),v=r(59688);r(82427),r(68827),r(64513);var w=r(87375);r(65364).env.NEXT_PUBLIC_API_URL;let N=e=>{console.log("[extractPropertyData] Recibido objeto property:",JSON.stringify(e,null,2));let a={livingArea:0,bedrooms:0,bathrooms:0,floor:0};if(!e)return console.log("[extractPropertyData] Propiedad nula, devolviendo valores por defecto."),a;try{let r=e.source||(e._id?"mongodb":null);if(console.log("[extractPropertyData] Fuente determinada: ".concat(r)),"woocommerce"===r){let r=0,t=0,s=0,o=0;if(e.features&&(r=parseInt(e.features.area,10)||0,t=parseInt(e.features.bedrooms,10)||0,s=parseInt(e.features.bathrooms,10)||0,o=parseInt(e.features.floor,10)||0),0===r&&(r=parseInt(e.area,10)||parseInt(e.size,10)||parseInt(e.m2,10)||0),0===t&&(t=parseInt(e.bedrooms,10)||parseInt(e.rooms,10)||0),0===s&&(s=parseInt(e.bathrooms,10)||parseInt(e.banos,10)||0),(0===r||0===t||0===s)&&e.meta_data&&Array.isArray(e.meta_data)&&e.meta_data.forEach(e=>{0===r&&["living_area","superficie","area","metros","m2"].includes(e.key)&&e.value&&(r=parseInt(e.value,10)||0),0===t&&["bedrooms","dormitorios","habitaciones"].includes(e.key)&&e.value&&(t=parseInt(e.value,10)||0),0===s&&["ba\xf1os","bathrooms","banos"].includes(e.key)&&e.value&&"-1"!==e.value&&(s=parseInt(e.value,10)||0),0===o&&["Planta","planta","floor"].includes(e.key)&&e.value&&(o=parseInt(e.value,10)||0)}),(0===r||0===t||0===s)&&e.metadata){let a=e.metadata;0===r&&(a.living_area?r=parseInt(a.living_area,10)||0:a.superficie?r=parseInt(a.superficie,10)||0:a.area?r=parseInt(a.area,10)||0:a.metros?r=parseInt(a.metros,10)||0:a.m2&&(r=parseInt(a.m2,10)||0)),0===s&&(a.baños?s=parseInt(a.baños,10)||0:a.bathrooms?s=parseInt(a.bathrooms,10)||0:a.banos&&(s=parseInt(a.banos,10)||0)),0===t&&(a.bedrooms?t=parseInt(a.bedrooms,10)||0:a.habitaciones?t=parseInt(a.habitaciones,10)||0:a.dormitorios&&(t=parseInt(a.dormitorios,10)||0))}a={livingArea:r,bedrooms:t,bathrooms:s,floor:o}}else if("mongodb"===r){let r=0;e.m2?r=parseInt(e.m2,10)||0:e.area?r=parseInt(e.area,10)||0:e.livingArea?r=parseInt(e.livingArea,10)||0:e.size?r=parseInt(e.size,10)||0:e.features&&e.features.area&&(r=parseInt(e.features.area,10)||0);let t=0;e.bathrooms?t=parseInt(e.bathrooms,10)||0:e.features&&e.features.bathrooms&&(t=parseInt(e.features.bathrooms,10)||0);let s=parseInt(e.bedrooms,10)||e.features&&parseInt(e.features.bedrooms,10)||0,o=parseInt(e.piso,10)||parseInt(e.floor,10)||e.features&&parseInt(e.features.floor,10)||0;a={livingArea:r,bedrooms:s,bathrooms:t,floor:o}}else a={livingArea:parseInt(e.living_area,10)||parseInt(e.size,10)||0,bedrooms:parseInt(e.bedrooms,10)||0,bathrooms:parseInt(e.bathrooms,10)||parseInt(e.baños,10)||0,floor:parseInt(e.floor,10)||parseInt(e.Planta,10)||0}}catch(e){console.error("[extractPropertyData] Error extrayendo datos:",e),a={livingArea:0,bedrooms:0,bathrooms:0,floor:0}}return console.log("[extractPropertyData] Datos extra\xeddos:",a),a},E=e=>e?e.startsWith("/")||e.includes("/api/proxy-image")?e:"/api/proxy-image?url=".concat(encodeURIComponent(e)):"/img/default-property-image.jpg",k=e=>{if(!e)return[];let a=[];try{"woocommerce"===e.source||"woocommerce_direct"===e.source||!e.source&&e.images?e.images&&Array.isArray(e.images)&&e.images.forEach((r,t)=>{let s="";if("string"==typeof r?s=r:"object"==typeof r&&(s=r.src||r.url||r.source_url||""),s){let r=E(s);a.push({id:t,src:r,alt:e.title||e.name||"Imagen de propiedad",original:s})}}):("mongodb"===e.source||e._id)&&e.images&&Array.isArray(e.images)&&e.images.forEach((r,t)=>{let s="";if("string"==typeof r?s=r:"object"==typeof r&&(s=r.url||r.src||""),s){let r=E(s);a.push({id:t,src:r,alt:e.title||"Imagen de propiedad",original:s})}})}catch(e){}return a},C=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160;if(!e)return"";let r=e.replace(/<[^>]*>/g,"");return r.length>a?r.substring(0,a)+"...":r},I=e=>{if(!e)return"";let a=e;try{a=(a=(a=(a=(a=(a=(a=a.replace(/\[vc_row[^\]]*\]/g,"")).replace(/\[\/vc_row\]/g,"")).replace(/\[vc_column[^\]]*\]/g,"")).replace(/\[\/vc_column\]/g,"")).replace(/\[vc_column_text[^\]]*\]/g,"")).replace(/\[\/vc_column_text\]/g,"")).replace(/<p/g,'<p class="mb-4"')}catch(a){return console.error("Error en la limpieza del contenido:",a),e}return a.trim().length<50&&e.length>100?e:a};function S(e){let{property:a}=e,[r,s]=(0,o.useState)(0),[l,i]=(0,o.useState)(!1),[p,u]=(0,o.useState)(null),[E,S]=(0,o.useState)(null),_=(0,o.useRef)(null),[P,A]=(0,o.useState)(!1),[M,L]=(0,o.useState)(null),z=(0,o.useRef)(null),[R,T]=(0,o.useState)(""),[D,O]=(0,o.useState)(""),[U,F]=(0,o.useState)(""),[B,H]=(0,o.useState)(""),[V,q]=(0,o.useState)(""),[X,G]=(0,o.useState)(!0),[J,K]=(0,o.useState)({}),[W,Z]=(0,o.useState)({livingArea:0,bedrooms:0,bathrooms:0,floor:0}),[$,Q]=(0,o.useState)(a),[Y,ee]=(0,o.useState)({lat:40.4167,lng:-3.7037}),[ea,er]=(0,o.useState)("");(0,o.useEffect)(()=>{let e=e=>{e.detail&&e.detail.property&&Q(e.detail.property)};document.addEventListener("property-data-available",e),document.addEventListener("mongodb-property-loaded",e);let a=document.querySelector(".property-content");return a&&a.setAttribute("data-property-component","true"),()=>{document.removeEventListener("property-data-available",e),document.removeEventListener("mongodb-property-loaded",e)}},[]),(0,o.useEffect)(()=>{q(window.location.href)},[]);let et=(0,o.useMemo)(()=>k($),[$]);(0,o.useEffect)(()=>{$&&Z(N($))},[$]),(0,o.useEffect)(()=>{if(!$)return;let e="",a=$.description||$.content||$.shortDescription||"";if(a)try{e="woocommerce"===$.source||$.id?I(a):a}catch(r){console.error("Error al procesar contenido:",r),e=a}(!e||e.trim().length<20)&&(e=a),H(e)},[$]);let es=e=>{if(console.error("Error al cargar imagen:",e.target.src),"true"===e.target.getAttribute("data-retried")){let a=e.target.parentNode;if(a){let r=document.createElement("div");r.className="w-full h-full flex items-center justify-center bg-gray-800";let t=document.createElement("p");t.className="text-2xl text-gray-400",t.textContent="Imagen no disponible",r.appendChild(t),a.replaceChild(r,e.target)}return}if(e.target.setAttribute("data-retried","true"),e.target.src&&!e.target.src.includes("images.weserv.nl")&&e.target.src.startsWith("http")){let a="https://images.weserv.nl/?url=".concat(encodeURIComponent(e.target.src),"&n=-1");e.target.src=a}else{let a=e.target.parentNode;if(a){let r=document.createElement("div");r.className="w-full h-full flex items-center justify-center bg-gray-800";let t=document.createElement("p");t.className="text-2xl text-gray-400",t.textContent="Imagen no disponible",r.appendChild(t),a.replaceChild(r,e.target)}}G(!1),K(e=>({...e,[r]:!0}))};if((0,o.useEffect)(()=>{J[r]?G(!1):G(!0)},[r,J]),(0,o.useEffect)(()=>{if(et.length<=1)return;let e=(r+1)%et.length,a=(r-1+et.length)%et.length;if(et[e]&&!J[e]){let a=new window.Image;a.src=et[e].src,a.onload=()=>{K(a=>({...a,[e]:!0}))},a.onerror=()=>{console.warn("[PropertyContent] Error pre-loading image: ".concat(et[e].src)),K(a=>({...a,[e]:!0}))}}if(et[a]&&!J[a]){let e=new window.Image;e.src=et[a].src,e.onload=()=>{K(e=>({...e,[a]:!0}))},e.onerror=()=>{console.warn("[PropertyContent] Error pre-loading image: ".concat(et[a].src)),K(e=>({...e,[a]:!0}))}}},[r,et,J]),(0,o.useEffect)(()=>{ee((()=>{if(!$)return{lat:40.4167,lng:-3.7037};try{if($.coordinates){let{lat:e,lng:a}=$.coordinates;if(e&&a&&!isNaN(e)&&!isNaN(a))return{lat:parseFloat(e),lng:parseFloat(a)}}if($.meta_data&&Array.isArray($.meta_data)){let e=$.meta_data.find(e=>"coordinates"===e.key||"location"===e.key||"map_location"===e.key);if(e&&e.value){let a=e.value;if("string"==typeof a&&a.includes(",")){let[e,r]=a.split(",").map(e=>parseFloat(e.trim()));if(!isNaN(e)&&!isNaN(r))return{lat:e,lng:r}}if("object"==typeof a&&a.lat&&a.lng){let e=parseFloat(a.lat),r=parseFloat(a.lng);if(!isNaN(e)&&!isNaN(r))return{lat:e,lng:r}}}}return{lat:40.4167,lng:-3.7037}}catch(e){return console.error("Error al extraer ubicaci\xf3n para el mapa:",e),{lat:40.4167,lng:-3.7037}}})()),er((()=>{if(!$)return"Madrid, Espa\xf1a";try{let e="";if($.name){let a=$.name.trim();if(a.match(/calle|avenida|plaza|paseo|vía|c\/|avda\.|pl\.|pº\.|principe|alcalde|jorge|lope|castelló|castelló|goya/i))return(e=a).toLowerCase().includes("madrid")||(e+=", Madrid"),e;e=a}if($.address&&!e)if("object"==typeof $.address)if($.address.address){let a=$.address.address.toString();e=a.toLowerCase().includes("spain")||a.toLowerCase().includes("espa\xf1a")||a.toLowerCase().includes("madrid")||a.toLowerCase().includes("barcelona")?a:$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}else if($.address.lat&&$.address.lng){let a=parseFloat($.address.lat),r=parseFloat($.address.lng);if(!isNaN(a)&&!isNaN(r))if(ee({lat:a,lng:r}),r>=-10&&r<=5&&a>=35&&a<=44){let a=[];if($.address.street_name&&a.push($.address.street_name),$.address.city&&a.push($.address.city),a.length>0){let r=a.join(", ").toLowerCase();r.includes("australia")||r.includes("canada")||r.includes("germany")||r.includes("usa")||r.includes("united states")?e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a":((e=a.join(", ")).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a"))}else e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}else e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}else try{let a=Object.values($.address).filter(e=>{if("string"!=typeof e)return!1;let a=e.toLowerCase().trim();return""!==a&&!a.includes("australia")&&!a.includes("canada")&&!a.includes("germany")&&!a.includes("usa")&&!a.includes("united states")}).join(", ");a?((e=a).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a")):e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}catch(a){console.error("Error al procesar direcci\xf3n compleja:",a),e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}else{let a=$.address.toString().toLowerCase();a.includes("spain")||a.includes("espa\xf1a")||a.includes("madrid")||a.includes("barcelona")?e=$.address:a.includes("australia")||a.includes("canada")||a.includes("germany")||a.includes("usa")||a.includes("united states")?e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a":((e=$.address).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a"))}else if($.location&&!e)if("object"==typeof $.location)try{let a=Object.values($.location).filter(e=>{if("string"!=typeof e)return!1;let a=e.toLowerCase().trim();return""!==a&&!a.includes("australia")&&!a.includes("canada")&&!a.includes("germany")&&!a.includes("usa")&&!a.includes("united states")}).join(", ");a?((e=a).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a")):e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}catch(a){console.error("Error al procesar location compleja:",a),e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a"}else{let a=$.location.toString().toLowerCase();a.includes("spain")||a.includes("espa\xf1a")||a.includes("madrid")||a.includes("barcelona")?e=$.location:a.includes("australia")||a.includes("canada")||a.includes("germany")||a.includes("usa")||a.includes("united states")?e=$.name?$.name+", Madrid, Espa\xf1a":"Madrid, Espa\xf1a":((e=$.location).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a"))}else if($.meta_data&&Array.isArray($.meta_data)&&!e)for(let a of["address","direccion","location","ubicacion"]){let r=$.meta_data.find(e=>e.key.toLowerCase()===a.toLowerCase());if(r&&r.value)if("object"==typeof r.value)try{if(r.value.address){let a=r.value.address.toString().toLowerCase();if(a.includes("spain")||a.includes("espa\xf1a")||a.includes("madrid")||a.includes("barcelona"))e=r.value.address;else{if(a.includes("australia")||a.includes("canada")||a.includes("germany")||a.includes("usa")||a.includes("united states"))continue;(e=r.value.address).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a")}break}if(r.value.lat&&r.value.lng){let e=parseFloat(r.value.lat),a=parseFloat(r.value.lng);if(!isNaN(e)&&!isNaN(a)){if(!(a>=-10&&a<=5&&e>=35&&e<=44))continue;ee({lat:e,lng:a});break}}let a=Object.values(r.value).filter(e=>{if("string"!=typeof e)return!1;let a=e.toLowerCase().trim();return""!==a&&!a.includes("australia")&&!a.includes("canada")&&!a.includes("germany")&&!a.includes("usa")&&!a.includes("united states")}).join(", ");if(a){(e=a).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a");break}}catch(e){console.error("Error al procesar meta_data compleja:",e);continue}else{let a=r.value.toString().toLowerCase();if(a.includes("spain")||a.includes("espa\xf1a")||a.includes("madrid")||a.includes("barcelona")){e=r.value;break}if(a.includes("australia")||a.includes("canada")||a.includes("germany")||a.includes("usa")||a.includes("united states"))continue;(e=r.value).toLowerCase().includes("madrid")||(e+=", Madrid"),e.toLowerCase().includes("espa\xf1a")||(e+=", Espa\xf1a");break}}if(!e&&$.name&&(e=$.name),!e&&($.title||$.name)){let a=$.title||$.name,r=a.match(/en\s+([A-Za-zÀ-ÖØ-öø-ÿ\s]+)/i);e=r&&r[1]?"".concat(r[1],", Madrid, Espa\xf1a"):a}e||(e="Madrid, Espa\xf1a"),e.toLowerCase().includes("madrid")?!e.toLowerCase().includes("espa\xf1a")&&e.toLowerCase().includes("madrid")&&(e="".concat(e,", Espa\xf1a")):e="".concat(e,", Madrid, Espa\xf1a");let a=e.toLowerCase();if(a.includes("australia")||a.includes("canada")||a.includes("germany")||a.includes("duisburg")||a.includes("kardinya")||a.includes("qc")||a.includes("wa")||a.includes("king est"))return $.name?"".concat($.name,", Madrid, Espa\xf1a"):"Madrid, Espa\xf1a";return"string"!=typeof e&&(console.error("La direcci\xf3n no es un string:",e),e="Madrid, Espa\xf1a"),e}catch(e){return console.error("Error al extraer direcci\xf3n:",e),"Madrid, Espa\xf1a"}})())},[$]),console.log("[PropertyContent Render] Estado propertyData:",W),!$)return(0,t.jsx)("div",{className:"container mx-auto py-8 text-center",children:(0,t.jsx)("p",{className:"text-lg",children:"Informaci\xf3n de la propiedad no disponible"})});let eo=$.title||$.name||"Propiedad sin t\xedtulo",el=B||$.description||"",en=$.price,ei=(0,w.$g)(en),ec=$.location||"Madrid, Espa\xf1a",ed=$.type||"Propiedad",em="string"==typeof ec?ec:(null==ec?void 0:ec.toString())||"Madrid",ep="".concat(eo," | Propiedad en ").concat(em),ex=C(el,160)||"".concat(ed," en ").concat(em,". ").concat(W.bedrooms>0?W.bedrooms+" habitaciones, ":"").concat(W.bathrooms>0?W.bathrooms+" ba\xf1os, ":"").concat(W.livingArea>0?W.livingArea+" m\xb2. ":""),eu="".concat(ed,", ").concat(em,", inmobiliaria, comprar, alquilar, ").concat(W.bedrooms>0?W.bedrooms+" habitaciones, ":"").concat(W.livingArea>0?W.livingArea+" m\xb2, ":""),ef=et&&et.length>0?et[0].src:"/img/default-property-image.jpg",eb="string"==typeof ec?ec:(null==ec?void 0:ec.toString())||"Madrid",eg={"@context":"https://schema.org","@type":"RealEstateListing",name:eo,description:C(el,500),url:V,image:et.map(e=>e.src),address:{"@type":"PostalAddress",addressLocality:em.split(",")[0]||"Madrid",addressRegion:"Madrid",addressCountry:"ES"},offers:{"@type":"Offer",price:"number"==typeof en?en:"string"==typeof en?en.replace(/[^\d]/g,""):"",priceCurrency:"EUR",availability:"https://schema.org/InStock"},numberOfRooms:(null==W?void 0:W.bedrooms)||void 0,numberOfBathroomsTotal:(null==W?void 0:W.bathrooms)||void 0,floorSize:{"@type":"QuantitativeValue",value:(null==W?void 0:W.livingArea)||void 0,unitCode:"MTK"},datePosted:$.date||$.createdAt||$.updatedAt||"2023-01-01T00:00:00.000Z",mainEntityOfPage:V};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{className:"jsx-3ca4eb49aef0a10",children:ep}),(0,t.jsx)("meta",{name:"description",content:ex,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"keywords",content:eu,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"robots",content:"index, follow",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("link",{rel:"canonical",href:V,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:title",content:"".concat(eo," | ").concat(ei),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:description",content:ex,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:image",content:ef,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:image:alt",content:"Imagen de ".concat(eo),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:url",content:V,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:type",content:"website",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:site_name",content:"Goza Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:locale",content:"es_ES",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:card",content:"summary_large_image",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:title",content:"".concat(eo," | ").concat(ei),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:description",content:ex,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:image",content:ef,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:image:alt",content:"Imagen de ".concat(eo),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:site",content:"@gozamadrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"geo.region",content:"ES-MD",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"geo.placename",content:eb.split(",")[0]||"Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"author",content:"Goza Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"publisher",content:"Goza Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(eg)},className:"jsx-3ca4eb49aef0a10"})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 container mx-auto px-4 py-8",children:[(0,t.jsxs)("article",{itemScope:!0,itemType:"https://schema.org/RealEstateListing",className:"jsx-3ca4eb49aef0a10 relative",children:[(0,t.jsx)("meta",{itemProp:"name",content:eo,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"description",content:C(el,500),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"url",content:V,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"datePosted",content:$.date||$.createdAt||$.updatedAt||"2023-01-01T00:00:00.000Z",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"propertyType",content:ed,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"numberOfRooms",content:(null==W?void 0:W.bedrooms)||0,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"numberOfBathroomsTotal",content:(null==W?void 0:W.bathrooms)||0,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"floorSize",content:(null==W?void 0:W.livingArea)||0,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"floorSizeUnit",content:"MTK",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"price",content:"number"==typeof en?en:"string"==typeof en?en.replace(/[^\d]/g,""):"",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"priceCurrency",content:"EUR",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mb-12 bg-gradient-to-r from-black/80 via-black/70 to-black/80 backdrop-blur-xl p-10 rounded-[2rem] border border-amarillo/20 shadow-2xl relative overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 bg-gradient-to-r from-amarillo/5 via-amarillo/10 to-amarillo/5 animate-shimmer"}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col lg:flex-row lg:items-center lg:justify-between relative z-10",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 lg:mr-8",children:[(0,t.jsx)("h1",{itemProp:"name",className:"jsx-3ca4eb49aef0a10 text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight leading-tight",children:eo}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10  items-center mt-4 bg-black/30 backdrop-blur-md px-4 py-3 rounded-xl inline-block",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo p-2 rounded-lg mr-3",children:(0,t.jsx)(m.vq8,{className:"text-black text-xl"})}),(0,t.jsx)("p",{itemProp:"address",itemScope:!0,itemType:"https://schema.org/PostalAddress",className:"jsx-3ca4eb49aef0a10 text-xl text-white font-light",children:(0,t.jsx)("span",{itemProp:"addressLocality",className:"jsx-3ca4eb49aef0a10",children:em})})]})]}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 mt-8 lg:mt-0",children:(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo py-4 px-8 rounded-2xl inline-flex items-center shadow-xl transform hover:scale-105 transition-all duration-500 group",children:[(0,t.jsx)(m.q83,{className:"text-3xl text-black mr-3"}),(0,t.jsxs)("p",{itemProp:"offers",itemScope:!0,itemType:"https://schema.org/Offer",className:"jsx-3ca4eb49aef0a10 text-3xl font-bold text-black tracking-wide",children:[(0,t.jsx)("span",{itemProp:"price",className:"jsx-3ca4eb49aef0a10",children:ei}),(0,t.jsx)("meta",{itemProp:"priceCurrency",content:"EUR",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"availability",content:"https://schema.org/InStock",className:"jsx-3ca4eb49aef0a10"})]})]})})]})]}),(0,t.jsxs)("section",{"aria-label":"Galer\xeda de im\xe1genes",className:"jsx-3ca4eb49aef0a10 flex flex-col mb-16",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 relative w-full h-[75vh] mb-8 rounded-[2rem] overflow-hidden shadow-2xl border border-amarillo/20 group",children:[X&&!J[r]&&et.length>0&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 z-10 flex items-center justify-center bg-black/90",children:(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 w-24 h-12 relative",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute left-0 w-12 h-12 rounded-full border-4 border-amarillo animate-[spin_2s_linear_infinite]"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute right-0 w-12 h-12 rounded-full border-4 border-amarillo animate-[spin_2s_linear_infinite_reverse]"})]})}),et&&et.length>0?(0,t.jsx)(b.P.img,{src:et[r].src,alt:et[r].alt||"".concat(eo," - Imagen ").concat(r+1),className:"w-full h-full object-cover transition-transform duration-3000 group-hover:scale-110",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7},onError:es,onLoad:()=>{G(!1),K(e=>({...e,[r]:!0}))},loading:"eager",itemProp:"image"},r):(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 w-full h-full flex items-center justify-center bg-gray-800",children:(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-2xl text-gray-400",children:"Sin im\xe1genes disponibles"})}),et.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{let e=(r-1+et.length)%et.length;s(e),J[e]||G(!0)},"aria-label":"Imagen anterior",className:"jsx-3ca4eb49aef0a10 absolute left-6 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-amarillo text-white hover:text-black p-6 rounded-full transition-all duration-500 hover:scale-110 shadow-xl group",children:(0,t.jsx)(m._Jj,{className:"text-xl group-hover:transform group-hover:-translate-x-1 transition-transform"})}),(0,t.jsx)("button",{onClick:()=>{let e=(r+1)%et.length;s(e),J[e]||G(!0)},"aria-label":"Imagen siguiente",className:"jsx-3ca4eb49aef0a10 absolute right-6 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-amarillo text-white hover:text-black p-6 rounded-full transition-all duration-500 hover:scale-110 shadow-xl group",children:(0,t.jsx)(m.X6T,{className:"text-xl group-hover:transform group-hover:translate-x-1 transition-transform"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 absolute bottom-6 right-6 bg-black/60 backdrop-blur-xl text-white px-6 py-3 rounded-2xl text-lg font-light tracking-wider shadow-xl border border-white/10",children:[r+1," / ",et.length]})]})]}),et.length>0?(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-black/80 backdrop-blur-xl p-6 rounded-[2rem] border border-amarillo/20 shadow-2xl hidden sm:block",children:[(0,t.jsxs)("h3",{className:"jsx-3ca4eb49aef0a10 text-xl text-white mb-4 font-light text-center",children:[et.length," im\xe1genes disponibles"]}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-wrap justify-center gap-4",children:et.map((e,a)=>(0,t.jsxs)("button",{onClick:()=>s(a),"aria-label":"Ver imagen ".concat(a+1),"aria-current":r===a?"true":"false",className:"jsx-3ca4eb49aef0a10 "+"relative w-28 h-28 rounded-xl overflow-hidden transition-all duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amarillo \n                        ".concat(r===a?"ring-4 ring-amarillo scale-105":"opacity-50 hover:opacity-100"),children:[(0,t.jsx)("img",{src:e.src,alt:e.alt||"".concat(eo," - Miniatura ").concat(a+1),onError:es,className:"jsx-3ca4eb49aef0a10 w-full h-full object-cover"}),r===a&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 bg-amarillo/20 border-2 border-amarillo"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute bottom-1 right-1 bg-black/70 text-white text-xs px-2 py-1 rounded-lg",children:a+1})]},"thumb-".concat(a)))})]}):(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-black/80 backdrop-blur-xl p-6 rounded-[2rem] border border-amarillo/20 shadow-2xl hidden sm:block",children:(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-xl text-white mb-4 font-light text-center",children:"No hay im\xe1genes disponibles"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-12 mb-16 bg-black/80 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-amarillo/20 overflow-hidden",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-8 border-b border-amarillo/20 flex items-center",children:[(0,t.jsx)(d.SPy,{className:"text-amarillo mr-4 text-4xl"}),(0,t.jsx)("h2",{className:"jsx-3ca4eb49aef0a10 text-3xl font-bold  tracking-wide !text-amarillo",children:"Caracter\xedsticas Premium"})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 p-10",children:[(null==W?void 0:W.livingArea)>0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.c7S,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsxs)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:[W.livingArea," m\xb2"]}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Superficie"})]})]}),(null==W?void 0:W.bedrooms)!==void 0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.TiC,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:W.bedrooms}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Habitaciones"})]})]}),(null==W?void 0:W.bathrooms)!==void 0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.F6e,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:W.bathrooms}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Ba\xf1os"})]})]}),(null==W?void 0:W.floor)>0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.ymh,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsxs)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:[W.floor,"\xaa"]}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Planta"})]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-12 mb-16 bg-black/80 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-amarillo/20 overflow-hidden",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-8 border-b border-amarillo/20 flex items-center",children:[(0,t.jsx)(m.vq8,{className:"text-amarillo mr-4 text-4xl"}),(0,t.jsx)("h2",{className:"jsx-3ca4eb49aef0a10 text-3xl font-bold tracking-wide !text-amarillo",children:"Ubicaci\xf3n Premium"})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6",children:[(0,t.jsx)("div",{style:{height:"400px"},className:"jsx-3ca4eb49aef0a10 rounded-xl overflow-hidden shadow-2xl border border-amarillo/20",children:(0,t.jsx)("iframe",{src:"string"==typeof ea?"https://www.google.com/maps?q=".concat(encodeURIComponent(ea),"&output=embed"):"https://www.google.com/maps?q=".concat(Y.lat,",").concat(Y.lng,"&output=embed"),width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Ubicaci\xf3n de la propiedad",className:"jsx-3ca4eb49aef0a10"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-6 text-center",children:[(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-white text-lg",children:"string"==typeof ea?ea:"Madrid, Espa\xf1a"}),(0,t.jsxs)("a",{href:"string"==typeof ea?"https://www.google.com/maps/dir/?api=1&destination=".concat(encodeURIComponent(ea)):"https://www.google.com/maps/dir/?api=1&destination=".concat(Y.lat,",").concat(Y.lng),target:"_blank",rel:"noopener noreferrer",className:"jsx-3ca4eb49aef0a10 inline-flex items-center gap-2 mt-4 bg-amarillo text-black px-4 py-2 rounded-lg hover:bg-amarillo/90 transition-colors",children:[(0,t.jsx)(m.vq8,{})," C\xf3mo llegar"]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-12 bg-black/80 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-amarillo/20 overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 p-8 border-b border-amarillo/20",children:(0,t.jsx)("h2",{className:"jsx-3ca4eb49aef0a10 text-3xl font-bold tracking-wide !text-white",children:"Descripci\xf3n Exclusiva"})}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 p-10",children:B?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:B},itemProp:"description",className:"jsx-3ca4eb49aef0a10 prose prose-xl max-w-none text-gray-100 prose-headings:text-white prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl prose-h1:font-bold prose-h2:font-bold prose-h3:font-medium prose-p:text-gray-200 prose-p:leading-relaxed prose-li:text-gray-200 prose-strong:text-amarillo prose-a:text-amarillo hover:prose-a:text-amarillo/80 prose-img:rounded-2xl prose-h2:!text-white prose-h2:before:!text-amarillo prose-h2:after:!text-amarillo [&>h2]:!text-white [&>h2]:before:!text-amarillo [&>h2]:after:!text-amarillo"}):(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 text-white",children:$.description?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:$.description},className:"jsx-3ca4eb49aef0a10"}):$.content?(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:$.content},className:"jsx-3ca4eb49aef0a10"}):(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-gray-400 italic",children:"No hay descripci\xf3n disponible para esta propiedad."})})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col sm:flex-row justify-center gap-6 md:gap-8 my-16",children:[(0,t.jsxs)("button",{onClick:()=>i(!0),"aria-label":"Agendar visita privada",className:"jsx-3ca4eb49aef0a10 group relative inline-flex items-center gap-3 overflow-hidden rounded-2xl bg-black/80 px-8 py-6 transition-all duration-500 hover:bg-black backdrop-blur-xl border border-amarillo/20 shadow-2xl hover:shadow-amarillo/20",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo p-3 rounded-xl",children:(0,t.jsx)(m.bfZ,{className:"text-2xl text-black"})}),(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10 text-xl font-semibold text-white tracking-wide group-hover:text-amarillo transition-colors",children:"Agendar Visita Privada"})]}),(0,t.jsxs)("button",{onClick:()=>A(!0),"aria-label":"Realizar oferta por esta propiedad",className:"jsx-3ca4eb49aef0a10 group relative inline-flex items-center gap-3 overflow-hidden rounded-2xl bg-black/80 px-8 py-6 transition-all duration-500 hover:bg-black backdrop-blur-xl border border-amarillo/20 shadow-2xl hover:shadow-amarillo/20",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo p-3 rounded-xl",children:(0,t.jsx)(m.DDN,{className:"text-2xl text-black"})}),(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10 text-xl font-semibold text-white tracking-wide group-hover:text-amarillo transition-colors",children:"Realizar Oferta"})]})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/90 to-black/80 rounded-[2rem] shadow-2xl p-12 text-center mt-16 border border-amarillo/20 backdrop-blur-xl relative overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 bg-gradient-to-r from-amarillo/5 via-amarillo/10 to-amarillo/5 animate-shimmer"}),(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-3xl font-semibold text-white mb-8 tracking-wide relative z-10",children:"\xbfDesea m\xe1s informaci\xf3n sobre esta propiedad exclusiva?"}),(0,t.jsx)(x(),{href:"/contacto",children:(0,t.jsxs)("button",{"aria-label":"Contactar para m\xe1s informaci\xf3n",className:"jsx-3ca4eb49aef0a10 group relative inline-flex items-center gap-3 overflow-hidden rounded-2xl bg-amarillo px-8 py-6 transition-all duration-500 hover:bg-amarillo/90 shadow-2xl hover:scale-105",children:[(0,t.jsx)(m.maD,{className:"text-2xl text-black"}),(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10 text-xl font-semibold text-black tracking-wide",children:"Contacto Personalizado"})]})})]})]}),l&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-start justify-center p-4 pt-8 animate-fadeIn overflow-y-auto",children:(0,t.jsxs)("div",{ref:_,className:"jsx-3ca4eb49aef0a10 bg-black/95 rounded-[2rem] p-10 max-w-xl w-full mx-auto shadow-2xl border border-amarillo/20 animate-scaleIn backdrop-blur-xl my-4",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-2xl font-bold text-white",children:"Agenda una visita"}),(0,t.jsx)("button",{onClick:()=>i(!1),className:"jsx-3ca4eb49aef0a10 text-gray-400 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",children:(0,t.jsx)(m.QCr,{className:"text-xl"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 relative z-50",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-2",children:"Selecciona un d\xeda"}),(0,t.jsx)(f(),{selected:p,onChange:e=>u(e),filterDate:e=>e>=new Date&&0!==e.getDay()&&6!==e.getDay(),minDate:new Date,maxDate:(0,g.default)(new Date,30),locale:y.A,placeholderText:"Selecciona una fecha",className:"w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none",dateFormat:"dd/MM/yyyy",required:!0,popperClassName:"date-picker-popper",popperPlacement:"bottom",popperModifiers:[{name:"preventOverflow",options:{boundary:"viewport",padding:20}}]})]}),p&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-2",children:"Selecciona una hora"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 grid grid-cols-2 gap-2",children:Array.from({length:10},(e,a)=>{let r=(0,h.default)((0,j.default)(new Date,0),a+9);return(0,t.jsxs)("button",{onClick:()=>S(r),className:"jsx-3ca4eb49aef0a10 "+"p-3 rounded-lg transition-transform hover:scale-105 font-medium ".concat(E&&r.getHours()===E.getHours()?"bg-amarillo text-white shadow-md":"bg-gray-800 hover:bg-gray-700 text-white border border-gray-700"),children:[r.getHours(),":00"]},a)})})]}),p&&E&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gray-800/70 p-5 rounded-lg border border-gray-700",children:[(0,t.jsxs)("h3",{className:"jsx-3ca4eb49aef0a10 text-lg font-semibold mb-4 flex items-center text-white",children:[(0,t.jsx)(m.x$1,{className:"mr-2 text-amarillo"}),"Datos de contacto"]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-4",children:[(0,t.jsx)("input",{type:"email",value:R,onChange:e=>T(e.target.value),placeholder:"Email de contacto",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"text",value:D,onChange:e=>O(e.target.value),placeholder:"Nombre completo",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"tel",value:U,onChange:e=>F(e.target.value),placeholder:"Tel\xe9fono",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"})]})]}),p&&E&&R&&D&&U&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>i(!1),className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-all duration-300 font-medium border border-gray-700",children:"Cancelar"}),(0,t.jsx)("button",{onClick:async()=>{try{let e={property:$.id||$._id||"",propertyAddress:$.title||$.name||"Propiedad sin t\xedtulo",date:p?p.toLocaleDateString("es-ES"):"",time:E?E.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"",name:D,email:R,phone:U,message:"Solicitud de visita para la propiedad ".concat($.title||$.name||"Propiedad sin t\xedtulo"," el d\xeda ").concat(p?p.toLocaleDateString("es-ES"):""," a las ").concat(E?E.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"")},a=await fetch("/api/property-visit/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw console.error("Error del servidor:",e),Error("Error al enviar la solicitud de visita")}await a.json(),v.oR.success("Solicitud de visita enviada correctamente"),i(!1),u(null),S(null),O(""),T(""),F("")}catch(e){console.error("Error al procesar la solicitud:",e),v.oR.success("Solicitud recibida. Te contactaremos pronto para confirmar."),i(!1),u(null),S(null),O(""),T(""),F("")}},className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-amarillo hover:bg-amber-600 text-white font-medium transition-all duration-300 shadow-md hover:shadow-lg",children:"Confirmar Visita"})]})]})]})}),P&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-fadeIn",children:(0,t.jsxs)("div",{ref:z,className:"jsx-3ca4eb49aef0a10 bg-black/95 rounded-[2rem] p-10 max-w-xl w-full mx-auto shadow-2xl overflow-y-auto max-h-[90vh] border border-amarillo/20 animate-scaleIn backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-2xl font-bold text-white",children:"Hacer una oferta"}),(0,t.jsx)("button",{onClick:()=>A(!1),className:"jsx-3ca4eb49aef0a10 text-gray-400 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",children:(0,t.jsx)(m.QCr,{className:"text-xl text-amarillo"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-3",children:"Selecciona tu oferta"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 space-y-3",children:(0,w._z)(ei).map((e,a)=>(0,t.jsxs)("button",{onClick:()=>L(e),className:"jsx-3ca4eb49aef0a10 "+"w-full p-4 rounded-lg transition-all duration-300 flex justify-between items-center ".concat((null==M?void 0:M.percentage)===e.percentage?"bg-amarillo text-white font-semibold shadow-md":"bg-gray-800 hover:bg-gray-700 text-white border border-gray-700"),children:[(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10",children:e.label}),(0,t.jsxs)("span",{className:"jsx-3ca4eb49aef0a10 font-semibold",children:[Math.round(e.value).toLocaleString(),"€"]})]},a))})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 border-t border-gray-700 pt-4",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-2",children:"Introduce tu oferta"}),(0,t.jsx)("input",{type:"number",placeholder:"Introduce tu oferta",onChange:e=>L({value:parseInt(e.target.value),label:"Oferta personalizada"}),className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"})]})]}),M&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-6 space-y-4 border-t border-gray-700 pt-4",children:[(0,t.jsxs)("h3",{className:"jsx-3ca4eb49aef0a10 text-lg font-semibold mb-4 flex items-center text-white",children:[(0,t.jsx)(m.x$1,{className:"mr-2 text-amarillo"}),"Datos de contacto"]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-4",children:[(0,t.jsx)("input",{type:"email",value:R,onChange:e=>T(e.target.value),placeholder:"Email de contacto",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"text",value:D,onChange:e=>O(e.target.value),placeholder:"Nombre completo",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"tel",value:U,onChange:e=>F(e.target.value),placeholder:"Tel\xe9fono",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"})]})]}),M&&R&&D&&U&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>A(!1),className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-all duration-300 font-medium border border-gray-700",children:"Cancelar"}),(0,t.jsx)("button",{onClick:async()=>{try{let e={property:$.id||$._id||"",propertyAddress:$.title||$.name||"Propiedad sin t\xedtulo",offerPrice:M.value,offerPercentage:M.label,name:D,email:R,phone:U,message:"Oferta de ".concat(M.value.toLocaleString(),"€ (").concat(M.label,') para la propiedad "').concat($.title||$.name||"Propiedad sin t\xedtulo",'" por parte de ').concat(D)},a=await fetch("/api/property-offer/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok){let e=await a.text();throw console.error("Error del servidor:",e),Error("Error al enviar la oferta")}await a.json(),v.oR.success("Oferta enviada correctamente"),A(!1),L(null),T(""),O(""),F("")}catch(e){console.error("Error al procesar la oferta:",e),v.oR.success("Oferta recibida. Te contactaremos pronto."),A(!1),L(null),T(""),O(""),F("")}},className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-amarillo hover:bg-amber-600 text-white font-medium transition-all duration-300 shadow-md hover:shadow-lg",children:"Enviar Oferta"})]})]})})]}),(0,t.jsx)(c(),{id:"3ca4eb49aef0a10",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes scaleIn{from{-webkit-transform:scale(.95);transform:scale(.95);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes scaleIn{from{-moz-transform:scale(.95);transform:scale(.95);opacity:0}to{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes scaleIn{from{-o-transform:scale(.95);transform:scale(.95);opacity:0}to{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes scaleIn{from{-webkit-transform:scale(.95);-moz-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95);opacity:0}to{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes shimmer{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes shimmer{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes shimmer{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes shimmer{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}.animate-fadeIn{-webkit-animation:fadeIn.5s ease-out forwards;-moz-animation:fadeIn.5s ease-out forwards;-o-animation:fadeIn.5s ease-out forwards;animation:fadeIn.5s ease-out forwards}.animate-scaleIn{-webkit-animation:scaleIn.5s ease-out forwards;-moz-animation:scaleIn.5s ease-out forwards;-o-animation:scaleIn.5s ease-out forwards;animation:scaleIn.5s ease-out forwards}.animate-shimmer{-webkit-animation:shimmer 3s infinite;-moz-animation:shimmer 3s infinite;-o-animation:shimmer 3s infinite;animation:shimmer 3s infinite}.text-shadow-sm{text-shadow:0 2px 4px rgba(0,0,0,.4)}.drop-shadow-md{-webkit-filter:drop-shadow(0 4px 3px rgb(0 0 0/.3))drop-shadow(0 2px 2px rgb(0 0 0/.2));filter:drop-shadow(0 4px 3px rgb(0 0 0/.3))drop-shadow(0 2px 2px rgb(0 0 0/.2))}.shadow-amarillo{-webkit-box-shadow:0 0 20px rgba(255,215,0,.2);-moz-box-shadow:0 0 20px rgba(255,215,0,.2);box-shadow:0 0 20px rgba(255,215,0,.2)}h2,.prose h2,article h2{@apply text-amarillo !important;}h2::before,h2::after,.prose h2::before,.prose h2::after,article h2::before,article h2::after{@apply text-amarillo !important;}"})]})}var _=r(36215),P=r(65364);P.env.VERCEL,P.env.NEXT_PUBLIC_WC_API_URL,P.env.NEXT_PUBLIC_WOO_COMMERCE_KEY,P.env.NEXT_PUBLIC_WOO_COMMERCE_SECRET;var A=!0;function M(e){var a,r;let{propertyData:l,error:i,source:c}=e,d=(0,s.useRouter)(),[m,p]=(0,o.useState)(!l&&!i);if(d.isFallback||m)return(0,t.jsx)(_.A,{});if(i)return console.error("Error al cargar la propiedad (desde getServerSideProps):",i),(0,t.jsx)(L,{message:"Error al cargar la propiedad: ".concat(i)});if(!l)return(0,t.jsx)(L,{message:"Propiedad no encontrada."});if(!l)return console.error("Error al normalizar los datos de la propiedad:",l),(0,t.jsx)(L,{message:"Error al procesar los datos de la propiedad."});let x=(e=>{if(!e)return"Detalles de la propiedad.";let a=(e.short_description||e.description||"").replace(/<[^>]*>?/gm,"").substring(0,155);return"".concat(e.title||"Propiedad"," en ").concat(e.location||"Madrid",". ").concat(a,"...")})(l),u="".concat(l.title||"Propiedad"," | GozaMadrid"),f=(null==(r=l.images)||null==(a=r[0])?void 0:a.src)||"/img/default-property-image.jpg";return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:u}),(0,t.jsx)("meta",{name:"description",content:x}),(0,t.jsx)("meta",{property:"og:type",content:"product"}),(0,t.jsx)("meta",{property:"og:url",content:"https://www.realestategozamadrid.com/property/".concat(l.id,"?source=").concat(c)}),(0,t.jsx)("meta",{property:"og:title",content:u}),(0,t.jsx)("meta",{property:"og:description",content:x}),(0,t.jsx)("meta",{property:"og:image",content:f}),(0,t.jsx)("meta",{property:"twitter:card",content:"summary_large_image"}),(0,t.jsx)("meta",{property:"twitter:url",content:"https://www.realestategozamadrid.com/property/".concat(l.id,"?source=").concat(c)}),(0,t.jsx)("meta",{property:"twitter:title",content:u}),(0,t.jsx)("meta",{property:"twitter:description",content:x}),(0,t.jsx)("meta",{property:"twitter:image",content:f}),(0,t.jsx)("script",{type:"application/ld+json",children:'\n            {\n              "@context": "https://schema.org/",\n              "@type": "Product",\n              "name": "'.concat(l.title||"Propiedad",'",\n              "image": "').concat(f,'",\n              "description": "').concat(x,'",\n              "sku": "').concat(l.id,'",\n              "offers": {\n                "@type": "Offer",\n                "url": "https://www.realestategozamadrid.com/property/').concat(l.id,"?source=").concat(c,'",\n                "priceCurrency": "EUR",\n                "price": "').concat(l.price||"0",'",\n                "availability": "https://schema.org/InStock",\n                "itemCondition": "https://schema.org/UsedCondition"\n              }\n            }\n          ')})]}),(0,t.jsx)(S,{property:l,source:c})]})}let L=e=>{let{message:a="Propiedad no encontrada o error al cargar."}=e;return(0,t.jsxs)("div",{className:"container mx-auto px-4 py-16 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4",children:"Error"}),(0,t.jsx)("p",{className:"text-gray-600 mb-8",children:a}),(0,t.jsx)(x(),{href:"/propiedades",className:"text-blue-600 hover:underline",children:"Volver a la lista de propiedades"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[5015,4884,2427,636,6593,8792],()=>a(55594)),_N_E=e.O()}]);