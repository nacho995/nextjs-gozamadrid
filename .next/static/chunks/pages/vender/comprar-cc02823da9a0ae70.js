(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2845],{14753:(e,t,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/vender/comprar",function(){return r(29660)}])},29660:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>k});var a=r(37876),s=r(77328),o=r.n(s),i=r(14232),l=r(48230),n=r.n(l),d=r(89099),c=r(21407),m=r(98928);function p(e){let{src:t,alt:r,className:s,priority:l=!1,objectPosition:n="center",sizes:d="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",propertyInfo:c={}}=e,[m,p]=(0,i.useState)(!1),[u,g]=(0,i.useState)(!1),x=(0,i.useRef)(null),[h,f]=(0,i.useState)({width:800,height:600}),y=(0,i.useMemo)(()=>t?Array.isArray(t)?0===t.length?"/img/property-placeholder.jpg":"object"==typeof t[0]?t[0].src||t[0].url||t[0].source_url||"/img/property-placeholder.jpg":t[0]:"string"==typeof t?t:"object"==typeof t&&(t.src||t.url||t.source_url)||"/img/property-placeholder.jpg":"/img/property-placeholder.jpg",[t]),b=(0,i.useMemo)(()=>"property-image-".concat(Math.random().toString(36).substring(2,9)),[]),j=(0,i.useMemo)(()=>({"@context":"https://schema.org","@type":"ImageObject","@id":"#".concat(b),contentUrl:y||"/img/property-placeholder.jpg",name:r||"Imagen de propiedad inmobiliaria",description:r||"Fotograf\xeda de propiedad inmobiliaria",representativeOfPage:l,...c.address?{contentLocation:{"@type":"Place",address:{"@type":"PostalAddress",addressLocality:c.address}}}:{}}),[b,y,r,l,c.address]),v=(0,i.useCallback)(e=>{if(!e||"string"!=typeof e)return"/img/property-placeholder.jpg";if("object"==typeof e)if(e.src)return v(e.src);else if(e.url)return v(e.url);else if(e.source_url)return v(e.source_url);else return"/img/property-placeholder.jpg";if(e.includes("images.weserv.nl")||e.includes("/api/proxy-image")||e.startsWith("/")&&!e.startsWith("//")||e.startsWith("data:"))return e;if(!e.startsWith("http")&&!e.startsWith("/")&&!e.startsWith("data:")){let t=window.location.origin;return"".concat(t,"/").concat(e)}if(e.startsWith("//"))return"https:".concat(e);try{return"/api/proxy-image?url=".concat(encodeURIComponent(e))}catch(e){return console.error("Error al formatear URL para proxy:",e),"/img/property-placeholder.jpg"}},[]),w=(0,i.useMemo)(()=>"string"!=typeof y||y.startsWith("/")||y.startsWith("data:")?y:v(y),[y,v]);return((0,i.useEffect)(()=>{if(!x.current)return;let e=new IntersectionObserver(t=>{let[r]=t;if(r.isIntersecting){let t=document.createElement("img");t.onload=()=>{f({width:t.naturalWidth||800,height:t.naturalHeight||600}),g(!0)},t.onerror=()=>{p(!0)},t.src=w,e.disconnect()}},{rootMargin:"200px",threshold:.1});return e.observe(x.current),()=>{e.disconnect()}},[w]),m||!y)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({...j,contentUrl:"/img/property-placeholder.jpg"})}})}),(0,a.jsxs)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(s),ref:x,itemScope:!0,itemType:"https://schema.org/ImageObject","aria-label":"Imagen no disponible",role:"img",itemID:"#".concat(b),children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Sin imagen"}),(0,a.jsx)("meta",{itemProp:"contentUrl",content:"/img/property-placeholder.jpg"}),(0,a.jsx)("meta",{itemProp:"name",content:r||"Imagen no disponible"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({...j,contentUrl:w})}})}),(0,a.jsxs)("div",{ref:x,className:"relative overflow-hidden",itemScope:!0,itemType:"https://schema.org/ImageObject",itemID:"#".concat(b),children:[!u&&(0,a.jsx)(()=>(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/80 backdrop-blur-sm",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("svg",{className:"w-12 h-12",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeDasharray:"60",strokeDashoffset:"60",strokeLinecap:"round",children:(0,a.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"1.5s",from:"60",to:"-60",repeatCount:"indefinite"})})}),(0,a.jsx)("span",{className:"mt-2 text-sm font-medium text-gray-700",children:"Cargando imagen..."})]})}),{}),(0,a.jsx)("img",{src:w,alt:r||"Propiedad inmobiliaria",className:"w-full h-full object-cover ".concat(s," ").concat(u?"opacity-100 transition-opacity duration-300":"opacity-0"),onError:()=>{p(!0)},onLoad:()=>g(!0),loading:l?"eager":"lazy",decoding:"async",fetchPriority:l?"high":"auto",style:{objectPosition:n},itemProp:"contentUrl"}),(0,a.jsx)("meta",{itemProp:"name",content:r||"Imagen de propiedad inmobiliaria"})]})]})}r(68827),r(2805);var u=r(91040);r(87852);var g=r(30333),x=r(87375),h=r(65364);let f=e=>{if(!e)return"/img/default-property-image.jpg";try{if(Array.isArray(e)){if(0===e.length)return"/img/default-property-image.jpg";let t=e[0];e="object"==typeof t?t.src||t.source_url||t.url||"/img/default-property-image.jpg":t}if("object"==typeof e)if(e.src)e=e.src;else if(e.url)e=e.url;else{if(!e.source_url)return"/img/default-property-image.jpg";e=e.source_url}if("string"!=typeof e)return"/img/default-property-image.jpg";if(e.includes("/api/proxy-image")||e.includes("cloudinary.com"))return e;if(e.startsWith("/")){let t=window.location.origin;return"".concat(t).concat(e)}if(e.includes("cloudinary.com"))return e;return"/api/proxy-image?url=".concat(encodeURIComponent(e))}catch(e){return console.error("[PropertyPage] Error en getProxiedImageUrl:",e),"/img/default-property-image.jpg"}},y=e=>{if(!e)return"Madrid, Espa\xf1a";let t=["Canada","Germany","Australia","Duisburg","King Est","QC","Ontario","Quebec","Calgary","Vancouver","Toronto","Alberta","Saskatchewan","Manitoba","Nova Scotia","New Brunswick","Prince Edward Island","Newfoundland","Labrador"],r=["Calle","C/","Avenida","Avda","Plaza","Paseo","Gran V\xeda","Castellana","Alcal\xe1","Serrano","Princesa","Goya","Castell\xf3","Vel\xe1zquez","G\xe9nova","O'Donnell","Bail\xe9n","Sol","Mayor"],a=e=>{if(!e||t.some(t=>e.includes(t)))return!1;if(r.some(t=>e.includes(t))||e.includes("Espa\xf1a")||e.includes("Madrid"))return!0;if(/[-+]?\d+\.\d+,\s*[-+]?\d+\.\d+/.test(e)){let t=e.match(/[-+]?\d+\.\d+/g);if(t&&t.length>=2){let e=parseFloat(t[0]),r=parseFloat(t[1]);return!!(r>=-10)&&!!(r<=5)&&!!(e>=35)&&!!(e<=44)}}return!0};try{if(e.location){let t=e.location.toString();if(a(t))return t;return"".concat(e.title||e.name||"Propiedad",", Madrid, Espa\xf1a")}if(e.address){let t=e.address.toString();if(a(t))return t;return"".concat(e.title||e.name||"Propiedad",", Madrid, Espa\xf1a")}if(e.meta_data&&Array.isArray(e.meta_data)){let t=e.meta_data.find(e=>"address"===e.key||"direccion"===e.key||"ubicacion"===e.key||"Ubicaci\xf3n"===e.key);if(t&&t.value){let r="";if("string"==typeof t.value?r=t.value:"object"==typeof t.value&&(t.value.address?r=t.value.address:t.value.street_name?r="".concat(t.value.street_number||""," ").concat(t.value.street_name,", ").concat(t.value.city||"Madrid"):t.value.city?r=t.value.city:"function"==typeof t.value.toString&&(r=t.value.toString())),r&&a(r))return r;return"".concat(e.title||e.name||"Propiedad",", Madrid, Espa\xf1a")}}if(e.title||e.name){let a=e.title||e.name;if(r.some(e=>a.includes(e))&&!t.some(e=>a.includes(e)))return a}return"".concat(e.title||e.name||"Propiedad",", Madrid, Espa\xf1a")}catch(e){return console.error("[PropertyPage] Error al extraer ubicaci\xf3n correcta:",e),"Madrid, Espa\xf1a"}},b=e=>{if(!Array.isArray(e)||0===e.length)return["Viviendas","Apartamentos","Propiedades"];let t=e.map(e=>{if(e.typeProperty)return e.typeProperty;if(e.meta_data){let t=e.meta_data.find(e=>"property_type"===e.key||"tipo"===e.key||"type"===e.key);return(null==t?void 0:t.value)||null}return null}).filter(Boolean);return[...new Set(t)].length>0?[...new Set(t)]:["Viviendas","Apartamentos","Propiedades"]},j=e=>{if(!Array.isArray(e)||0===e.length)return["Madrid"];let t=e.map(e=>{let t=y(e);if(t&&"string"==typeof t){let e=t.split(",");return e.length>1&&(t=e[e.length-2].trim()),t.length>30&&(t="Madrid"),t}return"Madrid"}).filter(Boolean);return t.includes("Madrid")||t.push("Madrid"),t.includes("Espa\xf1a")||t.push("Espa\xf1a"),["Todas",...[...new Set(t)].sort()]};h.env.NEXT_PUBLIC_SITE_URL;let v=h.env.NEXT_PUBLIC_API_MONGODB_URL||h.env.NEXT_PUBLIC_API_URL||"https://gozamadrid-api-prod.eba-adypnjgx.eu-west-3.elasticbeanstalk.com",w=u.A.create({baseURL:v,timeout:3e4,headers:{Accept:"application/json","Content-Type":"application/json"}});function N(){let e=(0,d.useRouter)(),[t,r]=(0,i.useState)(!1),[s,l]=(0,i.useState)(1),[u,h]=(0,i.useState)("Todas"),[v,w]=(0,i.useState)("Todos"),[N,k]=(0,i.useState)("Todos"),[_,P]=(0,i.useState)(""),[M,C]=(0,i.useState)(!1),[E,S]=(0,i.useState)(!0),[L,A]=(0,i.useState)(null),[I,z]=(0,i.useState)(["Todas"]),[T,B]=(0,i.useState)(["Todos"]),[U]=(0,i.useState)(["Todos","0-500k","500k-1M","1M-2M","2M+"]),[W,F]=(0,i.useState)(!1),[R,O]=(0,i.useState)(0),[D,G]=(0,i.useState)([]),[V,q]=(0,i.useState)(""),[H,X]=(0,i.useState)(!1),[J,Q]=(0,i.useState)(0),{properties:$,loading:K,error:Z,meta:Y,refresh:ee}=(0,g.Bi)({page:s,limit:100,source:"all",autoLoad:!0,enableCache:!0});(0,i.useEffect)(()=>{if(!K&&$.length>0){var e,t;console.log("[PropertyPage] Propiedades cargadas: ".concat($.length," total")),console.log("[PropertyPage] Fuentes: MongoDB: ".concat((null==Y||null==(e=Y.sources)?void 0:e.mongodb)||0,", WooCommerce: ").concat((null==Y||null==(t=Y.sources)?void 0:t.woocommerce)||0));let r=j($),a=b($);z(r),B(["Todos",...a]),S(!1),A(null)}else!K&&Z&&(console.error("[PropertyPage] Error cargando propiedades:",Z),A(Z),S(!1))},[$,K,Z,Y]),(0,i.useEffect)(()=>{r(!0),window.appConfig?console.log("[PropertyPage] Configuraci\xf3n detectada:",window.appConfig):console.log("[PropertyPage] Configuraci\xf3n no disponible, continuando sin ella"),X(!0)},[]),(0,i.useEffect)(()=>{let t=parseInt(e.query.page)||1;t!==s&&l(t)},[e.query.page]);let et=(0,i.useMemo)(()=>$&&0!==$.length?$.filter(e=>{if("Todas"!==u&&!y(e).toLowerCase().includes(u.toLowerCase())||"Todos"!==v&&(e.typeProperty||e.type||"").toLowerCase()!==v.toLowerCase())return!1;if("Todos"!==N){let t=parseFloat(e.price)||0;switch(N){case"0-500k":if(t>=5e5)return!1;break;case"500k-1M":if(t<5e5||t>=1e6)return!1;break;case"1M-2M":if(t<1e6||t>=2e6)return!1;break;case"2M+":if(t<2e6)return!1}}if(_){let t=_.toLowerCase(),r=(e.title||e.name||"").toLowerCase(),a=y(e).toLowerCase(),s=(e.description||"").toLowerCase();if(!r.includes(t)&&!a.includes(t)&&!s.includes(t))return!1}return!0}):[],[$,u,v,N,_]),er=(0,i.useMemo)(()=>{let e=(s-1)*100;return et.slice(e,e+100)},[et,s]),ea=Math.ceil(et.length/100);(0,i.useCallback)(t=>{l(t),e.push({pathname:e.pathname,query:{...e.query,page:t}},void 0,{scroll:!0})},[e]);let[es,eo]=(0,i.useState)("Propiedades Inmobiliarias en Madrid | Goza Madrid"),[ei,el]=(0,i.useState)("Descubra nuestra selecci\xf3n de propiedades inmobiliarias en Madrid. Apartamentos, casas, chalets y locales comerciales disponibles para compra y alquiler."),en=(0,i.useRef)(0);(0,i.useEffect)(()=>{en.current+=1});let[ed,ec]=(0,i.useState)("");(0,i.useEffect)(()=>{ec(window.location.href)},[]);let[em,ep]=(0,i.useState)(!1);(0,i.useEffect)(()=>{var e;(null==(e=window.appConfig)?void 0:e.debug)&&ep(!0)},[]);let eu=(0,i.useCallback)((e,t)=>{try{let r;if(!e)return void console.error("[PropertyPage] No se pudo navegar: propiedad undefined");("mongodb"===e.source||e._id||e.id&&"string"==typeof e.id&&e.id.length>20)&&e._id?r=e._id:e.id?r=e.id:(r="fallback-".concat(t),console.error("[PropertyPage] Error de navegaci\xf3n: Propiedad sin ID v\xe1lido, usando fallback")),window.location.href="/property/".concat(r)}catch(t){console.error("[PropertyPage] Error al navegar:",t),e&&(e.id||e._id)&&(window.location.href="/property/".concat(e._id||e.id))}},[]),eg=Array.isArray($)&&0!==$.length?(b($),j($),{"@context":"https://schema.org","@type":"ItemList",itemListElement:$.map((e,t)=>{let r="woocommerce"===e.source||"woocommerce"===e.type||e.meta_data||e.id&&"number"==typeof e.id||e.id&&"string"==typeof e.id&&e.id.length<20&&!e._id,a="mongodb"===e.source||"mongodb"===e.type||e._id||e.id&&"string"==typeof e.id&&e.id.length>20,s=r?e.id:e._id,o="";r?o=e.name||"Propiedad sin t\xedtulo":a&&(o=e.title||e.name||"Propiedad sin t\xedtulo");let i=e.address||y(e),l="Consultar";if(r&&e.price){let t=(0,x.vf)(e.price);l=(0,x.$g)(t)}let n="/img/default-property-image.jpg";if(!a&&e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?n=t:"object"==typeof t&&(n=t.src||t.url||t.source_url||"/img/default-property-image.jpg",t.alt)}else if(e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?n=t:"object"==typeof t&&(n=t.src||t.url||t.source_url||"/img/default-property-image.jpg",t.alt)}n=f(n);let d=null;return"number"==typeof l?d=l:"string"!=typeof l||isNaN(parseFloat(l.replace(/[^\d.,]/g,"").replace(",",".")))||(d=parseFloat(l.replace(/[^\d.,]/g,"").replace(",","."))),{"@type":"ListItem",position:t+1,item:{"@type":"Product",name:o,description:"".concat(o," ubicada en ").concat(i),image:n,url:"https://www.realestategozamadrid.com/property/".concat(s),category:e.typeProperty||"Propiedad inmobiliaria",offers:d?{"@type":"Offer",priceCurrency:"EUR",price:d,availability:"https://schema.org/InStock"}:void 0}}})}):null;return t?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:es}),(0,a.jsx)("meta",{name:"description",content:ei}),t&&(0,a.jsx)("link",{rel:"canonical",href:ed}),(0,a.jsx)("meta",{property:"og:type",content:"website"}),(0,a.jsx)("meta",{property:"og:title",content:es}),(0,a.jsx)("meta",{property:"og:description",content:ei}),t&&(0,a.jsx)("meta",{property:"og:url",content:ed}),(0,a.jsx)("meta",{property:"og:image",content:"https://www.realestategozamadrid.com/og-image-properties.jpg"}),(0,a.jsx)("meta",{property:"og:site_name",content:"Goza Madrid"}),(0,a.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,a.jsx)("meta",{name:"twitter:title",content:es}),(0,a.jsx)("meta",{name:"twitter:description",content:ei}),(0,a.jsx)("meta",{name:"twitter:image",content:"https://www.realestategozamadrid.com/twitter-image-properties.jpg"}),eg&&(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(eg)}})]}),em&&(0,a.jsxs)("div",{className:"fixed top-20 right-4 z-50 bg-black/80 text-white p-4 rounded-lg shadow-lg text-xs font-mono max-w-xs overflow-auto max-h-80",children:[(0,a.jsx)("h4",{className:"font-bold text-amber-400 mb-2",children:"DEBUG"}),(0,a.jsxs)("p",{children:["Properties: ",$.length]}),(0,a.jsxs)("p",{children:["Filtered: ",et.length]}),(0,a.jsxs)("p",{children:["Current Page: ",s]}),(0,a.jsxs)("p",{children:["Total Pages: ",ea]}),(0,a.jsxs)("p",{children:["MongoDB: ",$.filter(e=>"mongodb"===e.source).length]}),(0,a.jsxs)("p",{children:["WooCommerce: ",$.filter(e=>"woocommerce"===e.source).length]}),(0,a.jsxs)("p",{children:["Loading: ",E?"true":"false"]}),(0,a.jsxs)("p",{children:["Initialized: ",en.current>0?"true":"false"]}),(0,a.jsx)("hr",{className:"my-2 border-gray-600"}),(0,a.jsx)("button",{onClick:()=>{console.log("Estado completo:",{allProperties:$,filteredProperties:et,currentProperties:et})},className:"bg-amber-500 text-black px-2 py-1 rounded text-xs",children:"Log Estado"})]}),(0,a.jsx)("div",{className:"fixed inset-0 z-0 opacity-90",style:{background:'linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.4)), url("/gozamadridwp2.jpg")',backgroundAttachment:"fixed"},"aria-hidden":"true"}),(0,a.jsx)("div",{className:"relative min-h-screen py-12",children:(0,a.jsx)("main",{className:"relative container mx-auto px-4",children:(0,a.jsxs)("div",{className:"layout-specing",children:[(0,a.jsx)("div",{className:"md:flex justify-center items-center mb-12",children:(0,a.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-center text-white",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:["Propiedades Exclusivas",(0,a.jsx)("span",{className:"block text-xl md:text-2xl mt-2 font-light text-amarillo",children:"Inversiones Premium en Madrid"})]})}),(0,a.jsx)("div",{className:"mb-12 flex justify-center",children:(0,a.jsxs)("div",{className:"relative w-full max-w-2xl",children:[(0,a.jsx)("input",{id:"property-search",type:"text",placeholder:"Buscar por ubicaci\xf3n...",value:_,onChange:e=>P(e.target.value),className:"w-full p-4 pl-6 border-2 border-amarillo/30 rounded-xl shadow-xl focus:outline-none focus:border-amarillo bg-black/20 backdrop-blur-md text-white placeholder-gray-400 transition-all duration-300",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.2)"},"aria-label":"Buscar propiedades por direcci\xf3n"}),(0,a.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-amarillo",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),E?(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})}):L?(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center py-20",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-red-500",children:"Error al cargar propiedades"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:L})]}):er&&0!==er.length?(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:er.map((e,t)=>{var r;let s="mongodb"===e.source||e._id||e.id&&"string"==typeof e.id&&e.id.length>20,o=s?e._id||"fallback-".concat(t):e.id||"fallback-".concat(t),i=s?e.title||"Propiedad sin t\xedtulo":e.title||e.name||"Propiedad sin t\xedtulo",l="Consultar";try{e.price&&(l=(0,x.$g)(e.price))}catch(e){console.error("Error al formatear precio:",e)}let d="/img/default-property-image.jpg",u=i;if(!s&&e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?d=t:"object"==typeof t&&(d=t.src||t.url||t.source_url||"/img/default-property-image.jpg",u=t.alt||i)}else if(e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?d=t:"object"==typeof t&&(d=t.src||t.url||t.source_url||"/img/default-property-image.jpg",u=t.alt||i)}d=f(d);let g="?",h="?",y="?",b="";if(s)g=e.bedrooms||e.rooms||"?",h=e.bathrooms||e.wc||"?",y=e.area||e.m2||"?",b=e.location||e.address||"";else{if(e.features?(g=e.features.bedrooms||e.bedrooms||e.rooms||"?",h=e.features.bathrooms||e.bathrooms||e.wc||"?",y=e.features.area||e.area||e.m2||"?"):(g=e.bedrooms||e.rooms||"?",h=e.bathrooms||e.wc||"?",y=e.area||e.m2||"?"),!(b=e.location||e.address||"")&&(e.title||e.name)){let t=e.title||e.name;(t.includes("Calle")||t.includes("Avenida")||t.includes("Plaza")||/^(Calle|C\/|Avda\.|Av\.|Pza\.|Plaza)\s+[a-zA-ZáéíóúÁÉÍÓÚñÑ\s]+\d*/.test(t))&&(b=t)}if(!b&&e.meta_data&&Array.isArray(e.meta_data)){let t=e.meta_data.find(e=>"address"===e.key||"direccion"===e.key||"ubicacion"===e.key||"Ubicaci\xf3n"===e.key);t&&("string"==typeof t.value?b=t.value:"object"==typeof t.value&&(b=t.value.address||t.value.name||(t.value.street_number&&t.value.street_name?"".concat(t.value.street_number," ").concat(t.value.street_name,", ").concat(t.value.city):"")))}}let j=e.piso||e.floor||(e.meta_data?null==(r=e.meta_data.find(e=>"Planta"===e.key||"storeys"===e.key))?void 0:r.value:null),v=e.pool||e.piscina||!!e.meta_data&&!!e.meta_data.find(e=>"piscina"===e.key||"pool"===e.key),w=e.garage||e.garaje||!!e.meta_data&&!!e.meta_data.find(e=>"garaje"===e.key||"garage"===e.key),N=e.terrace||e.terraza||!!e.meta_data&&!!e.meta_data.find(e=>"terraza"===e.key||"terrace"===e.key),k=e.garden||e.jardin||!!e.meta_data&&!!e.meta_data.find(e=>"jardin"===e.key||"garden"===e.key),_=.1*t;return(0,a.jsx)(c.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:_},whileHover:{y:-5},className:"group cursor-pointer",onClick:()=>eu(e,t),"aria-label":"Ver detalles de ".concat(i),children:(0,a.jsxs)("div",{className:"bg-black/40 backdrop-blur-md rounded-xl overflow-hidden shadow-2xl hover:shadow-[0_20px_50px_rgba(255,215,0,0.2)] transition-all duration-500 hover:scale-[1.02] border border-white/10",children:[(0,a.jsxs)("div",{className:"relative h-72 overflow-hidden",children:[(0,a.jsx)(p,{src:d,alt:u,fill:!0,sizes:"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw",className:"object-cover group-hover:scale-110 transition-transform duration-700",quality:85,priority:!1}),(0,a.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/90 via-black/30 to-transparent opacity-70"}),(0,a.jsx)("div",{className:"absolute top-4 right-4 bg-black/60 text-amarillo px-4 py-2 rounded-lg backdrop-blur-md border border-amarillo/30 shadow-lg",children:(0,a.jsxs)("span",{className:"flex items-center gap-1",children:[(0,a.jsx)(m.q83,{className:"text-sm"}),(0,a.jsx)("span",{className:"font-semibold",children:l})]})})]}),(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-white mb-3 line-clamp-2",style:{textShadow:"1px 1px 3px rgba(0, 0, 0, 0.8)"},children:i}),(0,a.jsxs)("div",{className:"flex justify-between items-stretch py-4 px-2 mb-2 bg-gradient-to-br from-black/60 to-gray-900/40 rounded-lg border border-white/10 shadow-inner",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 flex-1 px-2",children:[(0,a.jsx)(m.TiC,{className:"text-amarillo text-2xl mb-1"}),(0,a.jsx)("span",{className:"text-white font-medium text-lg",children:g}),(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"habitaciones"})]}),(0,a.jsx)("div",{className:"w-px h-auto bg-gray-700/50 mx-1"}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 flex-1 px-2",children:[(0,a.jsx)(m.F6e,{className:"text-amarillo text-2xl mb-1"}),(0,a.jsx)("span",{className:"text-white font-medium text-lg",children:h}),(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"ba\xf1os"})]}),(0,a.jsx)("div",{className:"w-px h-auto bg-gray-700/50 mx-1"}),(0,a.jsxs)("div",{className:"flex flex-col items-center gap-1 flex-1 px-2",children:[(0,a.jsx)(m.VlX,{className:"text-amarillo text-2xl mb-1"}),(0,a.jsx)("span",{className:"text-white font-medium text-lg",children:y}),(0,a.jsx)("span",{className:"text-gray-400 text-xs",children:"m\xb2"})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-start mt-4",children:[null!==j&&(0,a.jsxs)("div",{className:"bg-amarillo/10 border border-amarillo/20 rounded-full px-3 py-1 text-xs text-white flex items-center gap-1",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-amarillo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})}),"Planta ",j]}),v&&(0,a.jsxs)("div",{className:"bg-amarillo/10 border border-amarillo/20 rounded-full px-3 py-1 text-xs text-white flex items-center gap-1",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-amarillo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 12h14M5 12a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v4a2 2 0 01-2 2M5 12a2 2 0 00-2 2v4a2 2 0 002 2h14a2 2 0 002-2v-4a2 2 0 00-2-2m-2-4h.01M17 16h.01"})}),"Piscina"]}),w&&(0,a.jsxs)("div",{className:"bg-amarillo/10 border border-amarillo/20 rounded-full px-3 py-1 text-xs text-white flex items-center gap-1",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-amarillo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),"Garaje"]}),N&&(0,a.jsxs)("div",{className:"bg-amarillo/10 border border-amarillo/20 rounded-full px-3 py-1 text-xs text-white flex items-center gap-1",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-amarillo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"})}),"Terraza"]}),k&&(0,a.jsxs)("div",{className:"bg-amarillo/10 border border-amarillo/20 rounded-full px-3 py-1 text-xs text-white flex items-center gap-1",children:[(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3 text-amarillo",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})}),"Jard\xedn"]})]})]}),(0,a.jsx)("div",{className:"px-6 pb-6",children:(0,a.jsx)(n(),{href:"/property/".concat(e._id||e.id),className:"block w-full",onClick:r=>{r.stopPropagation(),eu(e,t)},legacyBehavior:!1,children:(0,a.jsx)("div",{className:"w-full py-3 bg-gradient-to-r from-amarillo/80 to-amber-600/80 text-black font-medium rounded-lg transition-all duration-300 hover:from-amarillo hover:to-amber-600 backdrop-blur-sm shadow-lg border border-amber-500/30 group-hover:scale-105 text-center cursor-pointer",children:"Ver detalles"})})})]})},o||t)})}):(0,a.jsxs)("div",{className:"flex flex-col justify-center items-center py-20",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:"No se encontraron propiedades"}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:"Intente con otros filtros o revise m\xe1s tarde."})]})]})})})]}):(0,a.jsx)("div",{className:"relative min-h-screen py-12",children:(0,a.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary"})})})}function k(){let[e,t]=(0,i.useState)(!1),r=(0,d.useRouter)();return((0,i.useEffect)(()=>{let e=e=>{console.error("Error en la p\xe1gina de compra:",e),t(!0)};return window.addEventListener("error",e),()=>{window.removeEventListener("error",e)}},[]),e)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Propiedades en Venta | Goza Madrid"}),(0,a.jsx)("meta",{name:"description",content:"Explora nuestra selecci\xf3n de propiedades en venta en Madrid. Encuentra tu hogar ideal con Goza Madrid."}),(0,a.jsx)("meta",{name:"robots",content:"index, follow"}),(0,a.jsx)("link",{rel:"canonical",href:"https://realestategozamadrid.com/vender/comprar"})]}),(0,a.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",children:(0,a.jsxs)("div",{className:"container mx-auto py-12 text-center bg-white shadow-xl rounded-lg p-8 max-w-2xl",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold text-red-500 mb-4",children:"Lo sentimos"}),(0,a.jsx)("p",{className:"text-lg mb-2",children:"Ha ocurrido un problema al cargar las propiedades."}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Estamos trabajando para solucionarlo."}),(0,a.jsxs)("div",{className:"mt-6 flex flex-col md:flex-row justify-center gap-4",children:[(0,a.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-amber-400 hover:bg-amber-500 text-black font-bold py-3 px-8 rounded-lg mb-2 md:mb-0",children:"Reintentar"}),(0,a.jsx)("button",{onClick:()=>r.push("/"),className:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-3 px-8 rounded-lg",children:"Volver a inicio"})]})]})})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(o(),{children:[(0,a.jsx)("title",{children:"Propiedades en Venta | Goza Madrid"}),(0,a.jsx)("meta",{name:"description",content:"Explora nuestra selecci\xf3n de propiedades en venta en Madrid. Encuentra tu hogar ideal con Goza Madrid."}),(0,a.jsx)("meta",{name:"robots",content:"index, follow"}),(0,a.jsx)("link",{rel:"canonical",href:"https://realestategozamadrid.com/vender/comprar"})]}),(0,a.jsx)(N,{})]})}w.interceptors.request.use(e=>e,e=>(console.error("[API Request Error]",e),Promise.reject(e))),w.interceptors.response.use(e=>e,e=>{var t;return console.error("[API Response Error] ".concat((null==(t=e.config)?void 0:t.url)||"unknown URL",":"),e.message),Promise.reject(e)})}},e=>{var t=t=>e(e.s=t);e.O(0,[1040,7955,636,6593,8792],()=>t(14753)),_N_E=e.O()}]);