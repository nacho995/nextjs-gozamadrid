"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2427],{82427:(o,t,e)=>{e.d(t,{dZ:()=>d,g6:()=>i});var n=e(2805),r=e(65364);let a=parseInt(r.env.NEXT_PUBLIC_API_TIMEOUT||"60000"),c=parseInt(r.env.NEXT_PUBLIC_MAX_RETRIES||"5"),l=async function(o){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,n=new AbortController,r=setTimeout(()=>n.abort(),e);try{let e=await fetch(o,{...t,signal:n.signal,headers:{Accept:"application/json","Cache-Control":"no-cache","User-Agent":"GozaMadrid-Frontend/1.0",...t.headers||{}}});return clearTimeout(r),e}catch(t){if(clearTimeout(r),"AbortError"===t.name)throw Error("La petici\xf3n a ".concat(o," excedi\xf3 el tiempo l\xedmite de ").concat(e,"ms"));throw t}},s=async function(o){let t,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,r=1e3;for(let a=0;a<n;a++)try{console.log("Intento ".concat(a+1," de ").concat(n," para ").concat(o));let t=await l(o,e);if(!t.ok)throw Error("HTTP error! status: ".concat(t.status));let r=await t.json();return console.log("Petici\xf3n exitosa a ".concat(o)),r}catch(e){console.error("Intento ".concat(a+1," fallido para ").concat(o,":"),e),t=e,a<n-1&&(console.log("Esperando ".concat(r,"ms antes del siguiente intento...")),await new Promise(o=>setTimeout(o,r)),r=Math.min(2*r,1e4))}throw console.error("Todos los intentos fallaron para ".concat(o)),t},i=async()=>{try{return await s("".concat(n.A.WP_API_URL,"/posts"))}catch(o){throw console.error("Error al obtener posts del blog:",o),o}},d=async o=>{try{return await s("/api/proxy/blog-by-id?id=".concat(encodeURIComponent(o)))}catch(o){throw console.error("Error al obtener post del blog:",o),o}}}}]);