"use strict";(()=>{var e={};e.id=5724,e.ids=[5724],e.modules={1428:e=>{e.exports=import("axios")},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},26804:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{config:()=>l,default:()=>u,routeModule:()=>c});var a=r(33480),o=r(8667),s=r(86435),i=r(96348),d=e([i]);i=(d.then?(await d)():d)[0];let u=(0,s.M)(i,"default"),l=(0,s.M)(i,"config"),c=new a.PagesAPIRouteModule({definition:{kind:o.A.PAGES_API,page:"/api/proxy-raw",pathname:"/api/proxy-raw",bundlePath:"",filename:""},userland:i});n()}catch(e){n(e)}})},33480:(e,t,r)=>{e.exports=r(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},96348:(e,t,r)=>{r.a(e,async(e,n)=>{try{r.r(t),r.d(t,{default:()=>s});var a=r(1428),o=e([a]);async function s(e,t){if(t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, POST, PUT, DELETE, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type, Authorization"),"OPTIONS"===e.method)return t.status(200).end();if("POST"!==e.method)return t.status(405).json({error:"M\xe9todo no permitido",message:"Este endpoint solo acepta solicitudes POST"});try{let{url:r,method:n="GET",headers:o={},data:s=null,timeout:i=15e3,responseType:d="json"}=e.body;if(!r)return t.status(400).json({error:"Par\xe1metros insuficientes",message:"Debe proporcionar una URL en el cuerpo de la solicitud"});console.log(`[proxy-raw] Proxeando solicitud ${n} a: ${r}`);let u={"User-Agent":"GozaMadrid-Frontend/1.0",Accept:"application/json",...o};delete u["Cache-Control"],delete u.Pragma;let l=await (0,a.default)({method:n,url:r,headers:u,data:"GET"!==n&&"HEAD"!==n?s:void 0,timeout:i,responseType:d,validateStatus:function(e){return e<500}});if("json"!==d)return l.headers["content-type"]&&t.setHeader("Content-Type",l.headers["content-type"]),l.headers["content-length"]&&t.setHeader("Content-Length",l.headers["content-length"]),t.status(l.status).send(l.data);return t.status(l.status).json(l.data)}catch(e){if(console.error(`[proxy-raw] Error: ${e.message}`),e.response){let r=e.response.status||500;return t.status(r).json({error:"Error en la API externa",status:r,message:e.message,data:e.response.data||null})}if(e.request)return t.status(504).json({error:"Sin respuesta de la API externa",message:"La API externa no respondi\xf3 a tiempo o la conexi\xf3n fall\xf3",details:e.message});return t.status(500).json({error:"Error interno del proxy",message:e.message})}}a=(o.then?(await o)():o)[0],n()}catch(e){n(e)}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=26804);module.exports=r})();