"use strict";(()=>{var e={};e.id=3996,e.ids=[3996],e.modules={3935:(e,t,r)=>{r.r(t),r.d(t,{config:()=>P,default:()=>l,routeModule:()=>A});var n={};r.r(n),r.d(n,{default:()=>c});var o=r(33480),i=r(8667),s=r(86435),a=r(29021),d=r.n(a),u=r(33873),p=r.n(u);function c(e,t){if("GET"!==e.method)return t.status(405).json({error:"M\xe9todo no permitido"});try{let{file:r="video.mp4"}=e.query;if(!["video.mp4","videoExpIngles.mp4"].includes(r))return t.status(404).json({error:"Archivo no encontrado"});let n=p().join(process.cwd(),"public",r);if(!d().existsSync(n))return console.error(`[Video API] Archivo no encontrado: ${n}`),t.status(404).json({error:"Video no encontrado"});let o=d().statSync(n).size,i=e.headers.range;if(t.setHeader("Content-Type","video/mp4"),t.setHeader("Accept-Ranges","bytes"),t.setHeader("Content-Length",o),t.setHeader("Cache-Control","public, max-age=31536000"),i){let e=i.replace(/bytes=/,"").split("-"),r=parseInt(e[0],10),s=e[1]?parseInt(e[1],10):o-1,a=d().createReadStream(n,{start:r,end:s});t.setHeader("Content-Range",`bytes ${r}-${s}/${o}`),t.setHeader("Content-Length",s-r+1),t.status(206),a.pipe(t)}else t.status(200),d().createReadStream(n).pipe(t);console.log(`[Video API] ✅ Sirviendo video: ${r} (${o} bytes)`)}catch(e){console.error("[Video API] ❌ Error sirviendo video:",e),t.status(500).json({error:"Error interno del servidor"})}}let l=(0,s.M)(n,"default"),P=(0,s.M)(n,"config"),A=new o.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/video",pathname:"/api/video",bundlePath:"",filename:""},userland:n})},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},29021:e=>{e.exports=require("fs")},33480:(e,t,r)=>{e.exports=r(75600)},33873:e=>{e.exports=require("path")},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=t(t.s=3935);module.exports=r})();