"use strict";(()=>{var e={};e.id=7742,e.ids=[7742],e.modules={8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return a}});var a=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},27871:(e,t,a)=>{a.r(t),a.d(t,{config:()=>l,default:()=>d,routeModule:()=>c});var r={};a.r(r),a.d(r,{default:()=>s});var o=a(33480),i=a(8667),n=a(86435);async function s(e,t){if(t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type"),"OPTIONS"===e.method)return t.status(200).end();if("GET"!==e.method)return t.status(405).json({error:"M\xe9todo no permitido"});let a=process.env.NEXT_PUBLIC_API_URL||"https://nextjs-gozamadrid-qrfk.onrender.com",r=`${a}/api/blogs`;e.query.limit,console.log(`[proxy/backend/blogs] Intentando conectar a: ${r}`);let o=[{_id:"sample-render-1",title:"Mercado inmobiliario en Madrid 2024",description:"An\xe1lisis del mercado inmobiliario en Madrid durante el 2024, tendencias y perspectivas para el pr\xf3ximo a\xf1o",slug:"mercado-inmobiliario-madrid-2024",date:new Date().toISOString(),dateFormatted:new Date().toLocaleDateString("es-ES"),image:{src:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop&q=80",alt:"Mercado inmobiliario en Madrid"},source:"render-sample",author:"Analista Goza Madrid",content:"An\xe1lisis detallado del mercado inmobiliario...",excerpt:"Las tendencias del mercado inmobiliario en Madrid muestran..."},{_id:"sample-render-2",title:"C\xf3mo elegir el mejor barrio para invertir en Madrid",description:"Gu\xeda completa para seleccionar los mejores barrios de Madrid donde realizar una inversi\xf3n inmobiliaria rentable y segura",slug:"elegir-mejor-barrio-inversion-madrid",date:new Date(Date.now()-432e6).toISOString(),dateFormatted:new Date(Date.now()-432e6).toLocaleDateString("es-ES"),image:{src:"https://images.unsplash.com/photo-1449824913935-59a10b8d2000?w=800&h=600&fit=crop&q=80",alt:"Barrios para invertir en Madrid"},source:"render-sample",author:"Asesor Inmobiliario",content:"Gu\xeda para inversores sobre los mejores barrios...",excerpt:"La elecci\xf3n del barrio correcto es fundamental..."},{_id:"sample-render-3",title:"Tendencias en decoraci\xf3n de interiores 2024",description:"Las \xfaltimas tendencias en decoraci\xf3n de interiores para pisos y apartamentos en Madrid, estilos y colores de moda",slug:"tendencias-decoracion-interiores-2024",date:new Date(Date.now()-864e6).toISOString(),dateFormatted:new Date(Date.now()-864e6).toLocaleDateString("es-ES"),image:{src:"https://images.unsplash.com/photo-1586023492125-27b2c045efd7?w=800&h=600&fit=crop&q=80",alt:"Decoraci\xf3n de interiores"},source:"render-sample",author:"Dise\xf1ador de Interiores",content:"Las tendencias de decoraci\xf3n para este a\xf1o...",excerpt:"La decoraci\xf3n de interiores evoluciona constantemente..."}];try{console.log(`[proxy/backend/blogs] Obteniendo blogs desde ${r}`);let e=await fetch(r,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json","User-Agent":"GozaMadrid-Frontend/1.0"},signal:AbortSignal.timeout(8e3)});if(e.ok){let a=await e.json();if(a&&Array.isArray(a)&&a.length>0){console.log(`[proxy/backend/blogs] Blogs obtenidos: ${a.length}`);let e=a.map(e=>{let t={_id:e._id||e.id||`render-${Math.random().toString(36).substring(2,11)}`,id:e.id||e._id||`id-${Math.random().toString(36).substring(2,9)}`,title:e.title||"Sin t\xedtulo",content:e.content||e.description||"",description:e.description||e.excerpt||"",slug:e.slug||`blog-${Math.random().toString(36).substring(2,7)}`,date:e.date||e.createdAt||new Date().toISOString(),dateFormatted:new Date(e.date||e.createdAt||new Date).toLocaleDateString("es-ES"),source:"render",author:e.author||"Equipo Goza Madrid",...e};if(!t.image&&t.images&&t.images.length>0){let e=t.images[0];t.image={src:"string"==typeof e?e.startsWith("http")?e:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop&q=80":e.src||e.url||"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop&q=80",alt:t.title||"Imagen del blog"}}else t.image?"string"==typeof t.image&&(t.image={src:t.image.startsWith("http")?t.image:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop&q=80",alt:t.title||"Imagen del blog"}):t.image={src:"https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?w=800&h=600&fit=crop&q=80",alt:t.title||"Imagen del blog"};return t});return t.setHeader("Cache-Control","public, max-age=300"),t.status(200).json(e)}}return console.log("[proxy/backend/blogs] No hay datos v\xe1lidos del servidor, usando datos de muestra"),t.setHeader("Cache-Control","public, max-age=60"),t.status(200).json(o)}catch(e){return console.error(`[proxy/backend/blogs] Error: ${e.message}`),t.setHeader("Cache-Control","no-cache, no-store, must-revalidate"),t.status(200).json(o)}}let d=(0,n.M)(r,"default"),l=(0,n.M)(r,"config"),c=new o.PagesAPIRouteModule({definition:{kind:i.A.PAGES_API,page:"/api/proxy/backend/blogs",pathname:"/api/proxy/backend/blogs",bundlePath:"",filename:""},userland:r})},33480:(e,t,a)=>{e.exports=a(75600)},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,a){return a in t?t[a]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,a)):"function"==typeof t&&"default"===a?t:void 0}}})}};var t=require("../../../../webpack-api-runtime.js");t.C(e);var a=t(t.s=27871);module.exports=a})();