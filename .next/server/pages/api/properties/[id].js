"use strict";(()=>{var e={};e.id=9102,e.ids=[9102],e.modules={1428:e=>{e.exports=import("axios")},8667:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return o}});var o=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},33480:(e,t,o)=>{e.exports=o(75600)},45304:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t),o.d(t,{config:()=>c,default:()=>p,routeModule:()=>l});var n=o(33480),a=o(8667),s=o(86435),i=o(95893),d=e([i]);i=(d.then?(await d)():d)[0];let p=(0,s.M)(i,"default"),c=(0,s.M)(i,"config"),l=new n.PagesAPIRouteModule({definition:{kind:a.A.PAGES_API,page:"/api/properties/[id]",pathname:"/api/properties/[id]",bundlePath:"",filename:""},userland:i});r()}catch(e){r(e)}})},75600:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},86435:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,o){return o in t?t[o]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,o)):"function"==typeof t&&"default"===o?t:void 0}}})},95893:(e,t,o)=>{o.a(e,async(e,r)=>{try{o.r(t),o.d(t,{default:()=>s});var n=o(1428),a=e([n]);n=(a.then?(await a)():a)[0];let i="https://api.realestategozamadrid.com";async function s(e,t){if(t.setHeader("Access-Control-Allow-Credentials",!0),t.setHeader("Access-Control-Allow-Origin","*"),t.setHeader("Access-Control-Allow-Methods","GET, OPTIONS"),t.setHeader("Access-Control-Allow-Headers","Content-Type, Cache-Control"),"OPTIONS"===e.method)return t.status(200).end();if("GET"!==e.method)return t.status(405).json({error:"M\xe9todo no permitido"});let{id:o}=e.query;if(!o)return t.status(400).json({error:"ID no proporcionado"});try{try{console.log(`[API Properties] Intentando obtener propiedad de MongoDB con ID: ${o}`);let e=await n.default.get(`${i}/api/properties/sources/mongodb/${o}`,{timeout:15e3,headers:{Accept:"application/json","Content-Type":"application/json"}});if(e.data)return console.log("[API Properties] Propiedad encontrada en MongoDB"),t.status(200).json({...e.data,source:"mongodb"})}catch(e){console.log("[API Properties] No se encontr\xf3 en MongoDB, intentando endpoint general")}let e=await n.default.get(`${i}/api/properties/${o}`,{timeout:15e3,headers:{Accept:"application/json","Content-Type":"application/json"}});if(!e.data)return t.status(404).json({error:"Propiedad no encontrada"});return console.log("[API Properties] Propiedad encontrada en endpoint general"),t.status(200).json({...e.data,source:"general"})}catch(e){if(console.error("[API Properties] Error al obtener propiedad:",e.message),e.response&&404===e.response.status)return t.status(404).json({error:"Propiedad no encontrada",details:e.message});return t.status(500).json({error:"Error al obtener propiedad",details:e.message})}}r()}catch(e){r(e)}})}};var t=require("../../../webpack-api-runtime.js");t.C(e);var o=t(t.s=45304);module.exports=o})();