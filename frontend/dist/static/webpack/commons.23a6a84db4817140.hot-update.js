"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("commons",{

/***/ "./src/components/blog/BlogImage.jsx":
/*!*******************************************!*\
  !*** ./src/components/blog/BlogImage.jsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\nconst API_URL = \"https://goza-madrid.onrender.com\" || 0;\nconst BlogImage = (param)=>{\n    let { src, alt, className = \"\", priority = false, sizes = \"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\" } = param;\n    _s();\n    const [mounted, setMounted] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [imageDimensions, setImageDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        width: 800,\n        height: 600\n    });\n    const [debugInfo, setDebugInfo] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        original: null,\n        processed: null\n    });\n    const [safeSrc, setSafeSrc] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"/img/default-blog-image.jpg\");\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setMounted(true);\n    }, []);\n    // Procesar la URL de la imagen en un efecto para evitar re-renderizados infinitos\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Función para procesar la URL de la imagen\n        const processImageUrl = (url)=>{\n            let processedUrl = \"/img/default-blog-image.jpg\";\n            if (!url) return processedUrl;\n            // Si es un array (formato del esquema de blogs), tomar el primer elemento\n            if (Array.isArray(url) && url.length > 0) {\n                const firstImage = url[0];\n                if (typeof firstImage === \"object\" && firstImage.src) {\n                    return processImageUrl(firstImage.src);\n                } else if (typeof firstImage === \"string\") {\n                    return processImageUrl(firstImage);\n                }\n                return processedUrl;\n            }\n            // Si url es un objeto, extraer la URL\n            if (typeof url === \"object\") {\n                if (url.src) return processImageUrl(url.src);\n                if (url.url) return processImageUrl(url.url);\n                if (url.source_url) return processImageUrl(url.source_url);\n                return processedUrl;\n            }\n            // Asegurarse de que url sea una cadena\n            if (typeof url !== \"string\") {\n                return processedUrl;\n            }\n            // Eliminar referencias a imageproxy\n            if (url.includes(\"imageproxy/\")) {\n                return processedUrl;\n            }\n            // Si la URL es de WordPress, usar un proxy de imágenes para evitar errores HTTP2_PROTOCOL_ERROR\n            if (url.includes(\"realestategozamadrid.com\") || url.includes(\"gozamadrid.com\") || url.includes(\"wp-content\")) {\n                // Usar images.weserv.nl como proxy de imágenes\n                processedUrl = \"https://images.weserv.nl/?url=\".concat(encodeURIComponent(url), \"&default=https://via.placeholder.com/800x600?text=Sin+Imagen\");\n                return processedUrl;\n            }\n            // Si la URL es externa, usar nuestro proxy de imágenes solo para imágenes que no son de WordPress\n            if (url.startsWith(\"http\") || url.startsWith(\"https\")) {\n                // Usar la URL directamente para imágenes externas que no son de WordPress\n                return url;\n            }\n            // Si la URL es relativa, construir la URL completa usando la URL base de la API\n            processedUrl = \"\".concat(API_URL).concat(url.startsWith(\"/\") ? \"\" : \"/\").concat(url);\n            return processedUrl;\n        };\n        // Procesar la URL y actualizar el estado\n        const processedSrc = processImageUrl(src);\n        setSafeSrc(processedSrc);\n        // Actualizar la información de depuración\n        setDebugInfo({\n            original: src,\n            processed: processedSrc\n        });\n    }, [\n        src\n    ]);\n    // Generate a unique ID for structured data references\n    const imageId = \"blog-image-\".concat(Math.random().toString(36).substring(2, 9));\n    // Schema.org structured data for blog images\n    const imageSchema = {\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"ImageObject\",\n        \"@id\": \"#\".concat(imageId),\n        \"contentUrl\": safeSrc || \"/img/default-blog-image.jpg\",\n        \"name\": alt || \"Imagen del blog\",\n        \"description\": alt || \"Fotograf\\xeda del blog\",\n        \"representativeOfPage\": priority\n    };\n    const handleImageError = ()=>{\n        setError(true);\n        setLoading(false);\n    };\n    if (!mounted) {\n        return null;\n    }\n    // Imagen por defecto si hay error o no hay src\n    if (error || !safeSrc) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        type: \"application/ld+json\",\n                        dangerouslySetInnerHTML: {\n                            __html: JSON.stringify({\n                                ...imageSchema,\n                                contentUrl: \"/img/default-blog-image.jpg\"\n                            })\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                        lineNumber: 117,\n                        columnNumber: 11\n                    }, undefined)\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                    lineNumber: 116,\n                    columnNumber: 9\n                }, undefined),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex items-center justify-center bg-gray-200 \".concat(className),\n                    ref: imageRef,\n                    itemScope: true,\n                    itemType: \"https://schema.org/ImageObject\",\n                    \"aria-label\": \"Imagen no disponible\",\n                    role: \"img\",\n                    itemID: \"#\".concat(imageId),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-500\",\n                            children: \"Sin imagen disponible\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                            lineNumber: 134,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"contentUrl\",\n                            content: \"/img/default-blog-image.jpg\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                            lineNumber: 135,\n                            columnNumber: 11\n                        }, undefined),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"name\",\n                            content: alt || \"Imagen no disponible\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                            lineNumber: 136,\n                            columnNumber: 11\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                    lineNumber: 125,\n                    columnNumber: 9\n                }, undefined)\n            ]\n        }, void 0, true);\n    }\n    // Usar un componente img normal para todas las imágenes\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                    type: \"application/ld+json\",\n                    dangerouslySetInnerHTML: {\n                        __html: JSON.stringify(imageSchema)\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                    lineNumber: 146,\n                    columnNumber: 9\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                lineNumber: 145,\n                columnNumber: 7\n            }, undefined),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: imageRef,\n                className: \"relative overflow-hidden\",\n                itemScope: true,\n                itemType: \"https://schema.org/ImageObject\",\n                itemID: \"#\".concat(imageId),\n                children: [\n                    loading && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"absolute inset-0 flex items-center justify-center bg-gray-100\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-pulse bg-gray-200 rounded-full h-16 w-16\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                            lineNumber: 160,\n                            columnNumber: 13\n                        }, undefined)\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                        lineNumber: 159,\n                        columnNumber: 11\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                        src: safeSrc,\n                        alt: alt || \"Imagen del blog\",\n                        className: \"w-full h-full object-cover \".concat(className),\n                        onError: handleImageError,\n                        onLoad: ()=>setLoading(false),\n                        loading: priority ? \"eager\" : \"lazy\",\n                        decoding: \"async\",\n                        itemProp: \"contentUrl\",\n                        \"data-debug\": JSON.stringify(debugInfo)\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                        lineNumber: 164,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        itemProp: \"name\",\n                        content: alt || \"Fotograf\\xeda del blog\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                        lineNumber: 175,\n                        columnNumber: 9\n                    }, undefined),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        itemProp: \"representativeOfPage\",\n                        content: priority ? \"true\" : \"false\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                        lineNumber: 176,\n                        columnNumber: 9\n                    }, undefined)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/blog/BlogImage.jsx\",\n                lineNumber: 151,\n                columnNumber: 7\n            }, undefined)\n        ]\n    }, void 0, true);\n};\n_s(BlogImage, \"jOjjuN44PClgnNlMDegfdz14d+k=\");\n_c = BlogImage;\n/* harmony default export */ __webpack_exports__[\"default\"] = (BlogImage);\nvar _c;\n$RefreshReg$(_c, \"BlogImage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJQTswQkFDSCw0RUFBQytDO29CQUNDQyxNQUFLO29CQUNMQyx5QkFBeUI7d0JBQUVDLFFBQVFDLEtBQUtDLFNBQVMsQ0FBQ1A7b0JBQWE7Ozs7Ozs7Ozs7OzBCQUduRSw4REFBQ1M7Z0JBQ0NDLEtBQUt0QztnQkFDTFQsV0FBVTtnQkFDVmdELFNBQVM7Z0JBQ1RDLFVBQVM7Z0JBQ1RHLFFBQVEsSUFBWSxPQUFScEI7O29CQUVYekIseUJBQ0MsOERBQUN1Qzt3QkFBSTlDLFdBQVU7a0NBQ2IsNEVBQUM4Qzs0QkFBSTlDLFdBQVU7Ozs7Ozs7Ozs7O2tDQUluQiw4REFBQ3lEO3dCQUNDM0QsS0FBS29CO3dCQUNMbkIsS0FBS0EsT0FBTzt3QkFDWkMsV0FBVyw4QkFBd0MsT0FBVkE7d0JBQ3pDMEQsU0FBU3BCO3dCQUNUcUIsUUFBUSxJQUFNbkQsV0FBVzt3QkFDekJELFNBQVNOLFdBQVcsVUFBVTt3QkFDOUIyRCxVQUFTO3dCQUNUTCxVQUFTO3dCQUNUTSxjQUFZbEIsS0FBS0MsU0FBUyxDQUFDOUI7Ozs7OztrQ0FFN0IsOERBQUN3Qzt3QkFBS0MsVUFBUzt3QkFBT0MsU0FBU3pELE9BQU87Ozs7OztrQ0FDdEMsOERBQUN1RDt3QkFBS0MsVUFBUzt3QkFBdUJDLFNBQVN2RCxXQUFXLFNBQVM7Ozs7Ozs7Ozs7Ozs7O0FBSTNFO0dBM0tNSjtLQUFBQTtBQTZLTiwrREFBZUEsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9ibG9nL0Jsb2dJbWFnZS5qc3g/M2Q1OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBjbGllbnRcIjtcblxuaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5cbmNvbnN0IEFQSV9VUkwgPSBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19BUElfVVJMIHx8ICdodHRwOi8vbG9jYWxob3N0OjMwMDAnO1xuXG5jb25zdCBCbG9nSW1hZ2UgPSAoeyBzcmMsIGFsdCwgY2xhc3NOYW1lID0gXCJcIiwgcHJpb3JpdHkgPSBmYWxzZSwgc2l6ZXMgPSBcIihtYXgtd2lkdGg6IDY0MHB4KSAxMDB2dywgKG1heC13aWR0aDogMTAyNHB4KSA1MHZ3LCAzM3Z3XCIgfSkgPT4ge1xuICBjb25zdCBbbW91bnRlZCwgc2V0TW91bnRlZF0gPSB1c2VTdGF0ZShmYWxzZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgaW1hZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpbWFnZURpbWVuc2lvbnMsIHNldEltYWdlRGltZW5zaW9uc10gPSB1c2VTdGF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICBjb25zdCBbZGVidWdJbmZvLCBzZXREZWJ1Z0luZm9dID0gdXNlU3RhdGUoeyBvcmlnaW5hbDogbnVsbCwgcHJvY2Vzc2VkOiBudWxsIH0pO1xuICBjb25zdCBbc2FmZVNyYywgc2V0U2FmZVNyY10gPSB1c2VTdGF0ZSgnL2ltZy9kZWZhdWx0LWJsb2ctaW1hZ2UuanBnJyk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRNb3VudGVkKHRydWUpO1xuICB9LCBbXSk7XG5cbiAgLy8gUHJvY2VzYXIgbGEgVVJMIGRlIGxhIGltYWdlbiBlbiB1biBlZmVjdG8gcGFyYSBldml0YXIgcmUtcmVuZGVyaXphZG9zIGluZmluaXRvc1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIC8vIEZ1bmNpw7NuIHBhcmEgcHJvY2VzYXIgbGEgVVJMIGRlIGxhIGltYWdlblxuICAgIGNvbnN0IHByb2Nlc3NJbWFnZVVybCA9ICh1cmwpID0+IHtcbiAgICAgIGxldCBwcm9jZXNzZWRVcmwgPSAnL2ltZy9kZWZhdWx0LWJsb2ctaW1hZ2UuanBnJztcbiAgICAgIFxuICAgICAgaWYgKCF1cmwpIHJldHVybiBwcm9jZXNzZWRVcmw7XG5cbiAgICAgIC8vIFNpIGVzIHVuIGFycmF5IChmb3JtYXRvIGRlbCBlc3F1ZW1hIGRlIGJsb2dzKSwgdG9tYXIgZWwgcHJpbWVyIGVsZW1lbnRvXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheSh1cmwpICYmIHVybC5sZW5ndGggPiAwKSB7XG4gICAgICAgIGNvbnN0IGZpcnN0SW1hZ2UgPSB1cmxbMF07XG4gICAgICAgIGlmICh0eXBlb2YgZmlyc3RJbWFnZSA9PT0gJ29iamVjdCcgJiYgZmlyc3RJbWFnZS5zcmMpIHtcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc0ltYWdlVXJsKGZpcnN0SW1hZ2Uuc3JjKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZmlyc3RJbWFnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICByZXR1cm4gcHJvY2Vzc0ltYWdlVXJsKGZpcnN0SW1hZ2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcm9jZXNzZWRVcmw7XG4gICAgICB9XG5cbiAgICAgIC8vIFNpIHVybCBlcyB1biBvYmpldG8sIGV4dHJhZXIgbGEgVVJMXG4gICAgICBpZiAodHlwZW9mIHVybCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgaWYgKHVybC5zcmMpIHJldHVybiBwcm9jZXNzSW1hZ2VVcmwodXJsLnNyYyk7XG4gICAgICAgIGlmICh1cmwudXJsKSByZXR1cm4gcHJvY2Vzc0ltYWdlVXJsKHVybC51cmwpO1xuICAgICAgICBpZiAodXJsLnNvdXJjZV91cmwpIHJldHVybiBwcm9jZXNzSW1hZ2VVcmwodXJsLnNvdXJjZV91cmwpO1xuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkVXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBBc2VndXJhcnNlIGRlIHF1ZSB1cmwgc2VhIHVuYSBjYWRlbmFcbiAgICAgIGlmICh0eXBlb2YgdXJsICE9PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkVXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBFbGltaW5hciByZWZlcmVuY2lhcyBhIGltYWdlcHJveHlcbiAgICAgIGlmICh1cmwuaW5jbHVkZXMoJ2ltYWdlcHJveHkvJykpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NlZFVybDtcbiAgICAgIH1cblxuICAgICAgLy8gU2kgbGEgVVJMIGVzIGRlIFdvcmRQcmVzcywgdXNhciB1biBwcm94eSBkZSBpbcOhZ2VuZXMgcGFyYSBldml0YXIgZXJyb3JlcyBIVFRQMl9QUk9UT0NPTF9FUlJPUlxuICAgICAgaWYgKHVybC5pbmNsdWRlcygncmVhbGVzdGF0ZWdvemFtYWRyaWQuY29tJykgfHwgdXJsLmluY2x1ZGVzKCdnb3phbWFkcmlkLmNvbScpIHx8IHVybC5pbmNsdWRlcygnd3AtY29udGVudCcpKSB7XG4gICAgICAgIC8vIFVzYXIgaW1hZ2VzLndlc2Vydi5ubCBjb21vIHByb3h5IGRlIGltw6FnZW5lc1xuICAgICAgICBwcm9jZXNzZWRVcmwgPSBgaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sLz91cmw9JHtlbmNvZGVVUklDb21wb25lbnQodXJsKX0mZGVmYXVsdD1odHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vODAweDYwMD90ZXh0PVNpbitJbWFnZW5gO1xuICAgICAgICByZXR1cm4gcHJvY2Vzc2VkVXJsO1xuICAgICAgfVxuXG4gICAgICAvLyBTaSBsYSBVUkwgZXMgZXh0ZXJuYSwgdXNhciBudWVzdHJvIHByb3h5IGRlIGltw6FnZW5lcyBzb2xvIHBhcmEgaW3DoWdlbmVzIHF1ZSBubyBzb24gZGUgV29yZFByZXNzXG4gICAgICBpZiAodXJsLnN0YXJ0c1dpdGgoJ2h0dHAnKSB8fCB1cmwuc3RhcnRzV2l0aCgnaHR0cHMnKSkge1xuICAgICAgICAvLyBVc2FyIGxhIFVSTCBkaXJlY3RhbWVudGUgcGFyYSBpbcOhZ2VuZXMgZXh0ZXJuYXMgcXVlIG5vIHNvbiBkZSBXb3JkUHJlc3NcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH1cblxuICAgICAgLy8gU2kgbGEgVVJMIGVzIHJlbGF0aXZhLCBjb25zdHJ1aXIgbGEgVVJMIGNvbXBsZXRhIHVzYW5kbyBsYSBVUkwgYmFzZSBkZSBsYSBBUElcbiAgICAgIHByb2Nlc3NlZFVybCA9IGAke0FQSV9VUkx9JHt1cmwuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHt1cmx9YDtcbiAgICAgIHJldHVybiBwcm9jZXNzZWRVcmw7XG4gICAgfTtcblxuICAgIC8vIFByb2Nlc2FyIGxhIFVSTCB5IGFjdHVhbGl6YXIgZWwgZXN0YWRvXG4gICAgY29uc3QgcHJvY2Vzc2VkU3JjID0gcHJvY2Vzc0ltYWdlVXJsKHNyYyk7XG4gICAgc2V0U2FmZVNyYyhwcm9jZXNzZWRTcmMpO1xuICAgIFxuICAgIC8vIEFjdHVhbGl6YXIgbGEgaW5mb3JtYWNpw7NuIGRlIGRlcHVyYWNpw7NuXG4gICAgc2V0RGVidWdJbmZvKHtcbiAgICAgIG9yaWdpbmFsOiBzcmMsXG4gICAgICBwcm9jZXNzZWQ6IHByb2Nlc3NlZFNyY1xuICAgIH0pO1xuICB9LCBbc3JjXSk7XG5cbiAgLy8gR2VuZXJhdGUgYSB1bmlxdWUgSUQgZm9yIHN0cnVjdHVyZWQgZGF0YSByZWZlcmVuY2VzXG4gIGNvbnN0IGltYWdlSWQgPSBgYmxvZy1pbWFnZS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gO1xuICBcbiAgLy8gU2NoZW1hLm9yZyBzdHJ1Y3R1cmVkIGRhdGEgZm9yIGJsb2cgaW1hZ2VzXG4gIGNvbnN0IGltYWdlU2NoZW1hID0ge1xuICAgIFwiQGNvbnRleHRcIjogXCJodHRwczovL3NjaGVtYS5vcmdcIixcbiAgICBcIkB0eXBlXCI6IFwiSW1hZ2VPYmplY3RcIixcbiAgICBcIkBpZFwiOiBgIyR7aW1hZ2VJZH1gLFxuICAgIFwiY29udGVudFVybFwiOiBzYWZlU3JjIHx8IFwiL2ltZy9kZWZhdWx0LWJsb2ctaW1hZ2UuanBnXCIsXG4gICAgXCJuYW1lXCI6IGFsdCB8fCBcIkltYWdlbiBkZWwgYmxvZ1wiLFxuICAgIFwiZGVzY3JpcHRpb25cIjogYWx0IHx8IFwiRm90b2dyYWbDrWEgZGVsIGJsb2dcIixcbiAgICBcInJlcHJlc2VudGF0aXZlT2ZQYWdlXCI6IHByaW9yaXR5XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSW1hZ2VFcnJvciA9ICgpID0+IHtcbiAgICBzZXRFcnJvcih0cnVlKTtcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfTtcblxuICBpZiAoIW1vdW50ZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuXG4gIC8vIEltYWdlbiBwb3IgZGVmZWN0byBzaSBoYXkgZXJyb3IgbyBubyBoYXkgc3JjXG4gIGlmIChlcnJvciB8fCAhc2FmZVNyYykge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7LyogSW5jbHVkZSBzdHJ1Y3R1cmVkIGRhdGEgZXZlbiBmb3IgZmFsbGJhY2sgaW1hZ2VzICovfVxuICAgICAgICA8SGVhZD5cbiAgICAgICAgICA8c2NyaXB0XG4gICAgICAgICAgICB0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgLi4uaW1hZ2VTY2hlbWEsXG4gICAgICAgICAgICAgIGNvbnRlbnRVcmw6IFwiL2ltZy9kZWZhdWx0LWJsb2ctaW1hZ2UuanBnXCIgXG4gICAgICAgICAgICB9KSB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvSGVhZD5cbiAgICAgICAgPGRpdiBcbiAgICAgICAgICBjbGFzc05hbWU9e2BmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTIwMCAke2NsYXNzTmFtZX1gfVxuICAgICAgICAgIHJlZj17aW1hZ2VSZWZ9XG4gICAgICAgICAgaXRlbVNjb3BlXG4gICAgICAgICAgaXRlbVR5cGU9XCJodHRwczovL3NjaGVtYS5vcmcvSW1hZ2VPYmplY3RcIlxuICAgICAgICAgIGFyaWEtbGFiZWw9XCJJbWFnZW4gbm8gZGlzcG9uaWJsZVwiXG4gICAgICAgICAgcm9sZT1cImltZ1wiXG4gICAgICAgICAgaXRlbUlEPXtgIyR7aW1hZ2VJZH1gfVxuICAgICAgICA+XG4gICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTUwMFwiPlNpbiBpbWFnZW4gZGlzcG9uaWJsZTwvc3Bhbj5cbiAgICAgICAgICA8bWV0YSBpdGVtUHJvcD1cImNvbnRlbnRVcmxcIiBjb250ZW50PVwiL2ltZy9kZWZhdWx0LWJsb2ctaW1hZ2UuanBnXCIgLz5cbiAgICAgICAgICA8bWV0YSBpdGVtUHJvcD1cIm5hbWVcIiBjb250ZW50PXthbHQgfHwgXCJJbWFnZW4gbm8gZGlzcG9uaWJsZVwifSAvPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cblxuICAvLyBVc2FyIHVuIGNvbXBvbmVudGUgaW1nIG5vcm1hbCBwYXJhIHRvZGFzIGxhcyBpbcOhZ2VuZXNcbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDxzY3JpcHRcbiAgICAgICAgICB0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXG4gICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBKU09OLnN0cmluZ2lmeShpbWFnZVNjaGVtYSkgfX1cbiAgICAgICAgLz5cbiAgICAgIDwvSGVhZD5cbiAgICAgIDxkaXYgXG4gICAgICAgIHJlZj17aW1hZ2VSZWZ9XG4gICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIG92ZXJmbG93LWhpZGRlblwiXG4gICAgICAgIGl0ZW1TY29wZVxuICAgICAgICBpdGVtVHlwZT1cImh0dHBzOi8vc2NoZW1hLm9yZy9JbWFnZU9iamVjdFwiXG4gICAgICAgIGl0ZW1JRD17YCMke2ltYWdlSWR9YH1cbiAgICAgID5cbiAgICAgICAge2xvYWRpbmcgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgaW5zZXQtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBiZy1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhbmltYXRlLXB1bHNlIGJnLWdyYXktMjAwIHJvdW5kZWQtZnVsbCBoLTE2IHctMTZcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cbiAgICAgICAgXG4gICAgICAgIDxpbWdcbiAgICAgICAgICBzcmM9e3NhZmVTcmN9XG4gICAgICAgICAgYWx0PXthbHQgfHwgXCJJbWFnZW4gZGVsIGJsb2dcIn1cbiAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciAke2NsYXNzTmFtZX1gfVxuICAgICAgICAgIG9uRXJyb3I9e2hhbmRsZUltYWdlRXJyb3J9XG4gICAgICAgICAgb25Mb2FkPXsoKSA9PiBzZXRMb2FkaW5nKGZhbHNlKX1cbiAgICAgICAgICBsb2FkaW5nPXtwcmlvcml0eSA/ICdlYWdlcicgOiAnbGF6eSd9XG4gICAgICAgICAgZGVjb2Rpbmc9XCJhc3luY1wiXG4gICAgICAgICAgaXRlbVByb3A9XCJjb250ZW50VXJsXCJcbiAgICAgICAgICBkYXRhLWRlYnVnPXtKU09OLnN0cmluZ2lmeShkZWJ1Z0luZm8pfVxuICAgICAgICAvPlxuICAgICAgICA8bWV0YSBpdGVtUHJvcD1cIm5hbWVcIiBjb250ZW50PXthbHQgfHwgXCJGb3RvZ3JhZsOtYSBkZWwgYmxvZ1wifSAvPlxuICAgICAgICA8bWV0YSBpdGVtUHJvcD1cInJlcHJlc2VudGF0aXZlT2ZQYWdlXCIgY29udGVudD17cHJpb3JpdHkgPyBcInRydWVcIiA6IFwiZmFsc2VcIn0gLz5cbiAgICAgIDwvZGl2PlxuICAgIDwvPlxuICApO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQmxvZ0ltYWdlOyAiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIkltYWdlIiwiSGVhZCIsIkFQSV9VUkwiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfQVBJX1VSTCIsIkJsb2dJbWFnZSIsInNyYyIsImFsdCIsImNsYXNzTmFtZSIsInByaW9yaXR5Iiwic2l6ZXMiLCJtb3VudGVkIiwic2V0TW91bnRlZCIsImVycm9yIiwic2V0RXJyb3IiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImltYWdlUmVmIiwiaW1hZ2VEaW1lbnNpb25zIiwic2V0SW1hZ2VEaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJkZWJ1Z0luZm8iLCJzZXREZWJ1Z0luZm8iLCJvcmlnaW5hbCIsInByb2Nlc3NlZCIsInNhZmVTcmMiLCJzZXRTYWZlU3JjIiwicHJvY2Vzc0ltYWdlVXJsIiwidXJsIiwicHJvY2Vzc2VkVXJsIiwiQXJyYXkiLCJpc0FycmF5IiwibGVuZ3RoIiwiZmlyc3RJbWFnZSIsInNvdXJjZV91cmwiLCJpbmNsdWRlcyIsImVuY29kZVVSSUNvbXBvbmVudCIsInN0YXJ0c1dpdGgiLCJwcm9jZXNzZWRTcmMiLCJpbWFnZUlkIiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwiaW1hZ2VTY2hlbWEiLCJoYW5kbGVJbWFnZUVycm9yIiwic2NyaXB0IiwidHlwZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRVcmwiLCJkaXYiLCJyZWYiLCJpdGVtU2NvcGUiLCJpdGVtVHlwZSIsImFyaWEtbGFiZWwiLCJyb2xlIiwiaXRlbUlEIiwic3BhbiIsIm1ldGEiLCJpdGVtUHJvcCIsImNvbnRlbnQiLCJpbWciLCJvbkVycm9yIiwib25Mb2FkIiwiZGVjb2RpbmciLCJkYXRhLWRlYnVnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/blog/BlogImage.jsx\n"));

/***/ }),

/***/ "./src/services/wpApi.js":
/*!*******************************!*\
  !*** ./src/services/wpApi.js ***!
  \*******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getBlogPostBySlug: function() { return /* binding */ getBlogPostBySlug; },\n/* harmony export */   getBlogPostsFromServer: function() { return /* binding */ getBlogPostsFromServer; },\n/* harmony export */   getImageUrl: function() { return /* binding */ getImageUrl; },\n/* harmony export */   transformWordPressPost: function() { return /* binding */ transformWordPressPost; }\n/* harmony export */ });\n/**\n * Servicio para gestionar las peticiones a la API de WordPress\n */ // URL base de la API de WordPress (usando nuestro proxy)\nconst WP_API_URL = \"/api/wordpress-proxy?endpoint=wp&path=posts\";\n// Añadir esta función de utilidad en la parte superior del archivo\nconst proxyImage = (url)=>{\n    if (!url) return \"/img/default-logo.png\";\n    // Si la URL ya es un proxy o una ruta local, devuélvela tal cual\n    if (url.startsWith(\"/\") && !url.startsWith(\"//\")) return url;\n    // Asegurarse de que todas las URLs externas pasen por el proxy\n    return \"/api/image-proxy?url=\".concat(encodeURIComponent(url));\n};\n// Añade esta función de seguridad en la parte superior del archivo\nconst safeRenderValue = (value)=>{\n    if (value === null || value === undefined) return \"\";\n    if (typeof value === \"string\") return value;\n    if (typeof value === \"number\" || typeof value === \"boolean\") return String(value);\n    if (typeof value === \"object\") {\n        // Caso especial para objetos de WordPress\n        if (value.rendered) return value.rendered;\n        // Para otros objetos, convertirlos a JSON\n        return JSON.stringify(value);\n    }\n    return String(value);\n};\n/**\n * Obtiene los posts del blog\n * @param {number} page - Número de página\n * @param {number} perPage - Cantidad de posts por página\n * @returns {Promise} - Promesa con los posts\n */ const getBlogPostsFromServer = async function() {\n    let page = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : 1, perPage = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 9;\n    try {\n        // Determinar si estamos en el servidor o en el cliente\n        const isServer = \"object\" === \"undefined\";\n        // Construir la URL base según el entorno\n        let baseUrl = \"\";\n        if (isServer) {\n            // En el servidor, usamos directamente la API de WordPress para evitar problemas con URLs relativas\n            baseUrl = \"https://realestategozamadrid.com/wp-json/wp/v2\";\n        } else {\n            // En el cliente, usamos nuestro proxy\n            baseUrl = \"/api/wordpress-proxy?endpoint=wp&path=\";\n        }\n        // Construir la URL completa\n        const url = isServer ? \"\".concat(baseUrl, \"/posts?page=\").concat(page, \"&per_page=\").concat(perPage, \"&_embed\") : \"\".concat(baseUrl, \"posts&page=\").concat(page, \"&per_page=\").concat(perPage, \"&_embed=true\");\n        console.log(\"WP API: URL de petici\\xf3n (\".concat(isServer ? \"servidor\" : \"cliente\", \"): \").concat(url));\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            cache: \"no-store\" // Evitar caché en Next.js\n        });\n        if (!response.ok) {\n            console.error(\"Error en la respuesta de WordPress: \".concat(response.status, \" \").concat(response.statusText));\n            throw new Error(\"Error al obtener los posts\");\n        }\n        const postsData = await response.json();\n        const totalPages = parseInt(response.headers.get(\"X-WP-TotalPages\") || \"1\");\n        console.log(\"Obtenidos \".concat(postsData.length, \" posts de WordPress con \\xe9xito\"));\n        // Procesar los posts para garantizar que no hay objetos directos en ningún campo\n        const processedPosts = postsData.map((post)=>{\n            // Crear una copia sin referencias a objetos de WordPress\n            return {\n                ...post,\n                title: safeRenderValue(post.title),\n                content: safeRenderValue(post.content),\n                excerpt: safeRenderValue(post.excerpt),\n                // Usar nuestra nueva función getImageUrl para extraer correctamente la imagen\n                image: {\n                    src: getImageUrl(post),\n                    alt: safeRenderValue(post.title)\n                },\n                source: \"wordpress\",\n                _id: \"wp-\".concat(post.id),\n                id: post.id\n            };\n        });\n        // Mantener la estructura anterior\n        return {\n            posts: processedPosts,\n            totalPages\n        };\n    } catch (error) {\n        console.error(\"Error en getBlogPostsFromServer:\", error);\n        return {\n            posts: [],\n            totalPages: 0\n        };\n    }\n};\n/**\n * Obtiene un post específico por su slug con reintentos\n * @param {string} slug - Slug del post\n * @param {number} retries - Número de reintentos (por defecto 5)\n * @returns {Promise} - Promesa con el post\n */ async function getBlogPostBySlug(slug) {\n    let retries = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : 5;\n    try {\n        console.log('WP API: Buscando blog con slug \"'.concat(slug, '\"'));\n        // Determinar si estamos en el servidor o en el cliente\n        const isServer = \"object\" === \"undefined\";\n        // Construir la URL base según el entorno\n        let baseUrl = \"\";\n        if (isServer) {\n            // En el servidor, usamos directamente la API de WordPress para evitar problemas con URLs relativas\n            baseUrl = \"https://realestategozamadrid.com/wp-json/wp/v2\";\n        } else {\n            // En el cliente, usamos nuestro proxy\n            baseUrl = \"/api/wordpress-proxy?endpoint=wp&path=\";\n        }\n        // Construir la URL completa\n        const url = isServer ? \"\".concat(baseUrl, \"/posts?slug=\").concat(encodeURIComponent(slug), \"&_embed\") : \"\".concat(baseUrl, \"posts&slug=\").concat(encodeURIComponent(slug), \"&_embed=true\");\n        console.log(\"WP API: URL de petici\\xf3n (\".concat(isServer ? \"servidor\" : \"cliente\", \"): \").concat(url));\n        // Añadir timeout para evitar que la petición se quede colgada\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>controller.abort(), 60000); // 60 segundos timeout\n        const response = await fetch(url, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Cache-Control\": \"no-cache\",\n                \"Pragma\": \"no-cache\"\n            },\n            cache: \"no-store\",\n            signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        // Si obtenemos un error 503, intentar de nuevo después de un retraso\n        if (response.status === 503 && retries > 0) {\n            console.log(\"Error 503 al obtener blog con slug \".concat(slug, \". Reintentando en 5 segundos... (\").concat(retries, \" intentos restantes)\"));\n            await new Promise((resolve)=>setTimeout(resolve, 5000)); // Esperar 5 segundos\n            return getBlogPostBySlug(slug, retries - 1);\n        }\n        if (!response.ok) {\n            console.error(\"Error al obtener el post: \".concat(response.status, \" \").concat(response.statusText));\n            throw new Error(\"Error al obtener el post: \".concat(response.status));\n        }\n        const posts = await response.json();\n        console.log(\"WP API: Respuesta recibida, posts encontrados: \".concat(posts.length));\n        // Si encontramos el post, procesar sus campos\n        if (posts && posts.length > 0) {\n            var _post_title;\n            const post = posts[0];\n            console.log(\"WP API: Post encontrado: ID=\".concat(post.id, ', t\\xedtulo=\"').concat((_post_title = post.title) === null || _post_title === void 0 ? void 0 : _post_title.rendered, '\"'));\n            // Procesar todos los campos que podrían ser objetos\n            post.title = safeRenderValue(post.title);\n            post.content = safeRenderValue(post.content);\n            post.excerpt = safeRenderValue(post.excerpt);\n            return post;\n        } else {\n            console.log(\"WP API: No se encontr\\xf3 blog de WordPress con slug: \".concat(slug));\n            return null;\n        }\n    } catch (error) {\n        console.error(\"Error en getBlogPostBySlug:\", error);\n        // Si es un error de timeout o de red y aún tenemos reintentos, intentar de nuevo\n        if ((error.name === \"AbortError\" || error.name === \"TypeError\") && retries > 0) {\n            console.log(\"Error de red al obtener blog con slug \".concat(slug, \". Reintentando en 5 segundos... (\").concat(retries, \" intentos restantes)\"));\n            await new Promise((resolve)=>setTimeout(resolve, 5000)); // Esperar 5 segundos\n            return getBlogPostBySlug(slug, retries - 1);\n        }\n        throw error;\n    }\n}\n// En la función que transforma los posts de WordPress\nfunction transformWordPressPost(wpPost, cleanSlug) {\n    // Código existente...\n    // Reemplazar la función getImageUrl para asegurar que todas las imágenes usen el proxy\n    const getImageUrl = (post)=>{\n        let imageUrl = null;\n        // Intentar obtener la imagen destacada\n        if (post._embedded && post._embedded[\"wp:featuredmedia\"] && post._embedded[\"wp:featuredmedia\"].length > 0) {\n            const media = post._embedded[\"wp:featuredmedia\"][0];\n            // Intentar diferentes tamaños de imagen\n            if (media.media_details && media.media_details.sizes) {\n                // Preferir tamaños en este orden\n                const sizes = [\n                    \"large\",\n                    \"medium_large\",\n                    \"medium\",\n                    \"thumbnail\",\n                    \"full\"\n                ];\n                for (const size of sizes){\n                    if (media.media_details.sizes[size]) {\n                        imageUrl = media.media_details.sizes[size].source_url;\n                        break;\n                    }\n                }\n            }\n            // Si no se encontró ningún tamaño específico, usar la URL estándar\n            if (!imageUrl && media.source_url) {\n                imageUrl = media.source_url;\n            }\n        }\n        // Buscar en uagb_featured_image_src como alternativa\n        if (!imageUrl && post.uagb_featured_image_src) {\n            for(const size in post.uagb_featured_image_src){\n                if (post.uagb_featured_image_src[size] && Array.isArray(post.uagb_featured_image_src[size])) {\n                    imageUrl = post.uagb_featured_image_src[size][0];\n                    break;\n                }\n            }\n        }\n        // Buscar en el contenido como último recurso\n        if (!imageUrl && post.content && post.content.rendered) {\n            const imgMatch = post.content.rendered.match(/<img[^>]+src=\"([^\">]+)\"/);\n            if (imgMatch && imgMatch[1]) {\n                imageUrl = imgMatch[1];\n            }\n        }\n        // Siempre utilizar el proxy para URLs externas\n        return imageUrl ? proxyImage(imageUrl) : \"/img/default-logo.png\";\n    };\n    // Resto del código de transformación...\n    return {\n        // Resto de las propiedades...\n        imageUrl: getImageUrl(wpPost)\n    };\n}\n// Función getImageUrl mejorada para no depender del proxy\nfunction getImageUrl(wpPost) {\n    // Intentar obtener la URL desde diferentes fuentes\n    let imageUrl = null;\n    if (!wpPost) return \"\";\n    // Buscar en datos embebidos (disponibles con _embed)\n    if (wpPost._embedded && wpPost._embedded[\"wp:featuredmedia\"] && wpPost._embedded[\"wp:featuredmedia\"][0]) {\n        const media = wpPost._embedded[\"wp:featuredmedia\"][0];\n        // Obtener imagen en tamaño mediano si está disponible\n        if (media.media_details && media.media_details.sizes) {\n            for (const size of [\n                \"medium_large\",\n                \"medium\",\n                \"large\",\n                \"full\"\n            ]){\n                if (media.media_details.sizes[size]) {\n                    imageUrl = media.media_details.sizes[size].source_url;\n                    break;\n                }\n            }\n        }\n        // Fallback a source_url\n        if (!imageUrl && media.source_url) {\n            imageUrl = media.source_url;\n        }\n    }\n    // Otros métodos para encontrar la imagen\n    if (!imageUrl) {\n        var _wpPost_uagb_featured_image_src_medium, _wpPost_uagb_featured_image_src, _wpPost_uagb_featured_image_src_full, _wpPost_uagb_featured_image_src1, _wpPost_image;\n        imageUrl = ((_wpPost_uagb_featured_image_src = wpPost.uagb_featured_image_src) === null || _wpPost_uagb_featured_image_src === void 0 ? void 0 : (_wpPost_uagb_featured_image_src_medium = _wpPost_uagb_featured_image_src.medium) === null || _wpPost_uagb_featured_image_src_medium === void 0 ? void 0 : _wpPost_uagb_featured_image_src_medium[0]) || ((_wpPost_uagb_featured_image_src1 = wpPost.uagb_featured_image_src) === null || _wpPost_uagb_featured_image_src1 === void 0 ? void 0 : (_wpPost_uagb_featured_image_src_full = _wpPost_uagb_featured_image_src1.full) === null || _wpPost_uagb_featured_image_src_full === void 0 ? void 0 : _wpPost_uagb_featured_image_src_full[0]) || ((_wpPost_image = wpPost.image) === null || _wpPost_image === void 0 ? void 0 : _wpPost_image.src) || \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23f0f0f0'/%3E%3Ctext x='50%25' y='50%25' font-size='24' text-anchor='middle' alignment-baseline='middle' font-family='Arial' fill='%23999999'%3EImagen no disponible%3C/text%3E%3C/svg%3E\";\n    }\n    // Aplicar el proxy para URLs externas\n    if (imageUrl && typeof imageUrl === \"string\" && !imageUrl.startsWith(\"data:\") && !imageUrl.startsWith(\"/\")) {\n        // Usar el proxy para imágenes externas\n        return \"/api/image-proxy?url=\".concat(encodeURIComponent(imageUrl));\n    }\n    return imageUrl;\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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c2VydmljZXMvd3BBcGkuanM/YjQ5NCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIFNlcnZpY2lvIHBhcmEgZ2VzdGlvbmFyIGxhcyBwZXRpY2lvbmVzIGEgbGEgQVBJIGRlIFdvcmRQcmVzc1xuICovXG5cbi8vIFVSTCBiYXNlIGRlIGxhIEFQSSBkZSBXb3JkUHJlc3MgKHVzYW5kbyBudWVzdHJvIHByb3h5KVxuY29uc3QgV1BfQVBJX1VSTCA9ICcvYXBpL3dvcmRwcmVzcy1wcm94eT9lbmRwb2ludD13cCZwYXRoPXBvc3RzJztcblxuLy8gQcOxYWRpciBlc3RhIGZ1bmNpw7NuIGRlIHV0aWxpZGFkIGVuIGxhIHBhcnRlIHN1cGVyaW9yIGRlbCBhcmNoaXZvXG5jb25zdCBwcm94eUltYWdlID0gKHVybCkgPT4ge1xuICBpZiAoIXVybCkgcmV0dXJuICcvaW1nL2RlZmF1bHQtbG9nby5wbmcnO1xuICBcbiAgLy8gU2kgbGEgVVJMIHlhIGVzIHVuIHByb3h5IG8gdW5hIHJ1dGEgbG9jYWwsIGRldnXDqWx2ZWxhIHRhbCBjdWFsXG4gIGlmICh1cmwuc3RhcnRzV2l0aCgnLycpICYmICF1cmwuc3RhcnRzV2l0aCgnLy8nKSkgcmV0dXJuIHVybDtcbiAgXG4gIC8vIEFzZWd1cmFyc2UgZGUgcXVlIHRvZGFzIGxhcyBVUkxzIGV4dGVybmFzIHBhc2VuIHBvciBlbCBwcm94eVxuICByZXR1cm4gYC9hcGkvaW1hZ2UtcHJveHk/dXJsPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHVybCl9YDtcbn07XG5cbi8vIEHDsWFkZSBlc3RhIGZ1bmNpw7NuIGRlIHNlZ3VyaWRhZCBlbiBsYSBwYXJ0ZSBzdXBlcmlvciBkZWwgYXJjaGl2b1xuY29uc3Qgc2FmZVJlbmRlclZhbHVlID0gKHZhbHVlKSA9PiB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkKSByZXR1cm4gJyc7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSByZXR1cm4gdmFsdWU7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm4gU3RyaW5nKHZhbHVlKTtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAvLyBDYXNvIGVzcGVjaWFsIHBhcmEgb2JqZXRvcyBkZSBXb3JkUHJlc3NcbiAgICBpZiAodmFsdWUucmVuZGVyZWQpIHJldHVybiB2YWx1ZS5yZW5kZXJlZDtcbiAgICAvLyBQYXJhIG90cm9zIG9iamV0b3MsIGNvbnZlcnRpcmxvcyBhIEpTT05cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICB9XG4gIHJldHVybiBTdHJpbmcodmFsdWUpO1xufTtcblxuLyoqXG4gKiBPYnRpZW5lIGxvcyBwb3N0cyBkZWwgYmxvZ1xuICogQHBhcmFtIHtudW1iZXJ9IHBhZ2UgLSBOw7ptZXJvIGRlIHDDoWdpbmFcbiAqIEBwYXJhbSB7bnVtYmVyfSBwZXJQYWdlIC0gQ2FudGlkYWQgZGUgcG9zdHMgcG9yIHDDoWdpbmFcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIFByb21lc2EgY29uIGxvcyBwb3N0c1xuICovXG5leHBvcnQgY29uc3QgZ2V0QmxvZ1Bvc3RzRnJvbVNlcnZlciA9IGFzeW5jIChwYWdlID0gMSwgcGVyUGFnZSA9IDkpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBEZXRlcm1pbmFyIHNpIGVzdGFtb3MgZW4gZWwgc2Vydmlkb3IgbyBlbiBlbCBjbGllbnRlXG4gICAgY29uc3QgaXNTZXJ2ZXIgPSB0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJztcbiAgICBcbiAgICAvLyBDb25zdHJ1aXIgbGEgVVJMIGJhc2Ugc2Vnw7puIGVsIGVudG9ybm9cbiAgICBsZXQgYmFzZVVybCA9ICcnO1xuICAgIGlmIChpc1NlcnZlcikge1xuICAgICAgLy8gRW4gZWwgc2Vydmlkb3IsIHVzYW1vcyBkaXJlY3RhbWVudGUgbGEgQVBJIGRlIFdvcmRQcmVzcyBwYXJhIGV2aXRhciBwcm9ibGVtYXMgY29uIFVSTHMgcmVsYXRpdmFzXG4gICAgICBiYXNlVXJsID0gJ2h0dHBzOi8vcmVhbGVzdGF0ZWdvemFtYWRyaWQuY29tL3dwLWpzb24vd3AvdjInO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFbiBlbCBjbGllbnRlLCB1c2Ftb3MgbnVlc3RybyBwcm94eVxuICAgICAgYmFzZVVybCA9ICcvYXBpL3dvcmRwcmVzcy1wcm94eT9lbmRwb2ludD13cCZwYXRoPSc7XG4gICAgfVxuICAgIFxuICAgIC8vIENvbnN0cnVpciBsYSBVUkwgY29tcGxldGFcbiAgICBjb25zdCB1cmwgPSBpc1NlcnZlciBcbiAgICAgID8gYCR7YmFzZVVybH0vcG9zdHM/cGFnZT0ke3BhZ2V9JnBlcl9wYWdlPSR7cGVyUGFnZX0mX2VtYmVkYCBcbiAgICAgIDogYCR7YmFzZVVybH1wb3N0cyZwYWdlPSR7cGFnZX0mcGVyX3BhZ2U9JHtwZXJQYWdlfSZfZW1iZWQ9dHJ1ZWA7XG4gICAgXG4gICAgY29uc29sZS5sb2coYFdQIEFQSTogVVJMIGRlIHBldGljacOzbiAoJHtpc1NlcnZlciA/ICdzZXJ2aWRvcicgOiAnY2xpZW50ZSd9KTogJHt1cmx9YCk7XG4gICAgXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcbiAgICAgIHVybCxcbiAgICAgIHtcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgIH0sXG4gICAgICAgIGNhY2hlOiAnbm8tc3RvcmUnIC8vIEV2aXRhciBjYWNow6kgZW4gTmV4dC5qc1xuICAgICAgfVxuICAgICk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgZW4gbGEgcmVzcHVlc3RhIGRlIFdvcmRQcmVzczogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcignRXJyb3IgYWwgb2J0ZW5lciBsb3MgcG9zdHMnKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcG9zdHNEYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIGNvbnN0IHRvdGFsUGFnZXMgPSBwYXJzZUludChyZXNwb25zZS5oZWFkZXJzLmdldCgnWC1XUC1Ub3RhbFBhZ2VzJykgfHwgJzEnKTtcbiAgICBcbiAgICBjb25zb2xlLmxvZyhgT2J0ZW5pZG9zICR7cG9zdHNEYXRhLmxlbmd0aH0gcG9zdHMgZGUgV29yZFByZXNzIGNvbiDDqXhpdG9gKTtcbiAgICBcbiAgICAvLyBQcm9jZXNhciBsb3MgcG9zdHMgcGFyYSBnYXJhbnRpemFyIHF1ZSBubyBoYXkgb2JqZXRvcyBkaXJlY3RvcyBlbiBuaW5nw7puIGNhbXBvXG4gICAgY29uc3QgcHJvY2Vzc2VkUG9zdHMgPSBwb3N0c0RhdGEubWFwKHBvc3QgPT4ge1xuICAgICAgLy8gQ3JlYXIgdW5hIGNvcGlhIHNpbiByZWZlcmVuY2lhcyBhIG9iamV0b3MgZGUgV29yZFByZXNzXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5wb3N0LFxuICAgICAgICB0aXRsZTogc2FmZVJlbmRlclZhbHVlKHBvc3QudGl0bGUpLFxuICAgICAgICBjb250ZW50OiBzYWZlUmVuZGVyVmFsdWUocG9zdC5jb250ZW50KSxcbiAgICAgICAgZXhjZXJwdDogc2FmZVJlbmRlclZhbHVlKHBvc3QuZXhjZXJwdCksXG4gICAgICAgIC8vIFVzYXIgbnVlc3RyYSBudWV2YSBmdW5jacOzbiBnZXRJbWFnZVVybCBwYXJhIGV4dHJhZXIgY29ycmVjdGFtZW50ZSBsYSBpbWFnZW5cbiAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICBzcmM6IGdldEltYWdlVXJsKHBvc3QpLFxuICAgICAgICAgIGFsdDogc2FmZVJlbmRlclZhbHVlKHBvc3QudGl0bGUpXG4gICAgICAgIH0sXG4gICAgICAgIHNvdXJjZTogJ3dvcmRwcmVzcycsXG4gICAgICAgIF9pZDogYHdwLSR7cG9zdC5pZH1gLFxuICAgICAgICBpZDogcG9zdC5pZFxuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBNYW50ZW5lciBsYSBlc3RydWN0dXJhIGFudGVyaW9yXG4gICAgcmV0dXJuIHsgcG9zdHM6IHByb2Nlc3NlZFBvc3RzLCB0b3RhbFBhZ2VzIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gZ2V0QmxvZ1Bvc3RzRnJvbVNlcnZlcjonLCBlcnJvcik7XG4gICAgcmV0dXJuIHsgcG9zdHM6IFtdLCB0b3RhbFBhZ2VzOiAwIH07XG4gIH1cbn07XG5cbi8qKlxuICogT2J0aWVuZSB1biBwb3N0IGVzcGVjw61maWNvIHBvciBzdSBzbHVnIGNvbiByZWludGVudG9zXG4gKiBAcGFyYW0ge3N0cmluZ30gc2x1ZyAtIFNsdWcgZGVsIHBvc3RcbiAqIEBwYXJhbSB7bnVtYmVyfSByZXRyaWVzIC0gTsO6bWVybyBkZSByZWludGVudG9zIChwb3IgZGVmZWN0byA1KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gUHJvbWVzYSBjb24gZWwgcG9zdFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QmxvZ1Bvc3RCeVNsdWcoc2x1ZywgcmV0cmllcyA9IDUpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgV1AgQVBJOiBCdXNjYW5kbyBibG9nIGNvbiBzbHVnIFwiJHtzbHVnfVwiYCk7XG4gICAgXG4gICAgLy8gRGV0ZXJtaW5hciBzaSBlc3RhbW9zIGVuIGVsIHNlcnZpZG9yIG8gZW4gZWwgY2xpZW50ZVxuICAgIGNvbnN0IGlzU2VydmVyID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCc7XG4gICAgXG4gICAgLy8gQ29uc3RydWlyIGxhIFVSTCBiYXNlIHNlZ8O6biBlbCBlbnRvcm5vXG4gICAgbGV0IGJhc2VVcmwgPSAnJztcbiAgICBpZiAoaXNTZXJ2ZXIpIHtcbiAgICAgIC8vIEVuIGVsIHNlcnZpZG9yLCB1c2Ftb3MgZGlyZWN0YW1lbnRlIGxhIEFQSSBkZSBXb3JkUHJlc3MgcGFyYSBldml0YXIgcHJvYmxlbWFzIGNvbiBVUkxzIHJlbGF0aXZhc1xuICAgICAgYmFzZVVybCA9ICdodHRwczovL3JlYWxlc3RhdGVnb3phbWFkcmlkLmNvbS93cC1qc29uL3dwL3YyJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gRW4gZWwgY2xpZW50ZSwgdXNhbW9zIG51ZXN0cm8gcHJveHlcbiAgICAgIGJhc2VVcmwgPSAnL2FwaS93b3JkcHJlc3MtcHJveHk/ZW5kcG9pbnQ9d3AmcGF0aD0nO1xuICAgIH1cbiAgICBcbiAgICAvLyBDb25zdHJ1aXIgbGEgVVJMIGNvbXBsZXRhXG4gICAgY29uc3QgdXJsID0gaXNTZXJ2ZXIgXG4gICAgICA/IGAke2Jhc2VVcmx9L3Bvc3RzP3NsdWc9JHtlbmNvZGVVUklDb21wb25lbnQoc2x1Zyl9Jl9lbWJlZGAgXG4gICAgICA6IGAke2Jhc2VVcmx9cG9zdHMmc2x1Zz0ke2VuY29kZVVSSUNvbXBvbmVudChzbHVnKX0mX2VtYmVkPXRydWVgO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKGBXUCBBUEk6IFVSTCBkZSBwZXRpY2nDs24gKCR7aXNTZXJ2ZXIgPyAnc2Vydmlkb3InIDogJ2NsaWVudGUnfSk6ICR7dXJsfWApO1xuICAgIFxuICAgIC8vIEHDsWFkaXIgdGltZW91dCBwYXJhIGV2aXRhciBxdWUgbGEgcGV0aWNpw7NuIHNlIHF1ZWRlIGNvbGdhZGFcbiAgICBjb25zdCBjb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIGNvbnN0IHRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4gY29udHJvbGxlci5hYm9ydCgpLCA2MDAwMCk7IC8vIDYwIHNlZ3VuZG9zIHRpbWVvdXRcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHVybCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnLFxuICAgICAgICAnUHJhZ21hJzogJ25vLWNhY2hlJ1xuICAgICAgfSxcbiAgICAgIGNhY2hlOiAnbm8tc3RvcmUnLCAvLyBFdml0YXIgY2FjaMOpIGVuIE5leHQuanNcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICB9KTtcbiAgICBcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICBcbiAgICAvLyBTaSBvYnRlbmVtb3MgdW4gZXJyb3IgNTAzLCBpbnRlbnRhciBkZSBudWV2byBkZXNwdcOpcyBkZSB1biByZXRyYXNvXG4gICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gNTAzICYmIHJldHJpZXMgPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3IgNTAzIGFsIG9idGVuZXIgYmxvZyBjb24gc2x1ZyAke3NsdWd9LiBSZWludGVudGFuZG8gZW4gNSBzZWd1bmRvcy4uLiAoJHtyZXRyaWVzfSBpbnRlbnRvcyByZXN0YW50ZXMpYCk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpOyAvLyBFc3BlcmFyIDUgc2VndW5kb3NcbiAgICAgIHJldHVybiBnZXRCbG9nUG9zdEJ5U2x1ZyhzbHVnLCByZXRyaWVzIC0gMSk7XG4gICAgfVxuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIG9idGVuZXIgZWwgcG9zdDogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgYWwgb2J0ZW5lciBlbCBwb3N0OiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICB9XG4gICAgXG4gICAgY29uc3QgcG9zdHMgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgY29uc29sZS5sb2coYFdQIEFQSTogUmVzcHVlc3RhIHJlY2liaWRhLCBwb3N0cyBlbmNvbnRyYWRvczogJHtwb3N0cy5sZW5ndGh9YCk7XG4gICAgXG4gICAgLy8gU2kgZW5jb250cmFtb3MgZWwgcG9zdCwgcHJvY2VzYXIgc3VzIGNhbXBvc1xuICAgIGlmIChwb3N0cyAmJiBwb3N0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjb25zdCBwb3N0ID0gcG9zdHNbMF07XG4gICAgICBjb25zb2xlLmxvZyhgV1AgQVBJOiBQb3N0IGVuY29udHJhZG86IElEPSR7cG9zdC5pZH0sIHTDrXR1bG89XCIke3Bvc3QudGl0bGU/LnJlbmRlcmVkfVwiYCk7XG4gICAgICBcbiAgICAgIC8vIFByb2Nlc2FyIHRvZG9zIGxvcyBjYW1wb3MgcXVlIHBvZHLDrWFuIHNlciBvYmpldG9zXG4gICAgICBwb3N0LnRpdGxlID0gc2FmZVJlbmRlclZhbHVlKHBvc3QudGl0bGUpO1xuICAgICAgcG9zdC5jb250ZW50ID0gc2FmZVJlbmRlclZhbHVlKHBvc3QuY29udGVudCk7XG4gICAgICBwb3N0LmV4Y2VycHQgPSBzYWZlUmVuZGVyVmFsdWUocG9zdC5leGNlcnB0KTtcbiAgICAgIFxuICAgICAgcmV0dXJuIHBvc3Q7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGBXUCBBUEk6IE5vIHNlIGVuY29udHLDsyBibG9nIGRlIFdvcmRQcmVzcyBjb24gc2x1ZzogJHtzbHVnfWApO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGVuIGdldEJsb2dQb3N0QnlTbHVnOmAsIGVycm9yKTtcbiAgICBcbiAgICAvLyBTaSBlcyB1biBlcnJvciBkZSB0aW1lb3V0IG8gZGUgcmVkIHkgYcO6biB0ZW5lbW9zIHJlaW50ZW50b3MsIGludGVudGFyIGRlIG51ZXZvXG4gICAgaWYgKChlcnJvci5uYW1lID09PSAnQWJvcnRFcnJvcicgfHwgZXJyb3IubmFtZSA9PT0gJ1R5cGVFcnJvcicpICYmIHJldHJpZXMgPiAwKSB7XG4gICAgICBjb25zb2xlLmxvZyhgRXJyb3IgZGUgcmVkIGFsIG9idGVuZXIgYmxvZyBjb24gc2x1ZyAke3NsdWd9LiBSZWludGVudGFuZG8gZW4gNSBzZWd1bmRvcy4uLiAoJHtyZXRyaWVzfSBpbnRlbnRvcyByZXN0YW50ZXMpYCk7XG4gICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgNTAwMCkpOyAvLyBFc3BlcmFyIDUgc2VndW5kb3NcbiAgICAgIHJldHVybiBnZXRCbG9nUG9zdEJ5U2x1ZyhzbHVnLCByZXRyaWVzIC0gMSk7XG4gICAgfVxuICAgIFxuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEVuIGxhIGZ1bmNpw7NuIHF1ZSB0cmFuc2Zvcm1hIGxvcyBwb3N0cyBkZSBXb3JkUHJlc3NcbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1Xb3JkUHJlc3NQb3N0KHdwUG9zdCwgY2xlYW5TbHVnKSB7XG4gIC8vIEPDs2RpZ28gZXhpc3RlbnRlLi4uXG4gIFxuICAvLyBSZWVtcGxhemFyIGxhIGZ1bmNpw7NuIGdldEltYWdlVXJsIHBhcmEgYXNlZ3VyYXIgcXVlIHRvZGFzIGxhcyBpbcOhZ2VuZXMgdXNlbiBlbCBwcm94eVxuICBjb25zdCBnZXRJbWFnZVVybCA9IChwb3N0KSA9PiB7XG4gICAgbGV0IGltYWdlVXJsID0gbnVsbDtcbiAgICBcbiAgICAvLyBJbnRlbnRhciBvYnRlbmVyIGxhIGltYWdlbiBkZXN0YWNhZGFcbiAgICBpZiAocG9zdC5fZW1iZWRkZWQgJiYgcG9zdC5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXSAmJiBwb3N0Ll9lbWJlZGRlZFsnd3A6ZmVhdHVyZWRtZWRpYSddLmxlbmd0aCA+IDApIHtcbiAgICAgIGNvbnN0IG1lZGlhID0gcG9zdC5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXVswXTtcbiAgICAgIFxuICAgICAgLy8gSW50ZW50YXIgZGlmZXJlbnRlcyB0YW1hw7FvcyBkZSBpbWFnZW5cbiAgICAgIGlmIChtZWRpYS5tZWRpYV9kZXRhaWxzICYmIG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXMpIHtcbiAgICAgICAgLy8gUHJlZmVyaXIgdGFtYcOxb3MgZW4gZXN0ZSBvcmRlblxuICAgICAgICBjb25zdCBzaXplcyA9IFsnbGFyZ2UnLCAnbWVkaXVtX2xhcmdlJywgJ21lZGl1bScsICd0aHVtYm5haWwnLCAnZnVsbCddO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBzaXplIG9mIHNpemVzKSB7XG4gICAgICAgICAgaWYgKG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXNbc2l6ZV0pIHtcbiAgICAgICAgICAgIGltYWdlVXJsID0gbWVkaWEubWVkaWFfZGV0YWlscy5zaXplc1tzaXplXS5zb3VyY2VfdXJsO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG5vIHNlIGVuY29udHLDsyBuaW5nw7puIHRhbWHDsW8gZXNwZWPDrWZpY28sIHVzYXIgbGEgVVJMIGVzdMOhbmRhclxuICAgICAgaWYgKCFpbWFnZVVybCAmJiBtZWRpYS5zb3VyY2VfdXJsKSB7XG4gICAgICAgIGltYWdlVXJsID0gbWVkaWEuc291cmNlX3VybDtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQnVzY2FyIGVuIHVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjIGNvbW8gYWx0ZXJuYXRpdmFcbiAgICBpZiAoIWltYWdlVXJsICYmIHBvc3QudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmMpIHtcbiAgICAgIGZvciAoY29uc3Qgc2l6ZSBpbiBwb3N0LnVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjKSB7XG4gICAgICAgIGlmIChwb3N0LnVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjW3NpemVdICYmIEFycmF5LmlzQXJyYXkocG9zdC51YWdiX2ZlYXR1cmVkX2ltYWdlX3NyY1tzaXplXSkpIHtcbiAgICAgICAgICBpbWFnZVVybCA9IHBvc3QudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmNbc2l6ZV1bMF07XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQnVzY2FyIGVuIGVsIGNvbnRlbmlkbyBjb21vIMO6bHRpbW8gcmVjdXJzb1xuICAgIGlmICghaW1hZ2VVcmwgJiYgcG9zdC5jb250ZW50ICYmIHBvc3QuY29udGVudC5yZW5kZXJlZCkge1xuICAgICAgY29uc3QgaW1nTWF0Y2ggPSBwb3N0LmNvbnRlbnQucmVuZGVyZWQubWF0Y2goLzxpbWdbXj5dK3NyYz1cIihbXlwiPl0rKVwiLyk7XG4gICAgICBpZiAoaW1nTWF0Y2ggJiYgaW1nTWF0Y2hbMV0pIHtcbiAgICAgICAgaW1hZ2VVcmwgPSBpbWdNYXRjaFsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gU2llbXByZSB1dGlsaXphciBlbCBwcm94eSBwYXJhIFVSTHMgZXh0ZXJuYXNcbiAgICByZXR1cm4gaW1hZ2VVcmwgPyBwcm94eUltYWdlKGltYWdlVXJsKSA6ICcvaW1nL2RlZmF1bHQtbG9nby5wbmcnO1xuICB9O1xuXG4gIC8vIFJlc3RvIGRlbCBjw7NkaWdvIGRlIHRyYW5zZm9ybWFjacOzbi4uLlxuICBcbiAgcmV0dXJuIHtcbiAgICAvLyBSZXN0byBkZSBsYXMgcHJvcGllZGFkZXMuLi5cbiAgICBpbWFnZVVybDogZ2V0SW1hZ2VVcmwod3BQb3N0KSxcbiAgICAvLyAuLi5cbiAgfTtcbn1cblxuLy8gRnVuY2nDs24gZ2V0SW1hZ2VVcmwgbWVqb3JhZGEgcGFyYSBubyBkZXBlbmRlciBkZWwgcHJveHlcbmV4cG9ydCBmdW5jdGlvbiBnZXRJbWFnZVVybCh3cFBvc3QpIHtcbiAgLy8gSW50ZW50YXIgb2J0ZW5lciBsYSBVUkwgZGVzZGUgZGlmZXJlbnRlcyBmdWVudGVzXG4gIGxldCBpbWFnZVVybCA9IG51bGw7XG4gIFxuICBpZiAoIXdwUG9zdCkgcmV0dXJuIFwiXCI7XG4gIFxuICAvLyBCdXNjYXIgZW4gZGF0b3MgZW1iZWJpZG9zIChkaXNwb25pYmxlcyBjb24gX2VtYmVkKVxuICBpZiAod3BQb3N0Ll9lbWJlZGRlZCAmJiBcbiAgICAgIHdwUG9zdC5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXSAmJiBcbiAgICAgIHdwUG9zdC5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXVswXSkge1xuICAgIFxuICAgIGNvbnN0IG1lZGlhID0gd3BQb3N0Ll9lbWJlZGRlZFsnd3A6ZmVhdHVyZWRtZWRpYSddWzBdO1xuICAgIFxuICAgIC8vIE9idGVuZXIgaW1hZ2VuIGVuIHRhbWHDsW8gbWVkaWFubyBzaSBlc3TDoSBkaXNwb25pYmxlXG4gICAgaWYgKG1lZGlhLm1lZGlhX2RldGFpbHMgJiYgbWVkaWEubWVkaWFfZGV0YWlscy5zaXplcykge1xuICAgICAgZm9yIChjb25zdCBzaXplIG9mIFsnbWVkaXVtX2xhcmdlJywgJ21lZGl1bScsICdsYXJnZScsICdmdWxsJ10pIHtcbiAgICAgICAgaWYgKG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXNbc2l6ZV0pIHtcbiAgICAgICAgICBpbWFnZVVybCA9IG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXNbc2l6ZV0uc291cmNlX3VybDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBGYWxsYmFjayBhIHNvdXJjZV91cmxcbiAgICBpZiAoIWltYWdlVXJsICYmIG1lZGlhLnNvdXJjZV91cmwpIHtcbiAgICAgIGltYWdlVXJsID0gbWVkaWEuc291cmNlX3VybDtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIE90cm9zIG3DqXRvZG9zIHBhcmEgZW5jb250cmFyIGxhIGltYWdlblxuICBpZiAoIWltYWdlVXJsKSB7XG4gICAgaW1hZ2VVcmwgPSB3cFBvc3QudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmM/Lm1lZGl1bT8uWzBdIHx8IFxuICAgICAgICAgICAgICB3cFBvc3QudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmM/LmZ1bGw/LlswXSB8fCBcbiAgICAgICAgICAgICAgd3BQb3N0LmltYWdlPy5zcmMgfHxcbiAgICAgICAgICAgICAgXCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgd2lkdGg9JzMwMCcgaGVpZ2h0PScyMDAnIHZpZXdCb3g9JzAgMCAzMDAgMjAwJyUzRSUzQ3JlY3Qgd2lkdGg9JzMwMCcgaGVpZ2h0PScyMDAnIGZpbGw9JyUyM2YwZjBmMCcvJTNFJTNDdGV4dCB4PSc1MCUyNScgeT0nNTAlMjUnIGZvbnQtc2l6ZT0nMjQnIHRleHQtYW5jaG9yPSdtaWRkbGUnIGFsaWdubWVudC1iYXNlbGluZT0nbWlkZGxlJyBmb250LWZhbWlseT0nQXJpYWwnIGZpbGw9JyUyMzk5OTk5OSclM0VJbWFnZW4gbm8gZGlzcG9uaWJsZSUzQy90ZXh0JTNFJTNDL3N2ZyUzRVwiO1xuICB9XG4gIFxuICAvLyBBcGxpY2FyIGVsIHByb3h5IHBhcmEgVVJMcyBleHRlcm5hc1xuICBpZiAoaW1hZ2VVcmwgJiYgdHlwZW9mIGltYWdlVXJsID09PSAnc3RyaW5nJyAmJiAhaW1hZ2VVcmwuc3RhcnRzV2l0aCgnZGF0YTonKSAmJiAhaW1hZ2VVcmwuc3RhcnRzV2l0aCgnLycpKSB7XG4gICAgLy8gVXNhciBlbCBwcm94eSBwYXJhIGltw6FnZW5lcyBleHRlcm5hc1xuICAgIHJldHVybiBgL2FwaS9pbWFnZS1wcm94eT91cmw9JHtlbmNvZGVVUklDb21wb25lbnQoaW1hZ2VVcmwpfWA7XG4gIH1cbiAgXG4gIHJldHVybiBpbWFnZVVybDtcbn0gIl0sIm5hbWVzIjpbIldQX0FQSV9VUkwiLCJwcm94eUltYWdlIiwidXJsIiwic3RhcnRzV2l0aCIsImVuY29kZVVSSUNvbXBvbmVudCIsInNhZmVSZW5kZXJWYWx1ZSIsInZhbHVlIiwidW5kZWZpbmVkIiwiU3RyaW5nIiwicmVuZGVyZWQiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0QmxvZ1Bvc3RzRnJvbVNlcnZlciIsInBhZ2UiLCJwZXJQYWdlIiwiaXNTZXJ2ZXIiLCJiYXNlVXJsIiwiY29uc29sZSIsImxvZyIsInJlc3BvbnNlIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiY2FjaGUiLCJvayIsImVycm9yIiwic3RhdHVzIiwic3RhdHVzVGV4dCIsIkVycm9yIiwicG9zdHNEYXRhIiwianNvbiIsInRvdGFsUGFnZXMiLCJwYXJzZUludCIsImdldCIsImxlbmd0aCIsInByb2Nlc3NlZFBvc3RzIiwibWFwIiwicG9zdCIsInRpdGxlIiwiY29udGVudCIsImV4Y2VycHQiLCJpbWFnZSIsInNyYyIsImdldEltYWdlVXJsIiwiYWx0Iiwic291cmNlIiwiX2lkIiwiaWQiLCJwb3N0cyIsImdldEJsb2dQb3N0QnlTbHVnIiwic2x1ZyIsInJldHJpZXMiLCJjb250cm9sbGVyIiwiQWJvcnRDb250cm9sbGVyIiwidGltZW91dElkIiwic2V0VGltZW91dCIsImFib3J0Iiwic2lnbmFsIiwiY2xlYXJUaW1lb3V0IiwiUHJvbWlzZSIsInJlc29sdmUiLCJuYW1lIiwidHJhbnNmb3JtV29yZFByZXNzUG9zdCIsIndwUG9zdCIsImNsZWFuU2x1ZyIsImltYWdlVXJsIiwiX2VtYmVkZGVkIiwibWVkaWEiLCJtZWRpYV9kZXRhaWxzIiwic2l6ZXMiLCJzaXplIiwic291cmNlX3VybCIsInVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjIiwiQXJyYXkiLCJpc0FycmF5IiwiaW1nTWF0Y2giLCJtYXRjaCIsIm1lZGl1bSIsImZ1bGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/services/wpApi.js\n"));

/***/ })

});