(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2845],{9475:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/vender/comprar",function(){return a(36845)}])},36845:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>w});var r=a(37876),s=a(54710),o=a.n(s),i=a(14232),n=a(27036),l=a.n(n),c=a(29929),d=a.n(c),m=a(55605),p=a(89062),u=a(79118),g=a(20225);function h(e){let{src:t,alt:a,className:s,priority:n=!1,objectPosition:l="center",sizes:c="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",propertyInfo:m={}}=e,[p,u]=(0,i.useState)(!1),[g,h]=(0,i.useState)(!1),x=(0,i.useRef)(null),[y,f]=(0,i.useState)({width:800,height:600}),b=(0,i.useMemo)(()=>t?"string"==typeof t?t:"object"==typeof t&&(t.src||t.url||t.source_url)||"/img/property-placeholder.jpg":"/img/property-placeholder.jpg",[t]),j="property-image-".concat(Math.random().toString(36).substring(2,9)),v={"@context":"https://schema.org","@type":"ImageObject","@id":"#".concat(j),contentUrl:b||"/img/property-placeholder.jpg",name:a||"Imagen de propiedad inmobiliaria",description:a||"Fotograf\xeda de propiedad inmobiliaria",representativeOfPage:n};m.address&&(v.contentLocation={"@type":"Place",address:{"@type":"PostalAddress",addressLocality:m.address}});let w=e=>{if(!e||"string"!=typeof e)return console.log("PropertyImage - URL inv\xe1lida:",e),"/img/property-placeholder.jpg";if(console.log("PropertyImage - URL original:",e),"object"==typeof e)return(console.log("PropertyImage - URL es un objeto:",e),e.src)?(console.log("PropertyImage - Usando url.src:",e.src),w(e.src)):e.url?(console.log("PropertyImage - Usando url.url:",e.url),w(e.url)):e.source_url?(console.log("PropertyImage - Usando url.source_url:",e.source_url),w(e.source_url)):(console.log("PropertyImage - Objeto de imagen sin URL reconocible"),"/img/property-placeholder.jpg");if(e.includes("images.weserv.nl"))return console.log("PropertyImage - URL ya es proxy, devolviendo tal cual:",e),e;if(e.startsWith("/")&&!e.startsWith("//"))return console.log("PropertyImage - URL local, devolviendo tal cual:",e),e;if(e.startsWith("data:"))return console.log("PropertyImage - URL de datos, devolviendo tal cual"),e;if(!e.startsWith("http")&&!e.startsWith("/")&&!e.startsWith("data:")){let t=window.location.origin,a="".concat(t,"/").concat(e);return console.log("PropertyImage - URL relativa convertida a absoluta:",a),a}let t="https://images.weserv.nl/?url=".concat(encodeURIComponent(e),"&n=-1&default=https://via.placeholder.com/800x600?text=Sin+Imagen");return console.log("PropertyImage - URL convertida a proxy:",t),t};(0,i.useEffect)(()=>{if(!x.current)return;let e=new IntersectionObserver(t=>{let[a]=t;if(a.isIntersecting){let t=document.createElement("img");t.onload=()=>{f({width:t.naturalWidth||800,height:t.naturalHeight||600}),h(!0)},t.onerror=()=>{console.warn("Error al precargar imagen: ".concat(b)),u(!0)},!b||"string"!=typeof b||b.startsWith("/")||b.startsWith("data:")?t.src=b:t.src=w(b),e.disconnect()}},{rootMargin:"200px",threshold:.1});return e.observe(x.current),()=>{e.disconnect()}},[b]);let N=()=>(0,r.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100/80 backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("svg",{className:"w-12 h-12",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeDasharray:"60",strokeDashoffset:"60",strokeLinecap:"round",children:(0,r.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"1.5s",from:"60",to:"-60",repeatCount:"indefinite"})})}),(0,r.jsx)("span",{className:"mt-2 text-sm font-medium text-gray-700",children:"Cargando imagen..."})]})});if(p||!b)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({...v,contentUrl:"/img/property-placeholder.jpg"})}})}),(0,r.jsxs)("div",{className:"bg-gray-200 flex items-center justify-center ".concat(s),ref:x,itemScope:!0,itemType:"https://schema.org/ImageObject","aria-label":"Imagen no disponible",role:"img",itemID:"#".concat(j),children:[(0,r.jsx)("span",{className:"text-gray-500",children:"Sin imagen"}),(0,r.jsx)("meta",{itemProp:"contentUrl",content:"/img/property-placeholder.jpg"}),(0,r.jsx)("meta",{itemProp:"name",content:a||"Imagen no disponible"})]})]});if("string"==typeof b&&!b.startsWith("/")&&!b.startsWith("data:")){let e=w(b);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({...v,contentUrl:e})}})}),(0,r.jsxs)("div",{ref:x,className:"relative overflow-hidden",itemScope:!0,itemType:"https://schema.org/ImageObject",itemID:"#".concat(j),children:[!g&&(0,r.jsx)(N,{}),(0,r.jsx)("img",{src:e,alt:a||"Propiedad inmobiliaria",className:"w-full h-full object-cover ".concat(s," ").concat(g?"opacity-100 transition-opacity duration-300":"opacity-0"),onError:()=>{console.warn("Error al cargar imagen: ".concat(e)),u(!0)},onLoad:()=>h(!0),loading:n?"eager":"lazy",decoding:"async",fetchPriority:n?"high":"auto",itemProp:"contentUrl","data-original-url":b,style:{objectPosition:l}}),(0,r.jsx)("meta",{itemProp:"description",content:a||"Fotograf\xeda de propiedad inmobiliaria"}),(0,r.jsx)("meta",{itemProp:"representativeOfPage",content:n?"true":"false"}),g&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("meta",{itemProp:"width",content:y.width}),(0,r.jsx)("meta",{itemProp:"height",content:y.height})]})]})]})}return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{children:(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({...v,contentUrl:"string"==typeof b?b:"/img/property-placeholder.jpg"})}})}),(0,r.jsxs)("div",{ref:x,className:"relative overflow-hidden",itemScope:!0,itemType:"https://schema.org/ImageObject",itemID:"#".concat(j),children:[!g&&(0,r.jsx)(N,{}),(0,r.jsx)(d(),{src:b,alt:a||"Propiedad inmobiliaria",width:500,height:300,className:"object-cover ".concat(s," ").concat(g?"opacity-100 transition-opacity duration-300":"opacity-0"),onError:()=>{console.warn("Error al cargar imagen Next.js: ".concat(b)),u(!0)},onLoad:()=>h(!0),priority:n,sizes:c,quality:85,placeholder:"blur",blurDataURL:"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3C/svg%3E",itemProp:"contentUrl",style:{objectPosition:l},loading:n?"eager":"lazy"}),(0,r.jsx)("meta",{itemProp:"name",content:a||"Fotograf\xeda de propiedad inmobiliaria"}),(0,r.jsx)("meta",{itemProp:"representativeOfPage",content:n?"true":"false"})]})]})}let x=e=>{let{totalPages:t,currentPage:a,onPageChange:s}=e,o=(0,m.useRouter)(),i=e=>{e>=1&&e<=t&&e!==a&&(s(e),setTimeout(()=>{o.push({pathname:o.pathname,query:{...o.query,page:e}},void 0,{scroll:!0})},10))};return(0,r.jsx)("div",{className:"grid md:grid-cols-12 grid-cols-1 mt-6",children:(0,r.jsx)("div",{className:"md:col-span-12 text-center",children:(0,r.jsx)("nav",{"aria-label":"Navegaci\xf3n de p\xe1ginas",children:(0,r.jsxs)("ul",{className:"inline-flex flex-wrap items-center gap-2 justify-center",children:[(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>i(a-1),disabled:1===a,className:"w-10 h-10 inline-flex justify-center items-center rounded-full \n                  ".concat(1===a?"text-gray-400 cursor-not-allowed":"text-slate-400 bg-white hover:text-white hover:bg-amarillo transition-colors"," \n                  shadow-sm"),"aria-label":"Ir a la p\xe1gina anterior",children:(0,r.jsx)("i",{className:"mdi mdi-chevron-left text-[20px]","aria-hidden":"true"})})}),(()=>{let e=Math.max(1,a-Math.floor(2.5)),r=Math.min(t,e+5-1);r-e+1<5&&(e=Math.max(1,r-5+1));let s=[];for(let t=e;t<=r;t++)s.push(t);return s})().map(e=>(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>i(e),className:"w-10 h-10 inline-flex justify-center items-center rounded-full\n                    ".concat(e===a?"text-white bg-black hover:bg-gold":"text-slate-400 bg-white hover:text-white hover:bg-amarillo"," \n                    transition-colors shadow-sm"),"aria-label":"Ir a la p\xe1gina ".concat(e),"aria-current":e===a?"page":void 0,children:e})},e)),(0,r.jsx)("li",{children:(0,r.jsx)("button",{onClick:()=>i(a+1),disabled:a===t,className:"w-10 h-10 inline-flex justify-center items-center rounded-full \n                  ".concat(a===t?"text-gray-400 cursor-not-allowed":"text-slate-400 bg-white hover:text-white hover:bg-amarillo transition-colors"," \n                  shadow-sm"),"aria-label":"Ir a la p\xe1gina siguiente",children:(0,r.jsx)("i",{className:"mdi mdi-chevron-right text-[20px]","aria-hidden":"true"})})})]})})})})},y=e=>{if(!e)return console.log("PropertyPage - URL nula o indefinida, usando imagen por defecto"),"/img/default-property-image.jpg";if(console.log("PropertyPage - URL original:",e),"string"!=typeof e){if(e&&"object"==typeof e){if(console.log("PropertyPage - URL es un objeto:",e),e.src)return console.log("PropertyPage - Usando url.src:",e.src),y(e.src);if(e.url)return console.log("PropertyPage - Usando url.url:",e.url),y(e.url);if(e.source_url)return console.log("PropertyPage - Usando url.source_url:",e.source_url),y(e.source_url)}return console.log("PropertyPage - URL no v\xe1lida, usando imagen por defecto"),"/img/default-property-image.jpg"}if(e.includes("images.weserv.nl"))return console.log("PropertyPage - URL ya es proxy, devolviendo tal cual:",e),e;if(e.startsWith("http")||e.startsWith("/")||console.log("PropertyPage - URL relativa convertida a absoluta:",e="".concat("https://goza-madrid.onrender.com").concat(e.startsWith("/")?"":"/").concat(e)),e.startsWith("http")){let t="https://images.weserv.nl/?url=".concat(encodeURIComponent(e),"&n=-1&default=https://via.placeholder.com/800x600?text=Sin+Imagen");return console.log("PropertyPage - URL convertida a proxy:",t),t}return console.log("PropertyPage - URL local, devolviendo tal cual:",e),e},f=e=>{if(e._id)return e.location||e.address||"Ubicaci\xf3n no disponible";if(e.address)return e.address;if(e.meta_data){let t=e.meta_data.find(e=>"address"===e.key||"Ubicaci\xf3n"===e.key||"ubicacion"===e.key);if(t&&t.value)return"object"==typeof t.value?t.value.address||t.value.name||"Ubicaci\xf3n no disponible":t.value}return e.short_description?e.short_description:e.name&&(e.name.includes("Calle")||e.name.includes("Avenida")||e.name.includes("Plaza"))?e.name:"Ubicaci\xf3n no disponible"},b=e=>{if(!Array.isArray(e)||0===e.length)return["Viviendas","Apartamentos","Propiedades"];let t=e.map(e=>{if(e.typeProperty)return e.typeProperty;if(e.meta_data){let t=e.meta_data.find(e=>"property_type"===e.key||"tipo"===e.key||"type"===e.key);return(null==t?void 0:t.value)||null}return null}).filter(Boolean);return[...new Set(t)].length>0?[...new Set(t)]:["Viviendas","Apartamentos","Propiedades"]},j=e=>{if(!Array.isArray(e)||0===e.length)return["Madrid","Espa\xf1a"];let t=e.map(e=>f(e)).filter(Boolean).map(e=>e.split(",")[0].trim());return[...new Set(t)].length>0?[...new Set(t)]:["Madrid","Espa\xf1a"]};function v(){let[e,t]=(0,i.useState)([]),[a,s]=(0,i.useState)(!0),[n,c]=(0,i.useState)(!1),[d,v]=(0,i.useState)(null),[w,N]=(0,i.useState)(""),[P,k]=(0,i.useState)(1),[I,_]=(0,i.useState)(1),S=(0,m.useRouter)(),[U,E]=(0,i.useState)(""),[L,C]=(0,i.useState)(!1),[R,M]=(0,i.useState)("Propiedades Inmobiliarias en Madrid | Goza Madrid"),[A,F]=(0,i.useState)("Descubra nuestra selecci\xf3n de propiedades inmobiliarias en Madrid. Apartamentos, casas, chalets y locales comerciales disponibles para compra y alquiler.");(0,i.useEffect)(()=>{E(window.location.href)},[]),(0,i.useEffect)(()=>{(async()=>{if(S.isReady&&!L)try{s(!0),v(null);let e=await (0,g.xc)();if(!e||!Array.isArray(e))throw Error("No se recibieron datos v\xe1lidos de las propiedades");let a=e.filter(e=>"mongodb"===e.source),r=e.filter(e=>"woocommerce"===e.source),o=[...a,...r];if(t(o),_(Math.ceil(o.length/30)),C(!0),o.length>0){let e=b(o),t=j(o);M("".concat(e.slice(0,2).join(", ")," en ").concat(t.slice(0,2).join(", ")," | Goza Madrid")),F("Explore nuestra selecci\xf3n de ".concat(e.slice(0,3).join(", ")," disponibles en ").concat(t.slice(0,3).join(", "),". Encuentre su propiedad ideal con Goza Madrid."))}}catch(e){console.error("Error al cargar propiedades:",e),v(e.message||"No pudimos cargar las propiedades. Por favor, intenta de nuevo m\xe1s tarde."),t([])}finally{s(!1)}})()},[S.isReady,30,L]);let z=Array.isArray(e)?e.filter(e=>(e.name||e.title||"").toLowerCase().includes(w.toLowerCase())):[],D=(0,i.useCallback)(e=>{e!==P&&(k(e),c(!0),setTimeout(()=>{c(!1)},300))},[P]),W=(0,i.useCallback)(()=>{let e=30*P;return z.slice(e-30,e)},[P,z,30]);if((0,i.useEffect)(()=>{""!==w&&1!==P&&(k(1),S.isReady&&S.push({pathname:S.pathname,query:{...S.query,page:1}},void 0,{shallow:!0}))},[w,P,S]),a)return(0,r.jsx)("div",{className:"container mx-auto py-12 flex justify-center items-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm p-8 rounded-xl shadow-lg text-center",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("svg",{className:"w-16 h-16 mb-4",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z",fill:"none",stroke:"#FFD700",strokeWidth:"2",strokeDasharray:"60",strokeDashoffset:"60",strokeLinecap:"round",children:(0,r.jsx)("animate",{attributeName:"stroke-dashoffset",dur:"1.5s",from:"60",to:"-60",repeatCount:"indefinite"})})}),(0,r.jsx)("p",{className:"text-lg text-white font-medium mb-2 text-shadow-sm",children:"Cargando propiedades..."}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:"Esto puede tardar unos segundos"})]})})});if(d)return(0,r.jsx)("div",{className:"container mx-auto py-12 flex justify-center items-center min-h-[60vh]",children:(0,r.jsx)("div",{className:"bg-white/10 backdrop-blur-sm p-8 rounded-xl shadow-lg text-center max-w-md",children:(0,r.jsxs)("div",{className:"flex flex-col items-center",children:[(0,r.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:(0,r.jsx)("i",{className:"mdi mdi-alert-circle"})}),(0,r.jsx)("h3",{className:"text-xl text-white font-semibold mb-2",children:"Algo sali\xf3 mal"}),(0,r.jsx)("p",{className:"text-gray-300 mb-6",children:d}),(0,r.jsx)("button",{onClick:()=>{s(!0),v(null),C(!1)},className:"px-6 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg transition-colors",children:"Reintentar"})]})})});if(!Array.isArray(e)||0===e.length)return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Propiedades no disponibles | Goza Madrid"}),(0,r.jsx)("meta",{name:"description",content:"Actualmente no hay propiedades disponibles. Por favor, vuelve a consultar m\xe1s tarde o contacta con nosotros para ayudarte a encontrar tu propiedad ideal."}),(0,r.jsx)("meta",{name:"robots",content:"noindex,follow"})]}),(0,r.jsx)("div",{className:"container mx-auto py-12",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"No hay propiedades disponibles"}),(0,r.jsx)("p",{className:"text-gray-600 mb-8",children:"Por favor, vuelve a consultar m\xe1s tarde."}),(0,r.jsx)("button",{onClick:()=>window.location.reload(),className:"bg-amarillo hover:bg-amarillo/80 text-white font-bold py-2 px-4 rounded",children:"Recargar p\xe1gina"})]})})]});let O=Array.isArray(e)&&0!==e.length?(b(e),j(e),{"@context":"https://schema.org","@type":"ItemList",itemListElement:e.map((e,t)=>{let a="woocommerce"===e.source,r="mongodb"===e.source,s=a?e.id:e._id,o="";a?o=e.name||"Propiedad sin t\xedtulo":r&&(o=e.title||e.name||"Propiedad sin t\xedtulo");let i=e.address||f(e),n="Consultar";if(a&&e.price)n=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseInt(e.price));else if(r&&e.price){let t;"string"==typeof e.price?!isNaN(t=parseFloat(e.price.replace(/[^\d.-]/g,"")))&&t<1e4&&(t*=1e3):(t=e.price)<1e4&&(t*=1e3),n=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}let l="/img/default-property-image.jpg";if(a&&e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?l=t:"object"==typeof t&&(l=t.src||t.url||t.source_url||"/img/default-property-image.jpg")}else if(r&&e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?l=t:"object"==typeof t&&(l=t.src||t.url||t.source_url||"/img/default-property-image.jpg")}let c=y(l),d=null;return"number"==typeof n?d=n:"string"!=typeof n||isNaN(parseFloat(n.replace(/[^\d.,]/g,"").replace(",",".")))||(d=parseFloat(n.replace(/[^\d.,]/g,"").replace(",","."))),{"@type":"ListItem",position:t+1,item:{"@type":"Product",name:o,description:"".concat(o," ubicada en ").concat(i),image:c,url:"https://www.realestategozamadrid.com/property/".concat(s),category:e.typeProperty||"Propiedad inmobiliaria",offers:d?{"@type":"Offer",priceCurrency:"EUR",price:d,availability:"https://schema.org/InStock"}:void 0}}})}):null;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:R}),(0,r.jsx)("meta",{name:"description",content:A}),(0,r.jsx)("link",{rel:"canonical",href:U}),(0,r.jsx)("meta",{property:"og:type",content:"website"}),(0,r.jsx)("meta",{property:"og:title",content:R}),(0,r.jsx)("meta",{property:"og:description",content:A}),(0,r.jsx)("meta",{property:"og:url",content:U}),(0,r.jsx)("meta",{property:"og:image",content:"https://www.realestategozamadrid.com/og-image-properties.jpg"}),(0,r.jsx)("meta",{property:"og:site_name",content:"Goza Madrid"}),(0,r.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,r.jsx)("meta",{name:"twitter:title",content:R}),(0,r.jsx)("meta",{name:"twitter:description",content:A}),(0,r.jsx)("meta",{name:"twitter:image",content:"https://www.realestategozamadrid.com/twitter-image-properties.jpg"}),O&&(0,r.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(O)}})]}),(0,r.jsx)("div",{className:"fixed inset-0 z-0 opacity-90",style:{background:'linear-gradient(to bottom, rgba(0,0,0,0.7), rgba(0,0,0,0.4)), url("/gozamadridwp2.jpg")',backgroundAttachment:"fixed"},"aria-hidden":"true"}),(0,r.jsx)("div",{className:"relative min-h-screen py-12",children:(0,r.jsx)("main",{className:"relative container mx-auto px-4",children:(0,r.jsxs)("div",{className:"layout-specing",children:[(0,r.jsx)("div",{className:"md:flex justify-center items-center mb-12",children:(0,r.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold text-center text-white",style:{textShadow:"2px 2px 4px rgba(0,0,0,0.5)"},children:["Propiedades Exclusivas",(0,r.jsx)("span",{className:"block text-xl md:text-2xl mt-2 font-light text-amarillo",children:"Inversiones Premium en Madrid"})]})}),(0,r.jsx)("div",{className:"mb-12 flex justify-center",children:(0,r.jsxs)("div",{className:"relative w-full max-w-2xl",children:[(0,r.jsx)("input",{id:"property-search",type:"text",placeholder:"Buscar por ubicaci\xf3n...",value:w,onChange:e=>N(e.target.value),className:"w-full p-4 pl-6 border-2 border-amarillo/30 rounded-xl shadow-xl focus:outline-none focus:border-amarillo bg-black/20 backdrop-blur-md text-white placeholder-gray-400 transition-all duration-300",style:{textShadow:"1px 1px 2px rgba(0,0,0,0.2)"},"aria-label":"Buscar propiedades por direcci\xf3n"}),(0,r.jsx)("div",{className:"absolute right-4 top-1/2 transform -translate-y-1/2",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-amarillo",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})}),z&&z.length>0?(0,r.jsx)("section",{"aria-label":"Listado de propiedades",className:"grid xl:grid-cols-3 lg:grid-cols-2 grid-cols-1 gap-8 mt-8",children:W().map((e,t)=>{let a="woocommerce"===e.source,s="mongodb"===e.source,o=a?e.id:e._id,i="";a?i=e.title||e.name||"Propiedad sin t\xedtulo":s&&(i=e.title||e.name||"Propiedad sin t\xedtulo"),e.description;let n=e.address||f(e),c="Consultar";if(a&&e.price)c=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(parseInt(e.price));else if(s&&e.price){let t;"string"==typeof e.price?!isNaN(t=parseFloat(e.price.replace(/[^\d.-]/g,"")))&&t<1e4&&(t*=1e3):(t=e.price)<1e4&&(t*=1e3),c=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(t)}let d=0,m=0,g=0,x=(e,t)=>{if(!e)return null;let a=e;for(let e of("string"==typeof a&&(a=a.replace(/<[^>]*>/g," ")),t)){let t=RegExp(e,"i").exec(a);if(t&&t[1])return parseInt(t[1].trim().replace(/[^\d]/g,""))||0}return null};if(a){if(e.meta_data&&Array.isArray(e.meta_data)){let t=e.meta_data.find(e=>"living_area"===e.key||"area"===e.key||"m2"===e.key||"superficie"===e.key),a=e.meta_data.find(e=>"bedrooms"===e.key||"habitaciones"===e.key||"dormitorios"===e.key),r=e.meta_data.find(e=>"ba\xf1os"===e.key||"ba\\u00f1os"===e.key||"bathrooms"===e.key||"banos"===e.key);t&&(g=parseInt("string"==typeof t.value?t.value.replace(/[^\d.-]/g,""):t.value)||0),a&&(d=parseInt("string"==typeof a.value?a.value.replace(/[^\d.-]/g,""):a.value)||0),r&&(m=parseInt("string"==typeof r.value?r.value.replace(/[^\d.-]/g,""):r.value)||0)}if(0===d||0===m||0===g){if(0===d){let t=x(e.description,["(\\d+)\\s*habitaciones","(\\d+)\\s*dormitorios","(\\d+)\\s*habitaci\xf3n","(\\d+)\\s*dormitorio","(\\d+)\\s*Habitaciones","habitaciones\\s*:\\s*(\\d+)","dormitorios\\s*:\\s*(\\d+)"]);null!==t&&(d=t,console.log("PropertyPage - Habitaciones extra\xeddas de la descripci\xf3n: ".concat(d)))}if(0===m){let t=x(e.description,["(\\d+)\\s*ba\xf1os","(\\d+)\\s*ba\xf1o","(\\d+)\\s*Ba\xf1os","(\\d+)\\s*Ba\xf1o","(\\d+)\\s*aseos","(\\d+)\\s*aseo","ba\xf1os\\s*:\\s*(\\d+)","aseos\\s*:\\s*(\\d+)"]);null!==t?(m=t,console.log("PropertyPage - Ba\xf1os extra\xeddos de la descripci\xf3n: ".concat(m))):e.description&&e.description.toLowerCase().includes("ba\xf1o")&&(m=1,console.log("PropertyPage - Se asume 1 ba\xf1o basado en la descripci\xf3n"))}if(0===g){let t=x(e.description,["(\\d+)\\s*m\xb2","(\\d+)\\s*m2","(\\d+)\\s*metros cuadrados","(\\d+)\\s*metros","(\\d+)\\s*M","superficie\\s*:\\s*(\\d+)","\xe1rea\\s*:\\s*(\\d+)"]);null!==t&&(g=t,console.log("PropertyPage - Tama\xf1o extra\xeddo de la descripci\xf3n: ".concat(g)))}}m<0&&(m=0),console.log("PropertyPage - Datos finales WooCommerce: bedrooms=".concat(d,", bathrooms=").concat(m,", size=").concat(g))}else s&&(e.bedrooms&&(d=parseInt("string"==typeof e.bedrooms?e.bedrooms.replace(/[^\d.-]/g,""):e.bedrooms)||0),e.bathrooms&&(m=parseInt("string"==typeof e.bathrooms?e.bathrooms.replace(/[^\d.-]/g,""):e.bathrooms)||0),e.area?g=parseInt("string"==typeof e.area?e.area.replace(/[^\d.-]/g,""):e.area)||0:e.m2?g=parseInt("string"==typeof e.m2?e.m2.replace(/[^\d.-]/g,""):e.m2)||0:e.size&&(g=parseInt("string"==typeof e.size?e.size.replace(/[^\d.-]/g,""):e.size)||0),console.log("PropertyPage - Datos finales MongoDB: bedrooms=".concat(d,", bathrooms=").concat(m,", size=").concat(g)));let b="/img/default-property-image.jpg";if(a&&e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?b=t:"object"==typeof t&&(b=t.src||t.url||t.source_url||"/img/default-property-image.jpg")}else if(s&&e.images&&Array.isArray(e.images)&&e.images.length>0){let t=e.images[0];"string"==typeof t?b=t:"object"==typeof t&&(b=t.src||t.url||t.source_url||"/img/default-property-image.jpg")}let j=y(b);return(0,r.jsx)(p.P.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{delay:Math.min(.1*t,.3)},viewport:{once:!0},className:"group bg-black/30 backdrop-blur-md rounded-xl overflow-hidden hover:shadow-2xl hover:shadow-amarillo/20 transition-all duration-500 transform hover:scale-[1.02]",children:(0,r.jsxs)(l(),{href:"/property/".concat(o),className:"block",onClick:t=>{t.preventDefault();let a=String(o).trim();S.push({pathname:"/property/".concat(a),query:{source:e.source||"woocommerce"}})},children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"relative w-full aspect-[16/10] overflow-hidden",children:[(0,r.jsx)(h,{src:j,alt:i,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-700"}),(0,r.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"})]}),(0,r.jsx)("div",{className:"absolute top-4 end-4",children:(0,r.jsx)("button",{onClick:e=>{e.preventDefault(),e.stopPropagation()},className:"p-2 bg-black/30 backdrop-blur-sm rounded-full text-white hover:text-amarillo transition-colors duration-300",children:(0,r.jsx)("i",{className:"mdi mdi-heart text-2xl"})})}),"Consultar"!==c&&(0,r.jsx)("div",{className:"absolute bottom-4 right-4 bg-black/50 backdrop-blur-sm px-4 py-2 rounded-lg",children:(0,r.jsx)("span",{className:"text-amarillo font-semibold",children:c})})]}),(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"pb-6",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-white mb-2 group-hover:text-amarillo transition-colors duration-300",children:i}),(0,r.jsx)("p",{className:"text-sm text-gray-300",children:n})]}),(0,r.jsxs)("div",{className:"grid grid-cols-3 gap-4 py-6 border-t border-b border-white/10",children:[(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(u.VlX,{className:"text-2xl mx-auto mb-2 text-amarillo"}),(0,r.jsx)("span",{className:"block text-xs text-gray-400",children:"Superficie"}),(0,r.jsxs)("span",{className:"text-white font-medium",children:[g||"N/A"," ",g?"m\xb2":""]})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(u.TiC,{className:"text-2xl mx-auto mb-2 text-amarillo"}),(0,r.jsx)("span",{className:"block text-xs text-gray-400",children:"Habitaciones"}),(0,r.jsx)("span",{className:"text-white font-medium",children:d||e.bedrooms||"0"})]}),(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(u.F6e,{className:"text-2xl mx-auto mb-2 text-amarillo"}),(0,r.jsx)("span",{className:"block text-xs text-gray-400",children:"Ba\xf1os"}),(0,r.jsx)("span",{className:"text-white font-medium",children:m||e.bathrooms||"0"})]})]}),(0,r.jsxs)("div",{className:"pt-6 flex justify-between items-center",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(u.vq8,{className:"text-amarillo mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-300",children:"Madrid"})]}),(0,r.jsx)("button",{className:"px-4 py-2 bg-amarillo/10 text-amarillo rounded-lg hover:bg-amarillo hover:text-black transition-all duration-300",children:"Ver Detalles"})]})]})]})},o||t)})}):(0,r.jsx)("div",{className:"flex justify-center items-center py-12",children:(0,r.jsx)("div",{className:"bg-black/30 backdrop-blur-md p-8 rounded-xl text-center max-w-lg",children:(0,r.jsx)("p",{className:"text-xl text-white font-light",children:"No hay propiedades disponibles que coincidan con su b\xfasqueda."})})}),(0,r.jsx)("div",{className:"mt-12",children:(0,r.jsx)(x,{totalPages:I,currentPage:P,onPageChange:D})})]})})})]})}function w(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(o(),{children:[(0,r.jsx)("title",{children:"Propiedades en Venta | Goza Madrid"}),(0,r.jsx)("meta",{name:"description",content:"Explora nuestra selecci\xf3n de propiedades en venta en Madrid. Encuentra tu hogar ideal con Goza Madrid."}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)(v,{})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[9062,2534,225,6593,636,8792],()=>t(9475)),_N_E=e.O()}]);