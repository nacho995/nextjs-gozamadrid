/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["pages/vender/comprar"],{

/***/ "__barrel_optimize__?names=FaBath,FaBed,FaEuroSign,FaMapMarkerAlt,FaRulerCombined!=!./node_modules/react-icons/fa/index.mjs":
/*!**********************************************************************************************************************************!*\
  !*** __barrel_optimize__?names=FaBath,FaBed,FaEuroSign,FaMapMarkerAlt,FaRulerCombined!=!./node_modules/react-icons/fa/index.mjs ***!
  \**********************************************************************************************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _home_nacho_Documentos_Programaci_n_nextjs_gozamadrid_frontend_node_modules_react_icons_fa_index_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./node_modules/react-icons/fa/index.mjs */ "./node_modules/react-icons/fa/index.mjs");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _home_nacho_Documentos_Programaci_n_nextjs_gozamadrid_frontend_node_modules_react_icons_fa_index_mjs__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = function(key) { return _home_nacho_Documentos_Programaci_n_nextjs_gozamadrid_frontend_node_modules_react_icons_fa_index_mjs__WEBPACK_IMPORTED_MODULE_0__[key]; }.bind(0, __WEBPACK_IMPORT_KEY__)
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);


/***/ }),

/***/ "./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fnacho%2FDocumentos%2FProgramaci%C3%B3n%2Fnextjs-gozamadrid%2Ffrontend%2Fsrc%2Fpages%2Fvender%2Fcomprar%2Findex.js&page=%2Fvender%2Fcomprar!":
/*!*********************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fnacho%2FDocumentos%2FProgramaci%C3%B3n%2Fnextjs-gozamadrid%2Ffrontend%2Fsrc%2Fpages%2Fvender%2Fcomprar%2Findex.js&page=%2Fvender%2Fcomprar! ***!
  \*********************************************************************************************************************************************************************************************************************************************************/
/***/ (function(module, __unused_webpack_exports, __webpack_require__) {

eval(__webpack_require__.ts("\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/vender/comprar\",\n      function () {\n        return __webpack_require__(/*! ./src/pages/vender/comprar/index.js */ \"./src/pages/vender/comprar/index.js\");\n      }\n    ]);\n    if(true) {\n      module.hot.dispose(function () {\n        window.__NEXT_P.push([\"/vender/comprar\"])\n      });\n    }\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWNsaWVudC1wYWdlcy1sb2FkZXIuanM/YWJzb2x1dGVQYWdlUGF0aD0lMkZob21lJTJGbmFjaG8lMkZEb2N1bWVudG9zJTJGUHJvZ3JhbWFjaSVDMyVCM24lMkZuZXh0anMtZ296YW1hZHJpZCUyRmZyb250ZW5kJTJGc3JjJTJGcGFnZXMlMkZ2ZW5kZXIlMkZjb21wcmFyJTJGaW5kZXguanMmcGFnZT0lMkZ2ZW5kZXIlMkZjb21wcmFyISIsIm1hcHBpbmdzIjoiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxtQkFBTyxDQUFDLGdGQUFxQztBQUM1RDtBQUNBO0FBQ0EsT0FBTyxJQUFVO0FBQ2pCLE1BQU0sVUFBVTtBQUNoQjtBQUNBLE9BQU87QUFDUDtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8/ZDk3MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbiAgICAod2luZG93Ll9fTkVYVF9QID0gd2luZG93Ll9fTkVYVF9QIHx8IFtdKS5wdXNoKFtcbiAgICAgIFwiL3ZlbmRlci9jb21wcmFyXCIsXG4gICAgICBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiByZXF1aXJlKFwiLi9zcmMvcGFnZXMvdmVuZGVyL2NvbXByYXIvaW5kZXguanNcIik7XG4gICAgICB9XG4gICAgXSk7XG4gICAgaWYobW9kdWxlLmhvdCkge1xuICAgICAgbW9kdWxlLmhvdC5kaXNwb3NlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgd2luZG93Ll9fTkVYVF9QLnB1c2goW1wiL3ZlbmRlci9jb21wcmFyXCJdKVxuICAgICAgfSk7XG4gICAgfVxuICAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fnacho%2FDocumentos%2FProgramaci%C3%B3n%2Fnextjs-gozamadrid%2Ffrontend%2Fsrc%2Fpages%2Fvender%2Fcomprar%2Findex.js&page=%2Fvender%2Fcomprar!\n"));

/***/ }),

/***/ "./src/components/AnimatedScroll.jsx":
/*!*******************************************!*\
  !*** ./src/components/AnimatedScroll.jsx ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ AnimatedOnScroll; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! framer-motion */ \"./node_modules/framer-motion/dist/es/index.mjs\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_3__);\n// components/AnimatedOnScroll.js\n\nvar _s = $RefreshSig$();\n\n\n\nfunction AnimatedOnScroll(param) {\n    let { children, className = \"\", duration = 0.5, distance = 20, threshold = 0.1, delay = 0, reducedMotion = false } = param;\n    _s();\n    const [shouldAnimate, setShouldAnimate] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Comprobar preferencias de reducción de movimiento\n        const mediaQuery = window.matchMedia(\"(prefers-reduced-motion: reduce)\");\n        setShouldAnimate(!mediaQuery.matches);\n        const handleMotionPreference = (e)=>{\n            setShouldAnimate(!e.matches);\n        };\n        mediaQuery.addEventListener(\"change\", handleMotionPreference);\n        return ()=>mediaQuery.removeEventListener(\"change\", handleMotionPreference);\n    }, []);\n    // Si el usuario prefiere movimiento reducido o se especifica explícitamente\n    if (reducedMotion || !shouldAnimate) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: className,\n            role: \"region\",\n            \"aria-label\": \"Contenido animado\",\n            children: children\n        }, void 0, false, {\n            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/AnimatedScroll.jsx\",\n            lineNumber: 33,\n            columnNumber: 13\n        }, this);\n    }\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_2__.motion.div, {\n        className: className,\n        initial: {\n            opacity: 0,\n            y: distance\n        },\n        whileInView: {\n            opacity: 1,\n            y: 0\n        },\n        viewport: {\n            once: true,\n            amount: threshold\n        },\n        transition: {\n            duration: duration,\n            delay: delay,\n            ease: \"easeOut\"\n        },\n        role: \"region\",\n        \"aria-label\": \"Contenido con animaci\\xf3n al scroll\",\n        // Mejorar accesibilidad para lectores de pantalla\n        \"aria-live\": \"polite\",\n        // Asegurar que el contenido sea accesible incluso antes de la animación\n        style: {\n            willChange: \"opacity, transform\"\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/AnimatedScroll.jsx\",\n        lineNumber: 44,\n        columnNumber: 9\n    }, this);\n}\n_s(AnimatedOnScroll, \"t0V2reWVgNz5BN9UUKoqpcTNaCQ=\");\n_c = AnimatedOnScroll;\n// Documentación de PropTypes para mejor desarrollo\nAnimatedOnScroll.propTypes = {\n    children: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().node).isRequired,\n    className: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().string),\n    duration: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number),\n    distance: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number),\n    threshold: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number),\n    delay: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().number),\n    reducedMotion: (prop_types__WEBPACK_IMPORTED_MODULE_3___default().bool)\n};\nvar _c;\n$RefreshReg$(_c, \"AnimatedOnScroll\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFNjcm9sbC5qc3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxpQ0FBaUM7OztBQUNrQjtBQUNaO0FBQ0o7QUFFcEIsU0FBU0ssaUJBQWlCLEtBUXhDO1FBUndDLEVBQ3JDQyxRQUFRLEVBQ1JDLFlBQVksRUFBRSxFQUNkQyxXQUFXLEdBQUcsRUFDZEMsV0FBVyxFQUFFLEVBQ2JDLFlBQVksR0FBRyxFQUNmQyxRQUFRLENBQUMsRUFDVEMsZ0JBQWdCLEtBQUssRUFDeEIsR0FSd0M7O0lBU3JDLE1BQU0sQ0FBQ0MsZUFBZUMsaUJBQWlCLEdBQUdaLCtDQUFRQSxDQUFDO0lBRW5ERCxnREFBU0EsQ0FBQztRQUNOLG9EQUFvRDtRQUNwRCxNQUFNYyxhQUFhQyxPQUFPQyxVQUFVLENBQUM7UUFDckNILGlCQUFpQixDQUFDQyxXQUFXRyxPQUFPO1FBRXBDLE1BQU1DLHlCQUF5QixDQUFDQztZQUM1Qk4saUJBQWlCLENBQUNNLEVBQUVGLE9BQU87UUFDL0I7UUFFQUgsV0FBV00sZ0JBQWdCLENBQUMsVUFBVUY7UUFDdEMsT0FBTyxJQUFNSixXQUFXTyxtQkFBbUIsQ0FBQyxVQUFVSDtJQUMxRCxHQUFHLEVBQUU7SUFFTCw0RUFBNEU7SUFDNUUsSUFBSVAsaUJBQWlCLENBQUNDLGVBQWU7UUFDakMscUJBQ0ksOERBQUNVO1lBQ0doQixXQUFXQTtZQUNYaUIsTUFBSztZQUNMQyxjQUFXO3NCQUVWbkI7Ozs7OztJQUdiO0lBRUEscUJBQ0ksOERBQUNILGlEQUFNQSxDQUFDb0IsR0FBRztRQUNQaEIsV0FBV0E7UUFDWG1CLFNBQVM7WUFBRUMsU0FBUztZQUFHQyxHQUFHbkI7UUFBUztRQUNuQ29CLGFBQWE7WUFBRUYsU0FBUztZQUFHQyxHQUFHO1FBQUU7UUFDaENFLFVBQVU7WUFBRUMsTUFBTTtZQUFNQyxRQUFRdEI7UUFBVTtRQUMxQ3VCLFlBQVk7WUFDUnpCLFVBQVVBO1lBQ1ZHLE9BQU9BO1lBQ1B1QixNQUFNO1FBQ1Y7UUFDQVYsTUFBSztRQUNMQyxjQUFXO1FBQ1gsa0RBQWtEO1FBQ2xEVSxhQUFVO1FBQ1Ysd0VBQXdFO1FBQ3hFQyxPQUFPO1lBQ0hDLFlBQVk7UUFDaEI7a0JBRUMvQjs7Ozs7O0FBR2I7R0E1RHdCRDtLQUFBQTtBQThEeEIsbURBQW1EO0FBQ25EQSxpQkFBaUJpQyxTQUFTLEdBQUc7SUFDekJoQyxVQUFVRix3REFBYyxDQUFDb0MsVUFBVTtJQUNuQ2pDLFdBQVdILDBEQUFnQjtJQUMzQkksVUFBVUosMERBQWdCO0lBQzFCSyxVQUFVTCwwREFBZ0I7SUFDMUJNLFdBQVdOLDBEQUFnQjtJQUMzQk8sT0FBT1AsMERBQWdCO0lBQ3ZCUSxlQUFlUix3REFBYztBQUNqQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9BbmltYXRlZFNjcm9sbC5qc3g/ZjU1NSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBjb21wb25lbnRzL0FuaW1hdGVkT25TY3JvbGwuanNcbmltcG9ydCBSZWFjdCwgeyB1c2VFZmZlY3QsIHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBBbmltYXRlZE9uU2Nyb2xsKHsgXG4gICAgY2hpbGRyZW4sXG4gICAgY2xhc3NOYW1lID0gXCJcIixcbiAgICBkdXJhdGlvbiA9IDAuNSxcbiAgICBkaXN0YW5jZSA9IDIwLFxuICAgIHRocmVzaG9sZCA9IDAuMSxcbiAgICBkZWxheSA9IDAsXG4gICAgcmVkdWNlZE1vdGlvbiA9IGZhbHNlXG59KSB7XG4gICAgY29uc3QgW3Nob3VsZEFuaW1hdGUsIHNldFNob3VsZEFuaW1hdGVdID0gdXNlU3RhdGUodHJ1ZSk7XG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICAvLyBDb21wcm9iYXIgcHJlZmVyZW5jaWFzIGRlIHJlZHVjY2nDs24gZGUgbW92aW1pZW50b1xuICAgICAgICBjb25zdCBtZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLXJlZHVjZWQtbW90aW9uOiByZWR1Y2UpJyk7XG4gICAgICAgIHNldFNob3VsZEFuaW1hdGUoIW1lZGlhUXVlcnkubWF0Y2hlcyk7XG5cbiAgICAgICAgY29uc3QgaGFuZGxlTW90aW9uUHJlZmVyZW5jZSA9IChlKSA9PiB7XG4gICAgICAgICAgICBzZXRTaG91bGRBbmltYXRlKCFlLm1hdGNoZXMpO1xuICAgICAgICB9O1xuXG4gICAgICAgIG1lZGlhUXVlcnkuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaGFuZGxlTW90aW9uUHJlZmVyZW5jZSk7XG4gICAgICAgIHJldHVybiAoKSA9PiBtZWRpYVF1ZXJ5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGhhbmRsZU1vdGlvblByZWZlcmVuY2UpO1xuICAgIH0sIFtdKTtcblxuICAgIC8vIFNpIGVsIHVzdWFyaW8gcHJlZmllcmUgbW92aW1pZW50byByZWR1Y2lkbyBvIHNlIGVzcGVjaWZpY2EgZXhwbMOtY2l0YW1lbnRlXG4gICAgaWYgKHJlZHVjZWRNb3Rpb24gfHwgIXNob3VsZEFuaW1hdGUpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICAgICAgcm9sZT1cInJlZ2lvblwiXG4gICAgICAgICAgICAgICAgYXJpYS1sYWJlbD1cIkNvbnRlbmlkbyBhbmltYWRvXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7Y2hpbGRyZW59XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgY2xhc3NOYW1lPXtjbGFzc05hbWV9XG4gICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IGRpc3RhbmNlIH19XG4gICAgICAgICAgICB3aGlsZUluVmlldz17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICB2aWV3cG9ydD17eyBvbmNlOiB0cnVlLCBhbW91bnQ6IHRocmVzaG9sZCB9fVxuICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBcbiAgICAgICAgICAgICAgICBkdXJhdGlvbjogZHVyYXRpb24sXG4gICAgICAgICAgICAgICAgZGVsYXk6IGRlbGF5LFxuICAgICAgICAgICAgICAgIGVhc2U6IFwiZWFzZU91dFwiXG4gICAgICAgICAgICB9fVxuICAgICAgICAgICAgcm9sZT1cInJlZ2lvblwiXG4gICAgICAgICAgICBhcmlhLWxhYmVsPVwiQ29udGVuaWRvIGNvbiBhbmltYWNpw7NuIGFsIHNjcm9sbFwiXG4gICAgICAgICAgICAvLyBNZWpvcmFyIGFjY2VzaWJpbGlkYWQgcGFyYSBsZWN0b3JlcyBkZSBwYW50YWxsYVxuICAgICAgICAgICAgYXJpYS1saXZlPVwicG9saXRlXCJcbiAgICAgICAgICAgIC8vIEFzZWd1cmFyIHF1ZSBlbCBjb250ZW5pZG8gc2VhIGFjY2VzaWJsZSBpbmNsdXNvIGFudGVzIGRlIGxhIGFuaW1hY2nDs25cbiAgICAgICAgICAgIHN0eWxlPXt7XG4gICAgICAgICAgICAgICAgd2lsbENoYW5nZTogJ29wYWNpdHksIHRyYW5zZm9ybSdcbiAgICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICAgIHtjaGlsZHJlbn1cbiAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICk7XG59XG5cbi8vIERvY3VtZW50YWNpw7NuIGRlIFByb3BUeXBlcyBwYXJhIG1lam9yIGRlc2Fycm9sbG9cbkFuaW1hdGVkT25TY3JvbGwucHJvcFR5cGVzID0ge1xuICAgIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZS5pc1JlcXVpcmVkLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBkdXJhdGlvbjogUHJvcFR5cGVzLm51bWJlcixcbiAgICBkaXN0YW5jZTogUHJvcFR5cGVzLm51bWJlcixcbiAgICB0aHJlc2hvbGQ6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgZGVsYXk6IFByb3BUeXBlcy5udW1iZXIsXG4gICAgcmVkdWNlZE1vdGlvbjogUHJvcFR5cGVzLmJvb2xcbn07XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIm1vdGlvbiIsIlByb3BUeXBlcyIsIkFuaW1hdGVkT25TY3JvbGwiLCJjaGlsZHJlbiIsImNsYXNzTmFtZSIsImR1cmF0aW9uIiwiZGlzdGFuY2UiLCJ0aHJlc2hvbGQiLCJkZWxheSIsInJlZHVjZWRNb3Rpb24iLCJzaG91bGRBbmltYXRlIiwic2V0U2hvdWxkQW5pbWF0ZSIsIm1lZGlhUXVlcnkiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwibWF0Y2hlcyIsImhhbmRsZU1vdGlvblByZWZlcmVuY2UiLCJlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJkaXYiLCJyb2xlIiwiYXJpYS1sYWJlbCIsImluaXRpYWwiLCJvcGFjaXR5IiwieSIsIndoaWxlSW5WaWV3Iiwidmlld3BvcnQiLCJvbmNlIiwiYW1vdW50IiwidHJhbnNpdGlvbiIsImVhc2UiLCJhcmlhLWxpdmUiLCJzdHlsZSIsIndpbGxDaGFuZ2UiLCJwcm9wVHlwZXMiLCJub2RlIiwiaXNSZXF1aXJlZCIsInN0cmluZyIsIm51bWJlciIsImJvb2wiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/components/AnimatedScroll.jsx\n"));

/***/ }),

/***/ "./src/components/propiedades/PropertyImage.jsx":
/*!******************************************************!*\
  !*** ./src/components/propiedades/PropertyImage.jsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PropertyImage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_3__);\n\nvar _s = $RefreshSig$();\n\n\n\nfunction PropertyImage(param) {\n    let { src, alt, className, priority = false, objectPosition = \"center\", sizes = \"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw\", propertyInfo = {} // Optional property metadata for structured data\n     } = param;\n    _s();\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const [loaded, setLoaded] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)(false);\n    const imageRef = (0,react__WEBPACK_IMPORTED_MODULE_2__.useRef)(null);\n    const [imageDimensions, setImageDimensions] = (0,react__WEBPACK_IMPORTED_MODULE_2__.useState)({\n        width: 800,\n        height: 600\n    });\n    // Asegurarse de que src sea una cadena de texto\n    const safeSrc = typeof src === \"string\" ? src : src && typeof src === \"object\" && src.src ? src.src : src && typeof src === \"object\" && src.url ? src.url : src && typeof src === \"object\" && src.source_url ? src.source_url : \"/img/property-placeholder.jpg\";\n    // Generate a unique ID for structured data references\n    const imageId = \"property-image-\".concat(Math.random().toString(36).substring(2, 9));\n    // Schema.org structured data for real estate images\n    const imageSchema = {\n        \"@context\": \"https://schema.org\",\n        \"@type\": \"ImageObject\",\n        \"@id\": \"#\".concat(imageId),\n        \"contentUrl\": safeSrc || \"/img/property-placeholder.jpg\",\n        \"name\": alt || \"Imagen de propiedad inmobiliaria\",\n        \"description\": alt || \"Fotograf\\xeda de propiedad inmobiliaria\",\n        \"representativeOfPage\": priority\n    };\n    // If we have property info, enhance the structured data\n    if (propertyInfo.address) {\n        imageSchema.contentLocation = {\n            \"@type\": \"Place\",\n            \"address\": {\n                \"@type\": \"PostalAddress\",\n                \"addressLocality\": propertyInfo.address\n            }\n        };\n    }\n    // Track image loading\n    (0,react__WEBPACK_IMPORTED_MODULE_2__.useEffect)(()=>{\n        const observer = new IntersectionObserver((param)=>{\n            let [entry] = param;\n            if (entry.isIntersecting) {\n                // Fix: Use document.createElement('img') instead of new Image() to avoid conflict\n                const imgElement = document.createElement(\"img\");\n                imgElement.onload = ()=>{\n                    setImageDimensions({\n                        width: imgElement.naturalWidth || 800,\n                        height: imgElement.naturalHeight || 600\n                    });\n                    setLoaded(true);\n                };\n                if (safeSrc) {\n                    // For proxy URLs, we need to handle differently\n                    if (typeof safeSrc === \"string\" && safeSrc.startsWith(\"http\") && safeSrc.includes(\"realestategozamadrid.com\")) {\n                        const proxyUrl = \"https://images.weserv.nl/?url=\".concat(encodeURIComponent(safeSrc), \"&default=https://via.placeholder.com/800x600?text=Sin+Imagen\");\n                        imgElement.src = proxyUrl;\n                    } else {\n                        imgElement.src = safeSrc;\n                    }\n                }\n                observer.disconnect();\n            }\n        }, {\n            rootMargin: \"200px\"\n        });\n        if (imageRef.current) {\n            observer.observe(imageRef.current);\n        }\n        return ()=>{\n            observer.disconnect();\n        };\n    }, [\n        safeSrc\n    ]);\n    // Imagen por defecto si hay error o no hay src\n    if (error || !safeSrc) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        type: \"application/ld+json\",\n                        dangerouslySetInnerHTML: {\n                            __html: JSON.stringify({\n                                ...imageSchema,\n                                contentUrl: \"/img/property-placeholder.jpg\"\n                            })\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                        lineNumber: 98,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 97,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"bg-gray-200 flex items-center justify-center \".concat(className),\n                    ref: imageRef,\n                    itemScope: true,\n                    itemType: \"https://schema.org/ImageObject\",\n                    \"aria-label\": \"Imagen no disponible\",\n                    role: \"img\",\n                    itemID: \"#\".concat(imageId),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                            className: \"text-gray-500\",\n                            children: \"Sin imagen\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 115,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"contentUrl\",\n                            content: \"/img/property-placeholder.jpg\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 116,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"name\",\n                            content: alt || \"Imagen no disponible\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 117,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 106,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    // Usar un servicio de proxy de imágenes para evitar problemas CORS y HTTP2\n    if (typeof safeSrc === \"string\" && safeSrc.startsWith(\"http\") && safeSrc.includes(\"realestategozamadrid.com\")) {\n        // Usar images.weserv.nl como proxy de imágenes\n        const proxyUrl = \"https://images.weserv.nl/?url=\".concat(encodeURIComponent(safeSrc), \"&default=https://via.placeholder.com/800x600?text=Sin+Imagen\");\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        type: \"application/ld+json\",\n                        dangerouslySetInnerHTML: {\n                            __html: JSON.stringify({\n                                ...imageSchema,\n                                contentUrl: proxyUrl\n                            })\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                        lineNumber: 131,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 130,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: imageRef,\n                    className: \"relative overflow-hidden\",\n                    itemScope: true,\n                    itemType: \"https://schema.org/ImageObject\",\n                    itemID: \"#\".concat(imageId),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: proxyUrl,\n                            alt: alt || \"Propiedad inmobiliaria\",\n                            className: \"w-full h-full object-cover \".concat(className),\n                            onError: ()=>setError(true),\n                            onLoad: ()=>setLoaded(true),\n                            loading: priority ? \"eager\" : \"lazy\",\n                            decoding: \"async\",\n                            itemProp: \"contentUrl\",\n                            \"data-original-url\": safeSrc,\n                            style: {\n                                objectPosition\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 146,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"description\",\n                            content: alt || \"Fotograf\\xeda de propiedad inmobiliaria\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 158,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"representativeOfPage\",\n                            content: priority ? \"true\" : \"false\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 159,\n                            columnNumber: 11\n                        }, this),\n                        loaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                    itemProp: \"width\",\n                                    content: imageDimensions.width\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                                    lineNumber: 162,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                    itemProp: \"height\",\n                                    content: imageDimensions.height\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                                    lineNumber: 163,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 139,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    // Para otras URLs externas\n    if (typeof safeSrc === \"string\" && safeSrc.startsWith(\"http\")) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        type: \"application/ld+json\",\n                        dangerouslySetInnerHTML: {\n                            __html: JSON.stringify(imageSchema)\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                        lineNumber: 176,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 175,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    ref: imageRef,\n                    className: \"relative overflow-hidden\",\n                    itemScope: true,\n                    itemType: \"https://schema.org/ImageObject\",\n                    itemID: \"#\".concat(imageId),\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                            src: safeSrc,\n                            alt: alt || \"Propiedad inmobiliaria\",\n                            className: \"w-full h-full object-cover \".concat(className),\n                            onError: ()=>setError(true),\n                            onLoad: ()=>setLoaded(true),\n                            loading: priority ? \"eager\" : \"lazy\",\n                            decoding: \"async\",\n                            itemProp: \"contentUrl\",\n                            style: {\n                                objectPosition\n                            }\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 188,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"name\",\n                            content: alt || \"Fotograf\\xeda de propiedad inmobiliaria\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 199,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            itemProp: \"representativeOfPage\",\n                            content: priority ? \"true\" : \"false\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                            lineNumber: 200,\n                            columnNumber: 11\n                        }, this),\n                        loaded && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                    itemProp: \"width\",\n                                    content: imageDimensions.width\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                                    lineNumber: 203,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                                    itemProp: \"height\",\n                                    content: imageDimensions.height\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                                    lineNumber: 204,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 181,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    // Para imágenes locales o del mismo dominio, usar Next Image\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_3___default()), {\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                    type: \"application/ld+json\",\n                    dangerouslySetInnerHTML: {\n                        __html: JSON.stringify({\n                            ...imageSchema,\n                            contentUrl: typeof safeSrc === \"string\" ? safeSrc : \"/img/property-placeholder.jpg\"\n                        })\n                    }\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                    lineNumber: 216,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                lineNumber: 215,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                ref: imageRef,\n                className: \"relative overflow-hidden\",\n                itemScope: true,\n                itemType: \"https://schema.org/ImageObject\",\n                itemID: \"#\".concat(imageId),\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_image__WEBPACK_IMPORTED_MODULE_1___default()), {\n                        src: safeSrc,\n                        alt: alt || \"Propiedad inmobiliaria\",\n                        width: 500,\n                        height: 300,\n                        className: \"object-cover \".concat(className),\n                        onError: ()=>setError(true),\n                        priority: priority,\n                        sizes: sizes,\n                        quality: 85,\n                        placeholder: \"blur\",\n                        blurDataURL: \"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 40 40'%3E%3Crect width='100%25' height='100%25' fill='%23f3f4f6'/%3E%3C/svg%3E\",\n                        itemProp: \"contentUrl\",\n                        style: {\n                            objectPosition\n                        },\n                        loading: priority ? \"eager\" : \"lazy\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                        lineNumber: 231,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        itemProp: \"name\",\n                        content: alt || \"Fotograf\\xeda de propiedad inmobiliaria\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                        lineNumber: 247,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        itemProp: \"representativeOfPage\",\n                        content: priority ? \"true\" : \"false\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                        lineNumber: 248,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyImage.jsx\",\n                lineNumber: 224,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s(PropertyImage, \"LCVKKW0PGKiWZ75/XntCjzqLRDc=\");\n_c = PropertyImage;\nvar _c;\n$RefreshReg$(_c, \"PropertyImage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wcm9waWVkYWRlcy9Qcm9wZXJ0eUltYWdlLmpzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErQjtBQUNxQjtBQUN2QjtBQUVkLFNBQVNLLGNBQWMsS0FRckM7UUFScUMsRUFDcENDLEdBQUcsRUFDSEMsR0FBRyxFQUNIQyxTQUFTLEVBQ1RDLFdBQVcsS0FBSyxFQUNoQkMsaUJBQWlCLFFBQVEsRUFDekJDLFFBQVEsMERBQTBELEVBQ2xFQyxlQUFlLENBQUMsRUFBRyxpREFBaUQ7SUFBbkQsRUFDbEIsR0FScUM7O0lBU3BDLE1BQU0sQ0FBQ0MsT0FBT0MsU0FBUyxHQUFHYiwrQ0FBUUEsQ0FBQztJQUNuQyxNQUFNLENBQUNjLFFBQVFDLFVBQVUsR0FBR2YsK0NBQVFBLENBQUM7SUFDckMsTUFBTWdCLFdBQVdmLDZDQUFNQSxDQUFDO0lBQ3hCLE1BQU0sQ0FBQ2dCLGlCQUFpQkMsbUJBQW1CLEdBQUdsQiwrQ0FBUUEsQ0FBQztRQUFFbUIsT0FBTztRQUFLQyxRQUFRO0lBQUk7SUFFakYsZ0RBQWdEO0lBQ2hELE1BQU1DLFVBQVUsT0FBT2hCLFFBQVEsV0FBV0EsTUFDM0IsT0FBUSxPQUFPQSxRQUFRLFlBQVlBLElBQUlBLEdBQUcsR0FBSUEsSUFBSUEsR0FBRyxHQUNyRCxPQUFRLE9BQU9BLFFBQVEsWUFBWUEsSUFBSWlCLEdBQUcsR0FBSWpCLElBQUlpQixHQUFHLEdBQ3JELE9BQVEsT0FBT2pCLFFBQVEsWUFBWUEsSUFBSWtCLFVBQVUsR0FBSWxCLElBQUlrQixVQUFVLEdBQ25FO0lBRWYsc0RBQXNEO0lBQ3RELE1BQU1DLFVBQVUsa0JBQTZELE9BQTNDQyxLQUFLQyxNQUFNLEdBQUdDLFFBQVEsQ0FBQyxJQUFJQyxTQUFTLENBQUMsR0FBRztJQUUxRSxvREFBb0Q7SUFDcEQsTUFBTUMsY0FBYztRQUNsQixZQUFZO1FBQ1osU0FBUztRQUNULE9BQU8sSUFBWSxPQUFSTDtRQUNYLGNBQWNILFdBQVc7UUFDekIsUUFBUWYs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QVcsU0FBUzs7Ozs7Ozs7Ozs7Ozs7QUFJM0U7R0F2UHdCSjtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9wcm9waWVkYWRlcy9Qcm9wZXJ0eUltYWdlLmpzeD9hNmE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbWFnZSBmcm9tICduZXh0L2ltYWdlJztcbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VSZWYsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFByb3BlcnR5SW1hZ2UoeyBcbiAgc3JjLCBcbiAgYWx0LCBcbiAgY2xhc3NOYW1lLCBcbiAgcHJpb3JpdHkgPSBmYWxzZSwgXG4gIG9iamVjdFBvc2l0aW9uID0gJ2NlbnRlcicsXG4gIHNpemVzID0gXCIobWF4LXdpZHRoOiA2NDBweCkgMTAwdncsIChtYXgtd2lkdGg6IDEwMjRweCkgNTB2dywgMzN2d1wiLFxuICBwcm9wZXJ0eUluZm8gPSB7fSAgLy8gT3B0aW9uYWwgcHJvcGVydHkgbWV0YWRhdGEgZm9yIHN0cnVjdHVyZWQgZGF0YVxufSkge1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgW2xvYWRlZCwgc2V0TG9hZGVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgY29uc3QgaW1hZ2VSZWYgPSB1c2VSZWYobnVsbCk7XG4gIGNvbnN0IFtpbWFnZURpbWVuc2lvbnMsIHNldEltYWdlRGltZW5zaW9uc10gPSB1c2VTdGF0ZSh7IHdpZHRoOiA4MDAsIGhlaWdodDogNjAwIH0pO1xuICBcbiAgLy8gQXNlZ3VyYXJzZSBkZSBxdWUgc3JjIHNlYSB1bmEgY2FkZW5hIGRlIHRleHRvXG4gIGNvbnN0IHNhZmVTcmMgPSB0eXBlb2Ygc3JjID09PSAnc3RyaW5nJyA/IHNyYyA6IFxuICAgICAgICAgICAgICAgICAoc3JjICYmIHR5cGVvZiBzcmMgPT09ICdvYmplY3QnICYmIHNyYy5zcmMpID8gc3JjLnNyYyA6XG4gICAgICAgICAgICAgICAgIChzcmMgJiYgdHlwZW9mIHNyYyA9PT0gJ29iamVjdCcgJiYgc3JjLnVybCkgPyBzcmMudXJsIDpcbiAgICAgICAgICAgICAgICAgKHNyYyAmJiB0eXBlb2Ygc3JjID09PSAnb2JqZWN0JyAmJiBzcmMuc291cmNlX3VybCkgPyBzcmMuc291cmNlX3VybCA6XG4gICAgICAgICAgICAgICAgICcvaW1nL3Byb3BlcnR5LXBsYWNlaG9sZGVyLmpwZyc7XG4gIFxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBJRCBmb3Igc3RydWN0dXJlZCBkYXRhIHJlZmVyZW5jZXNcbiAgY29uc3QgaW1hZ2VJZCA9IGBwcm9wZXJ0eS1pbWFnZS0ke01hdGgucmFuZG9tKCkudG9TdHJpbmcoMzYpLnN1YnN0cmluZygyLCA5KX1gO1xuICBcbiAgLy8gU2NoZW1hLm9yZyBzdHJ1Y3R1cmVkIGRhdGEgZm9yIHJlYWwgZXN0YXRlIGltYWdlc1xuICBjb25zdCBpbWFnZVNjaGVtYSA9IHtcbiAgICBcIkBjb250ZXh0XCI6IFwiaHR0cHM6Ly9zY2hlbWEub3JnXCIsXG4gICAgXCJAdHlwZVwiOiBcIkltYWdlT2JqZWN0XCIsXG4gICAgXCJAaWRcIjogYCMke2ltYWdlSWR9YCxcbiAgICBcImNvbnRlbnRVcmxcIjogc2FmZVNyYyB8fCBcIi9pbWcvcHJvcGVydHktcGxhY2Vob2xkZXIuanBnXCIsXG4gICAgXCJuYW1lXCI6IGFsdCB8fCBcIkltYWdlbiBkZSBwcm9waWVkYWQgaW5tb2JpbGlhcmlhXCIsXG4gICAgXCJkZXNjcmlwdGlvblwiOiBhbHQgfHwgXCJGb3RvZ3JhZsOtYSBkZSBwcm9waWVkYWQgaW5tb2JpbGlhcmlhXCIsXG4gICAgXCJyZXByZXNlbnRhdGl2ZU9mUGFnZVwiOiBwcmlvcml0eVxuICB9O1xuICBcbiAgLy8gSWYgd2UgaGF2ZSBwcm9wZXJ0eSBpbmZvLCBlbmhhbmNlIHRoZSBzdHJ1Y3R1cmVkIGRhdGFcbiAgaWYgKHByb3BlcnR5SW5mby5hZGRyZXNzKSB7XG4gICAgaW1hZ2VTY2hlbWEuY29udGVudExvY2F0aW9uID0ge1xuICAgICAgXCJAdHlwZVwiOiBcIlBsYWNlXCIsXG4gICAgICBcImFkZHJlc3NcIjoge1xuICAgICAgICBcIkB0eXBlXCI6IFwiUG9zdGFsQWRkcmVzc1wiLFxuICAgICAgICBcImFkZHJlc3NMb2NhbGl0eVwiOiBwcm9wZXJ0eUluZm8uYWRkcmVzc1xuICAgICAgfVxuICAgIH07XG4gIH1cbiAgXG4gIC8vIFRyYWNrIGltYWdlIGxvYWRpbmdcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcihcbiAgICAgIChbZW50cnldKSA9PiB7XG4gICAgICAgIGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuICAgICAgICAgIC8vIEZpeDogVXNlIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpIGluc3RlYWQgb2YgbmV3IEltYWdlKCkgdG8gYXZvaWQgY29uZmxpY3RcbiAgICAgICAgICBjb25zdCBpbWdFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgaW1nRWxlbWVudC5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICBzZXRJbWFnZURpbWVuc2lvbnMoe1xuICAgICAgICAgICAgICB3aWR0aDogaW1nRWxlbWVudC5uYXR1cmFsV2lkdGggfHwgODAwLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGltZ0VsZW1lbnQubmF0dXJhbEhlaWdodCB8fCA2MDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgc2V0TG9hZGVkKHRydWUpO1xuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKHNhZmVTcmMpIHtcbiAgICAgICAgICAgIC8vIEZvciBwcm94eSBVUkxzLCB3ZSBuZWVkIHRvIGhhbmRsZSBkaWZmZXJlbnRseVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBzYWZlU3JjID09PSAnc3RyaW5nJyAmJiBzYWZlU3JjLnN0YXJ0c1dpdGgoJ2h0dHAnKSAmJiBzYWZlU3JjLmluY2x1ZGVzKCdyZWFsZXN0YXRlZ296YW1hZHJpZC5jb20nKSkge1xuICAgICAgICAgICAgICBjb25zdCBwcm94eVVybCA9IGBodHRwczovL2ltYWdlcy53ZXNlcnYubmwvP3VybD0ke2VuY29kZVVSSUNvbXBvbmVudChzYWZlU3JjKX0mZGVmYXVsdD1odHRwczovL3ZpYS5wbGFjZWhvbGRlci5jb20vODAweDYwMD90ZXh0PVNpbitJbWFnZW5gO1xuICAgICAgICAgICAgICBpbWdFbGVtZW50LnNyYyA9IHByb3h5VXJsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaW1nRWxlbWVudC5zcmMgPSBzYWZlU3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB7IHJvb3RNYXJnaW46ICcyMDBweCcgfVxuICAgICk7XG4gICAgXG4gICAgaWYgKGltYWdlUmVmLmN1cnJlbnQpIHtcbiAgICAgIG9ic2VydmVyLm9ic2VydmUoaW1hZ2VSZWYuY3VycmVudCk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBvYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgfTtcbiAgfSwgW3NhZmVTcmNdKTtcbiAgXG4gIC8vIEltYWdlbiBwb3IgZGVmZWN0byBzaSBoYXkgZXJyb3IgbyBubyBoYXkgc3JjXG4gIGlmIChlcnJvciB8fCAhc2FmZVNyYykge1xuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7LyogSW5jbHVkZSBzdHJ1Y3R1cmVkIGRhdGEgZXZlbiBmb3IgZmFsbGJhY2sgaW1hZ2VzICovfVxuICAgICAgICA8SGVhZD5cbiAgICAgICAgICA8c2NyaXB0XG4gICAgICAgICAgICB0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgLi4uaW1hZ2VTY2hlbWEsXG4gICAgICAgICAgICAgIGNvbnRlbnRVcmw6IFwiL2ltZy9wcm9wZXJ0eS1wbGFjZWhvbGRlci5qcGdcIiBcbiAgICAgICAgICAgIH0pIH19XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9IZWFkPlxuICAgICAgICA8ZGl2IFxuICAgICAgICAgIGNsYXNzTmFtZT17YGJnLWdyYXktMjAwIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyICR7Y2xhc3NOYW1lfWB9XG4gICAgICAgICAgcmVmPXtpbWFnZVJlZn1cbiAgICAgICAgICBpdGVtU2NvcGVcbiAgICAgICAgICBpdGVtVHlwZT1cImh0dHBzOi8vc2NoZW1hLm9yZy9JbWFnZU9iamVjdFwiXG4gICAgICAgICAgYXJpYS1sYWJlbD1cIkltYWdlbiBubyBkaXNwb25pYmxlXCJcbiAgICAgICAgICByb2xlPVwiaW1nXCJcbiAgICAgICAgICBpdGVtSUQ9e2AjJHtpbWFnZUlkfWB9XG4gICAgICAgID5cbiAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwXCI+U2luIGltYWdlbjwvc3Bhbj5cbiAgICAgICAgICA8bWV0YSBpdGVtUHJvcD1cImNvbnRlbnRVcmxcIiBjb250ZW50PVwiL2ltZy9wcm9wZXJ0eS1wbGFjZWhvbGRlci5qcGdcIiAvPlxuICAgICAgICAgIDxtZXRhIGl0ZW1Qcm9wPVwibmFtZVwiIGNvbnRlbnQ9e2FsdCB8fCBcIkltYWdlbiBubyBkaXNwb25pYmxlXCJ9IC8+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxuICBcbiAgLy8gVXNhciB1biBzZXJ2aWNpbyBkZSBwcm94eSBkZSBpbcOhZ2VuZXMgcGFyYSBldml0YXIgcHJvYmxlbWFzIENPUlMgeSBIVFRQMlxuICBpZiAodHlwZW9mIHNhZmVTcmMgPT09ICdzdHJpbmcnICYmIHNhZmVTcmMuc3RhcnRzV2l0aCgnaHR0cCcpICYmIHNhZmVTcmMuaW5jbHVkZXMoJ3JlYWxlc3RhdGVnb3phbWFkcmlkLmNvbScpKSB7XG4gICAgLy8gVXNhciBpbWFnZXMud2VzZXJ2Lm5sIGNvbW8gcHJveHkgZGUgaW3DoWdlbmVzXG4gICAgY29uc3QgcHJveHlVcmwgPSBgaHR0cHM6Ly9pbWFnZXMud2VzZXJ2Lm5sLz91cmw9JHtlbmNvZGVVUklDb21wb25lbnQoc2FmZVNyYyl9JmRlZmF1bHQ9aHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzgwMHg2MDA/dGV4dD1TaW4rSW1hZ2VuYDtcbiAgICBcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgPHNjcmlwdFxuICAgICAgICAgICAgdHlwZT1cImFwcGxpY2F0aW9uL2xkK2pzb25cIlxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgIC4uLmltYWdlU2NoZW1hLFxuICAgICAgICAgICAgICBjb250ZW50VXJsOiBwcm94eVVybFxuICAgICAgICAgICAgfSkgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0hlYWQ+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgcmVmPXtpbWFnZVJlZn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICAgIGl0ZW1TY29wZVxuICAgICAgICAgIGl0ZW1UeXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL0ltYWdlT2JqZWN0XCJcbiAgICAgICAgICBpdGVtSUQ9e2AjJHtpbWFnZUlkfWB9XG4gICAgICAgID5cbiAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgc3JjPXtwcm94eVVybH1cbiAgICAgICAgICAgIGFsdD17YWx0IHx8IFwiUHJvcGllZGFkIGlubW9iaWxpYXJpYVwifVxuICAgICAgICAgICAgY2xhc3NOYW1lPXtgdy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgJHtjbGFzc05hbWV9YH1cbiAgICAgICAgICAgIG9uRXJyb3I9eygpID0+IHNldEVycm9yKHRydWUpfVxuICAgICAgICAgICAgb25Mb2FkPXsoKSA9PiBzZXRMb2FkZWQodHJ1ZSl9XG4gICAgICAgICAgICBsb2FkaW5nPXtwcmlvcml0eSA/IFwiZWFnZXJcIiA6IFwibGF6eVwifVxuICAgICAgICAgICAgZGVjb2Rpbmc9XCJhc3luY1wiXG4gICAgICAgICAgICBpdGVtUHJvcD1cImNvbnRlbnRVcmxcIlxuICAgICAgICAgICAgZGF0YS1vcmlnaW5hbC11cmw9e3NhZmVTcmN9XG4gICAgICAgICAgICBzdHlsZT17eyBvYmplY3RQb3NpdGlvbiB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1ldGEgaXRlbVByb3A9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e2FsdCB8fCBcIkZvdG9ncmFmw61hIGRlIHByb3BpZWRhZCBpbm1vYmlsaWFyaWFcIn0gLz5cbiAgICAgICAgICA8bWV0YSBpdGVtUHJvcD1cInJlcHJlc2VudGF0aXZlT2ZQYWdlXCIgY29udGVudD17cHJpb3JpdHkgPyBcInRydWVcIiA6IFwiZmFsc2VcIn0gLz5cbiAgICAgICAgICB7bG9hZGVkICYmIChcbiAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgIDxtZXRhIGl0ZW1Qcm9wPVwid2lkdGhcIiBjb250ZW50PXtpbWFnZURpbWVuc2lvbnMud2lkdGh9IC8+XG4gICAgICAgICAgICAgIDxtZXRhIGl0ZW1Qcm9wPVwiaGVpZ2h0XCIgY29udGVudD17aW1hZ2VEaW1lbnNpb25zLmhlaWdodH0gLz5cbiAgICAgICAgICAgIDwvPlxuICAgICAgICAgICl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxuICBcbiAgLy8gUGFyYSBvdHJhcyBVUkxzIGV4dGVybmFzXG4gIGlmICh0eXBlb2Ygc2FmZVNyYyA9PT0gJ3N0cmluZycgJiYgc2FmZVNyYy5zdGFydHNXaXRoKCdodHRwJykpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPEhlYWQ+XG4gICAgICAgICAgPHNjcmlwdFxuICAgICAgICAgICAgdHlwZT1cImFwcGxpY2F0aW9uL2xkK2pzb25cIlxuICAgICAgICAgICAgZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUw9e3sgX19odG1sOiBKU09OLnN0cmluZ2lmeShpbWFnZVNjaGVtYSkgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0hlYWQ+XG4gICAgICAgIDxkaXYgXG4gICAgICAgICAgcmVmPXtpbWFnZVJlZn1cbiAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIlxuICAgICAgICAgIGl0ZW1TY29wZVxuICAgICAgICAgIGl0ZW1UeXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL0ltYWdlT2JqZWN0XCJcbiAgICAgICAgICBpdGVtSUQ9e2AjJHtpbWFnZUlkfWB9XG4gICAgICAgID5cbiAgICAgICAgICA8aW1nIFxuICAgICAgICAgICAgc3JjPXtzYWZlU3JjfVxuICAgICAgICAgICAgYWx0PXthbHQgfHwgXCJQcm9waWVkYWQgaW5tb2JpbGlhcmlhXCJ9XG4gICAgICAgICAgICBjbGFzc05hbWU9e2B3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciAke2NsYXNzTmFtZX1gfVxuICAgICAgICAgICAgb25FcnJvcj17KCkgPT4gc2V0RXJyb3IodHJ1ZSl9XG4gICAgICAgICAgICBvbkxvYWQ9eygpID0+IHNldExvYWRlZCh0cnVlKX1cbiAgICAgICAgICAgIGxvYWRpbmc9e3ByaW9yaXR5ID8gXCJlYWdlclwiIDogXCJsYXp5XCJ9XG4gICAgICAgICAgICBkZWNvZGluZz1cImFzeW5jXCJcbiAgICAgICAgICAgIGl0ZW1Qcm9wPVwiY29udGVudFVybFwiXG4gICAgICAgICAgICBzdHlsZT17eyBvYmplY3RQb3NpdGlvbiB9fVxuICAgICAgICAgIC8+XG4gICAgICAgICAgPG1ldGEgaXRlbVByb3A9XCJuYW1lXCIgY29udGVudD17YWx0IHx8IFwiRm90b2dyYWbDrWEgZGUgcHJvcGllZGFkIGlubW9iaWxpYXJpYVwifSAvPlxuICAgICAgICAgIDxtZXRhIGl0ZW1Qcm9wPVwicmVwcmVzZW50YXRpdmVPZlBhZ2VcIiBjb250ZW50PXtwcmlvcml0eSA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifSAvPlxuICAgICAgICAgIHtsb2FkZWQgJiYgKFxuICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgPG1ldGEgaXRlbVByb3A9XCJ3aWR0aFwiIGNvbnRlbnQ9e2ltYWdlRGltZW5zaW9ucy53aWR0aH0gLz5cbiAgICAgICAgICAgICAgPG1ldGEgaXRlbVByb3A9XCJoZWlnaHRcIiBjb250ZW50PXtpbWFnZURpbWVuc2lvbnMuaGVpZ2h0fSAvPlxuICAgICAgICAgICAgPC8+XG4gICAgICAgICAgKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG4gIFxuICAvLyBQYXJhIGltw6FnZW5lcyBsb2NhbGVzIG8gZGVsIG1pc21vIGRvbWluaW8sIHVzYXIgTmV4dCBJbWFnZVxuICByZXR1cm4gKFxuICAgIDw+XG4gICAgICA8SGVhZD5cbiAgICAgICAgPHNjcmlwdFxuICAgICAgICAgIHR5cGU9XCJhcHBsaWNhdGlvbi9sZCtqc29uXCJcbiAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgIC4uLmltYWdlU2NoZW1hLFxuICAgICAgICAgICAgY29udGVudFVybDogdHlwZW9mIHNhZmVTcmMgPT09ICdzdHJpbmcnID8gc2FmZVNyYyA6ICcvaW1nL3Byb3BlcnR5LXBsYWNlaG9sZGVyLmpwZydcbiAgICAgICAgICB9KSB9fVxuICAgICAgICAvPlxuICAgICAgPC9IZWFkPlxuICAgICAgPGRpdiBcbiAgICAgICAgcmVmPXtpbWFnZVJlZn1cbiAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCJcbiAgICAgICAgaXRlbVNjb3BlXG4gICAgICAgIGl0ZW1UeXBlPVwiaHR0cHM6Ly9zY2hlbWEub3JnL0ltYWdlT2JqZWN0XCJcbiAgICAgICAgaXRlbUlEPXtgIyR7aW1hZ2VJZH1gfVxuICAgICAgPlxuICAgICAgICA8SW1hZ2VcbiAgICAgICAgICBzcmM9e3NhZmVTcmN9XG4gICAgICAgICAgYWx0PXthbHQgfHwgXCJQcm9waWVkYWQgaW5tb2JpbGlhcmlhXCJ9XG4gICAgICAgICAgd2lkdGg9ezUwMH1cbiAgICAgICAgICBoZWlnaHQ9ezMwMH1cbiAgICAgICAgICBjbGFzc05hbWU9e2BvYmplY3QtY292ZXIgJHtjbGFzc05hbWV9YH1cbiAgICAgICAgICBvbkVycm9yPXsoKSA9PiBzZXRFcnJvcih0cnVlKX1cbiAgICAgICAgICBwcmlvcml0eT17cHJpb3JpdHl9XG4gICAgICAgICAgc2l6ZXM9e3NpemVzfVxuICAgICAgICAgIHF1YWxpdHk9ezg1fVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiYmx1clwiXG4gICAgICAgICAgYmx1ckRhdGFVUkw9XCJkYXRhOmltYWdlL3N2Zyt4bWwsJTNDc3ZnIHhtbG5zPSdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Zycgdmlld0JveD0nMCAwIDQwIDQwJyUzRSUzQ3JlY3Qgd2lkdGg9JzEwMCUyNScgaGVpZ2h0PScxMDAlMjUnIGZpbGw9JyUyM2YzZjRmNicvJTNFJTNDL3N2ZyUzRVwiXG4gICAgICAgICAgaXRlbVByb3A9XCJjb250ZW50VXJsXCJcbiAgICAgICAgICBzdHlsZT17eyBvYmplY3RQb3NpdGlvbiB9fVxuICAgICAgICAgIGxvYWRpbmc9e3ByaW9yaXR5ID8gXCJlYWdlclwiIDogXCJsYXp5XCJ9XG4gICAgICAgIC8+XG4gICAgICAgIDxtZXRhIGl0ZW1Qcm9wPVwibmFtZVwiIGNvbnRlbnQ9e2FsdCB8fCBcIkZvdG9ncmFmw61hIGRlIHByb3BpZWRhZCBpbm1vYmlsaWFyaWFcIn0gLz5cbiAgICAgICAgPG1ldGEgaXRlbVByb3A9XCJyZXByZXNlbnRhdGl2ZU9mUGFnZVwiIGNvbnRlbnQ9e3ByaW9yaXR5ID8gXCJ0cnVlXCIgOiBcImZhbHNlXCJ9IC8+XG4gICAgICA8L2Rpdj5cbiAgICA8Lz5cbiAgKTtcbn0iXSwibmFtZXMiOlsiSW1hZ2UiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsInVzZUVmZmVjdCIsIkhlYWQiLCJQcm9wZXJ0eUltYWdlIiwic3JjIiwiYWx0IiwiY2xhc3NOYW1lIiwicHJpb3JpdHkiLCJvYmplY3RQb3NpdGlvbiIsInNpemVzIiwicHJvcGVydHlJbmZvIiwiZXJyb3IiLCJzZXRFcnJvciIsImxvYWRlZCIsInNldExvYWRlZCIsImltYWdlUmVmIiwiaW1hZ2VEaW1lbnNpb25zIiwic2V0SW1hZ2VEaW1lbnNpb25zIiwid2lkdGgiLCJoZWlnaHQiLCJzYWZlU3JjIiwidXJsIiwic291cmNlX3VybCIsImltYWdlSWQiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzdWJzdHJpbmciLCJpbWFnZVNjaGVtYSIsImFkZHJlc3MiLCJjb250ZW50TG9jYXRpb24iLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsImltZ0VsZW1lbnQiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJvbmxvYWQiLCJuYXR1cmFsV2lkdGgiLCJuYXR1cmFsSGVpZ2h0Iiwic3RhcnRzV2l0aCIsImluY2x1ZGVzIiwicHJveHlVcmwiLCJlbmNvZGVVUklDb21wb25lbnQiLCJkaXNjb25uZWN0Iiwicm9vdE1hcmdpbiIsImN1cnJlbnQiLCJvYnNlcnZlIiwic2NyaXB0IiwidHlwZSIsImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MIiwiX19odG1sIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvbnRlbnRVcmwiLCJkaXYiLCJyZWYiLCJpdGVtU2NvcGUiLCJpdGVtVHlwZSIsImFyaWEtbGFiZWwiLCJyb2xlIiwiaXRlbUlEIiwic3BhbiIsIm1ldGEiLCJpdGVtUHJvcCIsImNvbnRlbnQiLCJpbWciLCJvbkVycm9yIiwib25Mb2FkIiwibG9hZGluZyIsImRlY29kaW5nIiwiZGF0YS1vcmlnaW5hbC11cmwiLCJzdHlsZSIsInF1YWxpdHkiLCJwbGFjZWhvbGRlciIsImJsdXJEYXRhVVJMIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/propiedades/PropertyImage.jsx\n"));

/***/ }),

/***/ "./src/components/propiedades/PropertyPage.jsx":
/*!*****************************************************!*\
  !*** ./src/components/propiedades/PropertyPage.jsx ***!
  \*****************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ PropertyPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/link */ \"./node_modules/next/link.js\");\n/* harmony import */ var next_link__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/image */ \"./node_modules/next/image.js\");\n/* harmony import */ var next_image__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_image__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! framer-motion */ \"./node_modules/framer-motion/dist/es/index.mjs\");\n/* harmony import */ var _barrel_optimize_names_FaBath_FaBed_FaEuroSign_FaMapMarkerAlt_FaRulerCombined_react_icons_fa__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=FaBath,FaBed,FaEuroSign,FaMapMarkerAlt,FaRulerCombined!=!react-icons/fa */ \"__barrel_optimize__?names=FaBath,FaBed,FaEuroSign,FaMapMarkerAlt,FaRulerCombined!=!./node_modules/react-icons/fa/index.mjs\");\n/* harmony import */ var _AnimatedScroll__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../AnimatedScroll */ \"./src/components/AnimatedScroll.jsx\");\n/* harmony import */ var _pages_api__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../pages/api */ \"./src/pages/api.js\");\n/* harmony import */ var _PropertyImage__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PropertyImage */ \"./src/components/propiedades/PropertyImage.jsx\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_8__);\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n// Estilos consistentes con el resto de la web\nconst textShadowStyle = {\n    textShadow: \"2px 2px 4px rgba(0, 0, 0, 0.8)\"\n};\nconst textShadowLightStyle = {\n    textShadow: \"1px 1px 2px rgba(0, 0, 0, 0.5)\"\n};\n// Componente de Paginación\nconst Pagination = (param)=>{\n    let { totalPages, currentPage, onPageChange } = param;\n    _s();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    // Función para obtener todos los números de página\n    const getPageNumbers = ()=>{\n        const pages = [];\n        for(let i = 1; i <= totalPages; i++){\n            pages.push(i);\n        }\n        return pages;\n    };\n    const handlePageChange = (page)=>{\n        if (page >= 1 && page <= totalPages && page !== currentPage) {\n            // Primero actualizamos el estado local\n            onPageChange(page);\n            // Luego navegamos con un pequeño retraso para permitir que el estado se actualice\n            setTimeout(()=>{\n                router.push({\n                    pathname: router.pathname,\n                    query: {\n                        ...router.query,\n                        page\n                    }\n                }, undefined, {\n                    scroll: true\n                }); // Esto asegura que la página se desplace hacia arriba\n            }, 10);\n        }\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"grid md:grid-cols-12 grid-cols-1 mt-6\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"md:col-span-12 text-center\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"nav\", {\n                \"aria-label\": \"Navegaci\\xf3n de p\\xe1ginas\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                    className: \"inline-flex flex-wrap items-center gap-2 justify-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handlePageChange(currentPage - 1),\n                                disabled: currentPage === 1,\n                                className: \"w-10 h-10 inline-flex justify-center items-center rounded-full \\n                  \".concat(currentPage === 1 ? \"text-gray-400 cursor-not-allowed\" : \"text-slate-400 bg-white hover:text-white hover:bg-amarillo transition-colors\", \" \\n                  shadow-sm\"),\n                                \"aria-label\": \"Ir a la p\\xe1gina anterior\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"mdi mdi-chevron-left text-[20px]\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 62,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 52,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 51,\n                            columnNumber: 13\n                        }, undefined),\n                        getPageNumbers().map((pageNumber)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                    onClick: ()=>handlePageChange(pageNumber),\n                                    className: \"w-10 h-10 inline-flex justify-center items-center rounded-full\\n                    \".concat(pageNumber === currentPage ? \"text-white bg-black hover:bg-gold\" : \"text-slate-400 bg-white hover:text-white hover:bg-amarillo\", \" \\n                    transition-colors shadow-sm\"),\n                                    \"aria-label\": \"Ir a la p\\xe1gina \".concat(pageNumber),\n                                    \"aria-current\": pageNumber === currentPage ? \"page\" : undefined,\n                                    children: pageNumber\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 69,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, pageNumber, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 68,\n                                columnNumber: 15\n                            }, undefined)),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>handlePageChange(currentPage + 1),\n                                disabled: currentPage === totalPages,\n                                className: \"w-10 h-10 inline-flex justify-center items-center rounded-full \\n                  \".concat(currentPage === totalPages ? \"text-gray-400 cursor-not-allowed\" : \"text-slate-400 bg-white hover:text-white hover:bg-amarillo transition-colors\", \" \\n                  shadow-sm\"),\n                                \"aria-label\": \"Ir a la p\\xe1gina siguiente\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                    className: \"mdi mdi-chevron-right text-[20px]\",\n                                    \"aria-hidden\": \"true\"\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 96,\n                                    columnNumber: 17\n                                }, undefined)\n                            }, void 0, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 86,\n                                columnNumber: 15\n                            }, undefined)\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 85,\n                            columnNumber: 13\n                        }, undefined)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                    lineNumber: 49,\n                    columnNumber: 11\n                }, undefined)\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                lineNumber: 48,\n                columnNumber: 9\n            }, undefined)\n        }, void 0, false, {\n            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n            lineNumber: 47,\n            columnNumber: 7\n        }, undefined)\n    }, void 0, false, {\n        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n        lineNumber: 46,\n        columnNumber: 5\n    }, undefined);\n};\n_s(Pagination, \"fN7XvhJ+p5oE6+Xlo0NJmXpxjC8=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter\n    ];\n});\n_c = Pagination;\n// Modificar la función para obtener la URL de la imagen\nconst getProxiedImageUrl = (url)=>{\n    if (!url) return \"/img/default-property-image.jpg\";\n    // Asegurarse de que url sea una cadena de texto\n    if (typeof url !== \"string\") {\n        // Si es un objeto con src o url, usar esa propiedad\n        if (url && typeof url === \"object\") {\n            if (url.src) return getProxiedImageUrl(url.src);\n            if (url.url) return getProxiedImageUrl(url.url);\n        }\n        // Si no es una cadena ni un objeto con src/url, devolver la imagen por defecto\n        return \"/img/default-property-image.jpg\";\n    }\n    // Si ya es una URL absoluta, devolverla tal cual\n    if (url.startsWith(\"http\")) {\n        return url;\n    }\n    // Si es una ruta relativa, construir la URL completa\n    const baseUrl = process.env.NEXT_PUBLIC_API_URL || \"https://goza-madrid.onrender.com\";\n    return \"\".concat(baseUrl).concat(url.startsWith(\"/\") ? \"\" : \"/\").concat(url);\n};\n// Modificar la función para obtener la ubicación correcta\nconst getCorrectLocation = (property)=>{\n    // Si es una propiedad de MongoDB\n    if (property._id) {\n        return property.location || property.address || \"Ubicaci\\xf3n no disponible\";\n    }\n    // Si es una propiedad de WordPress\n    if (property.meta_data) {\n        // Buscar en meta_data primero\n        const addressMeta = property.meta_data.find((meta)=>meta.key === \"address\" || meta.key === \"Ubicaci\\xf3n\" || meta.key === \"ubicacion\");\n        if (addressMeta && addressMeta.value) {\n            return typeof addressMeta.value === \"object\" ? addressMeta.value.address || addressMeta.value.name || \"Ubicaci\\xf3n no disponible\" : addressMeta.value;\n        }\n    }\n    // Si no se encontró en meta_data, usar short_description\n    if (property.short_description) {\n        return property.short_description;\n    }\n    // Extraer del nombre si contiene una dirección\n    if (property.name && (property.name.includes(\"Calle\") || property.name.includes(\"Avenida\") || property.name.includes(\"Plaza\"))) {\n        return property.name;\n    }\n    return \"Ubicaci\\xf3n no disponible\";\n};\n// Función para extraer tipos de propiedades (nueva, para SEO)\nconst extractPropertyTypes = (properties)=>{\n    if (!Array.isArray(properties) || properties.length === 0) {\n        return [\n            \"Viviendas\",\n            \"Apartamentos\",\n            \"Propiedades\"\n        ];\n    }\n    const types = properties.map((p)=>{\n        if (p.typeProperty) return p.typeProperty;\n        if (p.meta_data) {\n            const typeMeta = p.meta_data.find((meta)=>meta.key === \"property_type\" || meta.key === \"tipo\" || meta.key === \"type\");\n            return (typeMeta === null || typeMeta === void 0 ? void 0 : typeMeta.value) || null;\n        }\n        return null;\n    }).filter(Boolean);\n    // Devolver tipos únicos o valores predeterminados si no hay suficientes\n    return [\n        ...new Set(types)\n    ].length > 0 ? [\n        ...new Set(types)\n    ] : [\n        \"Viviendas\",\n        \"Apartamentos\",\n        \"Propiedades\"\n    ];\n};\n// Función para extraer ubicaciones principales (nueva, para SEO)\nconst extractLocations = (properties)=>{\n    if (!Array.isArray(properties) || properties.length === 0) {\n        return [\n            \"Madrid\",\n            \"Espa\\xf1a\"\n        ];\n    }\n    // Extraer ubicaciones de todas las propiedades\n    const locations = properties.map((p)=>getCorrectLocation(p)).filter(Boolean).map((loc)=>{\n        // Extraer solo la ciudad/zona\n        const parts = loc.split(\",\");\n        return parts[0].trim();\n    });\n    // Devolver ubicaciones únicas o valores predeterminados\n    return [\n        ...new Set(locations)\n    ].length > 0 ? [\n        ...new Set(locations)\n    ] : [\n        \"Madrid\",\n        \"Espa\\xf1a\"\n    ];\n};\nfunction PropertyPage() {\n    _s1();\n    const [properties, setProperties] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [searchTerm, setSearchTerm] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [currentPage, setCurrentPage] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const [totalPages, setTotalPages] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(1);\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const [currentUrl, setCurrentUrl] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [initialized, setInitialized] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    // Para SEO - Metadatos dinámicos\n    const [pageTitle, setPageTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Propiedades Inmobiliarias en Madrid | Goza Madrid\");\n    const [pageDescription, setPageDescription] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Descubra nuestra selecci\\xf3n de propiedades inmobiliarias en Madrid. Apartamentos, casas, chalets y locales comerciales disponibles para compra y alquiler.\");\n    // Modificar el número de propiedades por página\n    const propertiesPerPage = 10;\n    // Efecto para asegurar que tenemos la URL correcta para el SEO\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (true) {\n            setCurrentUrl(window.location.href);\n        }\n    }, []);\n    // Preparar el Schema.org para la lista de propiedades\n    const generatePropertyListSchema = ()=>{\n        // Solo generar si tenemos propiedades\n        if (!Array.isArray(properties) || properties.length === 0) {\n            return null;\n        }\n        // Extraer tipos de propiedades y ubicaciones para mejorar el SEO\n        const propertyTypes = extractPropertyTypes(properties);\n        const locations = extractLocations(properties);\n        // Generar schema.org para la lista de propiedades\n        return {\n            \"@context\": \"https://schema.org\",\n            \"@type\": \"ItemList\",\n            \"itemListElement\": properties.map((property, index)=>{\n                // Determinar si es una propiedad de WordPress o de MongoDB\n                const isWordPressProperty = property.source === \"woocommerce\";\n                const isMongoDBProperty = property.source === \"mongodb\";\n                // Extraer los datos según el tipo de propiedad\n                const id = isWordPressProperty ? property.id : property._id;\n                let title = \"\";\n                if (isWordPressProperty) {\n                    title = property.name || \"Propiedad sin t\\xedtulo\";\n                } else if (isMongoDBProperty) {\n                    title = property.title || property.name || \"Propiedad sin t\\xedtulo\";\n                }\n                // Extraer la ubicación\n                const location = getCorrectLocation(property);\n                // Extraer precio\n                let price = \"Consultar\";\n                if (isWordPressProperty && property.price) {\n                    price = new Intl.NumberFormat(\"es-ES\", {\n                        style: \"currency\",\n                        currency: \"EUR\",\n                        minimumFractionDigits: 0,\n                        maximumFractionDigits: 0\n                    }).format(parseInt(property.price));\n                } else if (isMongoDBProperty && property.price) {\n                    // Convertir el precio a número si es una cadena\n                    let numericPrice;\n                    if (typeof property.price === \"string\") {\n                        // Eliminar cualquier carácter que no sea número o punto\n                        const cleanPrice = property.price.replace(/[^\\d.-]/g, \"\");\n                        numericPrice = parseFloat(cleanPrice);\n                        // Si el precio parece ser un precio reducido (menos de 10000), multiplicarlo por 1000\n                        // Esto es para corregir casos donde el precio se guarda como \"350\" en lugar de \"350000\"\n                        if (!isNaN(numericPrice) && numericPrice < 10000) {\n                            numericPrice = numericPrice * 1000;\n                        }\n                    } else {\n                        numericPrice = property.price;\n                        // Si el precio parece ser un precio reducido (menos de 10000), multiplicarlo por 1000\n                        if (numericPrice < 10000) {\n                            numericPrice = numericPrice * 1000;\n                        }\n                    }\n                    price = new Intl.NumberFormat(\"es-ES\", {\n                        style: \"currency\",\n                        currency: \"EUR\",\n                        minimumFractionDigits: 0,\n                        maximumFractionDigits: 0\n                    }).format(numericPrice);\n                }\n                // Obtener la imagen principal\n                let mainImage = \"/img/default-property-image.jpg\";\n                if (isWordPressProperty && property.images && Array.isArray(property.images) && property.images.length > 0) {\n                    const firstImage = property.images[0];\n                    if (typeof firstImage === \"string\") {\n                        mainImage = firstImage;\n                    } else if (typeof firstImage === \"object\") {\n                        mainImage = firstImage.src || firstImage.url || firstImage.source_url || \"/img/default-property-image.jpg\";\n                    }\n                } else if (isMongoDBProperty && property.images && Array.isArray(property.images) && property.images.length > 0) {\n                    const firstImage = property.images[0];\n                    if (typeof firstImage === \"string\") {\n                        mainImage = firstImage;\n                    } else if (typeof firstImage === \"object\") {\n                        mainImage = firstImage.src || firstImage.url || firstImage.source_url || \"/img/default-property-image.jpg\";\n                    }\n                }\n                // Procesar la URL de la imagen\n                const imageUrl = getProxiedImageUrl(mainImage);\n                // Formatear precio para schema.org\n                let priceValue = null;\n                if (typeof price === \"number\") {\n                    priceValue = price;\n                } else if (typeof price === \"string\" && !isNaN(parseFloat(price.replace(/[^\\d.,]/g, \"\").replace(\",\", \".\")))) {\n                    priceValue = parseFloat(price.replace(/[^\\d.,]/g, \"\").replace(\",\", \".\"));\n                }\n                return {\n                    \"@type\": \"ListItem\",\n                    \"position\": index + 1,\n                    \"item\": {\n                        \"@type\": \"Product\",\n                        \"name\": title,\n                        \"description\": \"\".concat(title, \" ubicada en \").concat(location),\n                        \"image\": imageUrl,\n                        \"url\": \"https://www.gozamadrid.com/property/\".concat(id),\n                        \"category\": property.typeProperty || \"Propiedad inmobiliaria\",\n                        \"offers\": priceValue ? {\n                            \"@type\": \"Offer\",\n                            \"priceCurrency\": \"EUR\",\n                            \"price\": priceValue,\n                            \"availability\": \"https://schema.org/InStock\"\n                        } : undefined\n                    }\n                };\n            })\n        };\n    };\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const fetchProperties = async ()=>{\n            if (!router.isReady || initialized) return;\n            try {\n                setLoading(true);\n                setError(null);\n                const data = await (0,_pages_api__WEBPACK_IMPORTED_MODULE_6__.getPropertyPosts)();\n                if (!data || !Array.isArray(data)) {\n                    throw new Error(\"No se recibieron datos v\\xe1lidos de las propiedades\");\n                }\n                const mongoDBProperties = data.filter((p)=>p.source === \"mongodb\");\n                const wordPressProperties = data.filter((p)=>p.source === \"woocommerce\");\n                const reorderedData = [\n                    ...mongoDBProperties,\n                    ...wordPressProperties\n                ];\n                setProperties(reorderedData);\n                setTotalPages(Math.ceil(reorderedData.length / propertiesPerPage));\n                setInitialized(true);\n                if (reorderedData.length > 0) {\n                    const propertyTypes = extractPropertyTypes(reorderedData);\n                    const locations = extractLocations(reorderedData);\n                    setPageTitle(\"\".concat(propertyTypes.slice(0, 2).join(\", \"), \" en \").concat(locations.slice(0, 2).join(\", \"), \" | Goza Madrid\"));\n                    setPageDescription(\"Explore nuestra selecci\\xf3n de \".concat(propertyTypes.slice(0, 3).join(\", \"), \" disponibles en \").concat(locations.slice(0, 3).join(\", \"), \". Encuentre su propiedad ideal con Goza Madrid.\"));\n                }\n            } catch (err) {\n                console.error(\"Error al cargar propiedades:\", err);\n                setError(err.message || \"No pudimos cargar las propiedades. Por favor, intenta de nuevo m\\xe1s tarde.\");\n                setProperties([]);\n            } finally{\n                setLoading(false);\n            }\n        };\n        fetchProperties();\n    }, [\n        router.isReady,\n        propertiesPerPage,\n        initialized\n    ]);\n    // Filtrar propiedades asegurando que properties es un array\n    const filteredProperties = Array.isArray(properties) ? properties.filter((property)=>{\n        const searchField = property.name || property.title || \"\";\n        return searchField.toLowerCase().includes(searchTerm.toLowerCase());\n    }) : [];\n    // Función simplificada para el manejo del cambio de página\n    const handlePageChange = (pageNumber)=>{\n        if (pageNumber === currentPage) return;\n        setCurrentPage(pageNumber); // Actualizar inmediatamente el currentPage\n    // No necesitas hacer fetchProperties aquí, el useEffect se encargará de eso\n    };\n    // Eliminar useCallback para getCurrentProperties\n    const getCurrentProperties = ()=>{\n        return filteredProperties;\n    };\n    // Renderizar estado de carga\n    if (loading) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto py-12 flex justify-center items-center min-h-[60vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/10 backdrop-blur-sm p-8 rounded-xl shadow-lg text-center\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-amber-400 mb-4\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 429,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-lg text-white mb-2\",\n                            children: \"Cargando propiedades...\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 430,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-sm text-gray-300\",\n                            children: \"Esto puede tardar unos segundos\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 431,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                    lineNumber: 428,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                lineNumber: 427,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n            lineNumber: 426,\n            columnNumber: 7\n        }, this);\n    }\n    // Renderizar estado de error\n    if (error) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto py-12 flex justify-center items-center min-h-[60vh]\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"bg-white/10 backdrop-blur-sm p-8 rounded-xl shadow-lg text-center max-w-md\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-col items-center\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"text-red-500 text-6xl mb-4\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                className: \"mdi mdi-alert-circle\"\n                            }, void 0, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 445,\n                                columnNumber: 15\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 444,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                            className: \"text-xl text-white font-semibold mb-2\",\n                            children: \"Algo sali\\xf3 mal\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 447,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-gray-300 mb-6\",\n                            children: error\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 448,\n                            columnNumber: 13\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                            onClick: ()=>{\n                                setLoading(true);\n                                setError(null);\n                                setInitialized(false);\n                            },\n                            className: \"px-6 py-2 bg-amber-500 hover:bg-amber-600 text-white rounded-lg transition-colors\",\n                            children: \"Reintentar\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 449,\n                            columnNumber: 13\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                    lineNumber: 443,\n                    columnNumber: 11\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                lineNumber: 442,\n                columnNumber: 9\n            }, this)\n        }, void 0, false, {\n            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n            lineNumber: 441,\n            columnNumber: 7\n        }, this);\n    }\n    // Si no hay propiedades para mostrar\n    if (!Array.isArray(properties) || properties.length === 0) {\n        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_8___default()), {\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                            children: \"Propiedades no disponibles | Goza Madrid\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 470,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            name: \"description\",\n                            content: \"Actualmente no hay propiedades disponibles. Por favor, vuelve a consultar m\\xe1s tarde o contacta con nosotros para ayudarte a encontrar tu propiedad ideal.\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 471,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                            name: \"robots\",\n                            content: \"noindex,follow\"\n                        }, void 0, false, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 472,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                    lineNumber: 469,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"container mx-auto py-12\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"text-center\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                className: \"text-2xl font-bold mb-4\",\n                                children: \"No hay propiedades disponibles\"\n                            }, void 0, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 476,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                className: \"text-gray-600 mb-8\",\n                                children: \"Por favor, vuelve a consultar m\\xe1s tarde.\"\n                            }, void 0, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 477,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                onClick: ()=>window.location.reload(),\n                                className: \"bg-amarillo hover:bg-amarillo/80 text-white font-bold py-2 px-4 rounded\",\n                                children: \"Recargar p\\xe1gina\"\n                            }, void 0, false, {\n                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                lineNumber: 478,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 475,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                    lineNumber: 474,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true);\n    }\n    // Generar Schema.org JSON-LD\n    const propertyListSchema = generatePropertyListSchema();\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_8___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: pageTitle\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 496,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: pageDescription\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 497,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"canonical\",\n                        href: currentUrl\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 498,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:type\",\n                        content: \"website\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 501,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:title\",\n                        content: pageTitle\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 502,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:description\",\n                        content: pageDescription\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 503,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:url\",\n                        content: currentUrl\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 504,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:image\",\n                        content: \"https://www.gozamadrid.com/og-image-properties.jpg\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 505,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        property: \"og:site_name\",\n                        content: \"Goza Madrid\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 506,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:card\",\n                        content: \"summary_large_image\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 509,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:title\",\n                        content: pageTitle\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 510,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:description\",\n                        content: pageDescription\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 511,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"twitter:image\",\n                        content: \"https://www.gozamadrid.com/twitter-image-properties.jpg\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 512,\n                        columnNumber: 9\n                    }, this),\n                    propertyListSchema && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"script\", {\n                        type: \"application/ld+json\",\n                        dangerouslySetInnerHTML: {\n                            __html: JSON.stringify(propertyListSchema)\n                        }\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 516,\n                        columnNumber: 11\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                lineNumber: 495,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"fixed inset-0 z-0 opacity-100 bg-cover bg-center\",\n                style: {\n                    backgroundImage: \"url('/gozamadridwp2.jpg')\",\n                    backgroundAttachment: \"fixed\"\n                },\n                \"aria-hidden\": \"true\"\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                lineNumber: 524,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"relative min-h-screen py-8\",\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_AnimatedScroll__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"main\", {\n                        className: \"relative container mx-auto px-3\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"layout-specing\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"md:flex justify-center items-center mb-8\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h1\", {\n                                        className: \"text-3xl font-semibold text-center\",\n                                        children: \"Propiedades inmobiliarias en venta y alquiler\"\n                                    }, void 0, false, {\n                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                        lineNumber: 538,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 537,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-8 flex justify-center\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"label\", {\n                                            className: \"sr-only\",\n                                            htmlFor: \"property-search\",\n                                            children: \"Buscar propiedades por direcci\\xf3n\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                            lineNumber: 545,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                            id: \"property-search\",\n                                            type: \"text\",\n                                            placeholder: \"Buscar por direcci\\xf3n...\",\n                                            value: searchTerm,\n                                            onChange: (e)=>setSearchTerm(e.target.value),\n                                            className: \"w-full max-w-md p-3 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-yellow-500\",\n                                            \"aria-label\": \"Buscar propiedades por direcci\\xf3n\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                            lineNumber: 546,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 544,\n                                    columnNumber: 15\n                                }, this),\n                                filteredProperties && filteredProperties.length > 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n                                    \"aria-label\": \"Listado de propiedades\",\n                                    className: \"grid xl:grid-cols-4 lg:grid-cols-3 md:grid-cols-2 grid-cols-1 gap-6 mt-6\",\n                                    children: getCurrentProperties().map((property, index)=>{\n                                        // Determinar si es una propiedad de WordPress o de MongoDB\n                                        const isWordPressProperty = property.source === \"woocommerce\";\n                                        const isMongoDBProperty = property.source === \"mongodb\";\n                                        // Extraer los datos según el tipo de propiedad\n                                        const id = isWordPressProperty ? property.id : property._id;\n                                        // Obtener el título de la propiedad (nombre de la calle para propiedades españolas)\n                                        let title = \"\";\n                                        if (isWordPressProperty) {\n                                            title = property.name || \"Propiedad sin t\\xedtulo\";\n                                        } else if (isMongoDBProperty) {\n                                            title = property.title || property.name || \"Propiedad sin t\\xedtulo\";\n                                        }\n                                        // Obtener la descripción\n                                        const description = property.description || \"Sin descripci\\xf3n disponible\";\n                                        // Obtener la ubicación\n                                        const location = property.name || getCorrectLocation(property);\n                                        // Extraer el precio y formatear sin decimales\n                                        let price = \"Consultar\";\n                                        if (isWordPressProperty && property.price) {\n                                            price = new Intl.NumberFormat(\"es-ES\", {\n                                                style: \"currency\",\n                                                currency: \"EUR\",\n                                                minimumFractionDigits: 0,\n                                                maximumFractionDigits: 0\n                                            }).format(parseInt(property.price));\n                                        } else if (isMongoDBProperty && property.price) {\n                                            // Convertir el precio a número si es una cadena\n                                            let numericPrice;\n                                            if (typeof property.price === \"string\") {\n                                                // Eliminar cualquier carácter que no sea número o punto\n                                                const cleanPrice = property.price.replace(/[^\\d.-]/g, \"\");\n                                                numericPrice = parseFloat(cleanPrice);\n                                                // Si el precio parece ser un precio reducido (menos de 10000), multiplicarlo por 1000\n                                                // Esto es para corregir casos donde el precio se guarda como \"350\" en lugar de \"350000\"\n                                                if (!isNaN(numericPrice) && numericPrice < 10000) {\n                                                    numericPrice = numericPrice * 1000;\n                                                }\n                                            } else {\n                                                numericPrice = property.price;\n                                                // Si el precio parece ser un precio reducido (menos de 10000), multiplicarlo por 1000\n                                                if (numericPrice < 10000) {\n                                                    numericPrice = numericPrice * 1000;\n                                                }\n                                            }\n                                            price = new Intl.NumberFormat(\"es-ES\", {\n                                                style: \"currency\",\n                                                currency: \"EUR\",\n                                                minimumFractionDigits: 0,\n                                                maximumFractionDigits: 0\n                                            }).format(numericPrice);\n                                        }\n                                        // Obtener características\n                                        let bedrooms = 0;\n                                        let bathrooms = 0;\n                                        let size = 0;\n                                        if (isWordPressProperty) {\n                                            // Buscar en meta_data para WordPress\n                                            if (property.meta_data) {\n                                                const livingArea = property.meta_data.find((meta)=>meta.key === \"living_area\");\n                                                const bedroomsData = property.meta_data.find((meta)=>meta.key === \"bedrooms\");\n                                                const banosData = property.meta_data.find((meta)=>meta.key === \"ba\\xf1os\");\n                                                size = livingArea ? parseInt(livingArea.value) || 0 : 0;\n                                                bedrooms = bedroomsData ? parseInt(bedroomsData.value) || 0 : 0;\n                                                bathrooms = banosData ? parseInt(banosData.value) || 0 : 0;\n                                                // Si los baños son -1 (valor por defecto), establecer a 0\n                                                if (bathrooms < 0) bathrooms = 0;\n                                            }\n                                        } else if (isMongoDBProperty) {\n                                            bedrooms = property.bedrooms || 0;\n                                            bathrooms = property.bathrooms || 0;\n                                            size = property.size || 0;\n                                        }\n                                        // Obtener la imagen principal\n                                        let mainImage = \"/img/default-property-image.jpg\";\n                                        if (isWordPressProperty && property.images && Array.isArray(property.images) && property.images.length > 0) {\n                                            const firstImage = property.images[0];\n                                            if (typeof firstImage === \"string\") {\n                                                mainImage = firstImage;\n                                            } else if (typeof firstImage === \"object\") {\n                                                mainImage = firstImage.src || firstImage.url || firstImage.source_url || \"/img/default-property-image.jpg\";\n                                            }\n                                        } else if (isMongoDBProperty && property.images && Array.isArray(property.images) && property.images.length > 0) {\n                                            const firstImage = property.images[0];\n                                            if (typeof firstImage === \"string\") {\n                                                mainImage = firstImage;\n                                            } else if (typeof firstImage === \"object\") {\n                                                mainImage = firstImage.src || firstImage.url || firstImage.source_url || \"/img/default-property-image.jpg\";\n                                            }\n                                        }\n                                        // Procesar la URL de la imagen\n                                        const imageUrl = getProxiedImageUrl(mainImage);\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_9__.motion.div, {\n                                            initial: {\n                                                opacity: 0,\n                                                y: 20\n                                            },\n                                            whileInView: {\n                                                opacity: 1,\n                                                y: 0\n                                            },\n                                            transition: {\n                                                delay: Math.min(index * 0.05, 0.3)\n                                            },\n                                            viewport: {\n                                                once: true\n                                            },\n                                            className: \"bg-white/5 backdrop-blur-sm rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 overflow-hidden hover:scale-[1.03]\",\n                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_link__WEBPACK_IMPORTED_MODULE_2___default()), {\n                                                href: \"/property/\".concat(id),\n                                                className: \"group block rounded-xl dark:text-white dark:hover:text-black bg-white dark:bg-slate-900 shadow hover:bg-gold dark:hover:shadow-xl dark:shadow-gray-700 dark:hover:shadow-gray-700 overflow-hidden ease-in-out duration-500\",\n                                                onClick: (e)=>{\n                                                    // Prevenir la navegación por defecto y usar programática\n                                                    e.preventDefault();\n                                                    // Limpiar el ID y asegurarse que es una cadena\n                                                    const cleanId = String(id).trim();\n                                                    // Determinar el origen de la propiedad basado en el ID\n                                                    // Si contiene letras y tiene más de 10 caracteres, es de MongoDB\n                                                    const isMongoProperty = /[a-zA-Z]/.test(cleanId) && cleanId.length > 10;\n                                                    console.log(\"Navegando a propiedad \".concat(isMongoProperty ? \"MongoDB\" : \"WooCommerce\", \":\"), cleanId);\n                                                    // Crear URL con el origen correcto\n                                                    const url = \"/property/\".concat(cleanId, \"?source=\").concat(isMongoProperty ? \"mongodb\" : \"woocommerce\");\n                                                    console.log(\"URL de navegaci\\xf3n:\", url);\n                                                    // Navegar programáticamente\n                                                    window.location.href = url;\n                                                },\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"relative\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"relative w-full aspect-video\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_PropertyImage__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                                                                    src: imageUrl,\n                                                                    alt: title,\n                                                                    className: \"w-full h-full\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                    lineNumber: 705,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                lineNumber: 704,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"absolute top-4 end-4\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                                    onClick: (e)=>{\n                                                                        e.preventDefault();\n                                                                        e.stopPropagation();\n                                                                    // Aquí la lógica para \"like\" si lo deseas\n                                                                    },\n                                                                    className: \"btn btn-icon bg-white dark:bg-slate-900 shadow dark:shadow-gray-700 rounded-full text-slate-100 dark:text-slate-700 focus:text-red-600 dark:focus:text-red-600 hover:text-red-600 dark:hover:text-red-600\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"i\", {\n                                                                        className: \"mdi mdi-heart text-[20px]\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                        lineNumber: 721,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                    lineNumber: 713,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                lineNumber: 712,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                        lineNumber: 703,\n                                                        columnNumber: 27\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"p-6\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"pb-6\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                                        className: \"text-lg hover:text-amarillo font-medium ease-in-out duration-500\",\n                                                                        children: location\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                        lineNumber: 729,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    title !== location && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                        className: \"text-sm text-gray-500 dark:text-gray-400 mt-1\",\n                                                                        children: title\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                        lineNumber: 734,\n                                                                        columnNumber: 33\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                lineNumber: 727,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                className: \"py-6 border-y border-slate-100 dark:border-gray-800 flex flex-wrap items-center list-none\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                        className: \"flex items-center me-4 mb-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaBath_FaBed_FaEuroSign_FaMapMarkerAlt_FaRulerCombined_react_icons_fa__WEBPACK_IMPORTED_MODULE_10__.FaRulerCombined, {\n                                                                                className: \"text-2xl me-2 text-amarillo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                lineNumber: 743,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: \"block text-xs text-gray-500 dark:text-gray-400\",\n                                                                                        children: \"Superficie\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                        lineNumber: 745,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    size,\n                                                                                    \" m\\xb2\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                lineNumber: 744,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                        lineNumber: 742,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                        className: \"flex items-center me-4 mb-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaBath_FaBed_FaEuroSign_FaMapMarkerAlt_FaRulerCombined_react_icons_fa__WEBPACK_IMPORTED_MODULE_10__.FaBed, {\n                                                                                className: \"text-2xl me-2 text-amarillo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                lineNumber: 751,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: \"block text-xs text-gray-500 dark:text-gray-400\",\n                                                                                        children: \"Habitaciones\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                        lineNumber: 753,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    bedrooms\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                lineNumber: 752,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                        lineNumber: 750,\n                                                                        columnNumber: 31\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                        className: \"flex items-center me-4 mb-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaBath_FaBed_FaEuroSign_FaMapMarkerAlt_FaRulerCombined_react_icons_fa__WEBPACK_IMPORTED_MODULE_10__.FaBath, {\n                                                                                className: \"text-2xl me-2 text-amarillo\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                lineNumber: 759,\n                                                                                columnNumber: 33\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                children: [\n                                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                        className: \"block text-xs text-gray-500 dark:text-gray-400\",\n                                                                                        children: \"Ba\\xf1os\"\n                                                                                    }, void 0, false, {\n                                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                        lineNumber: 761,\n                                                                                        columnNumber: 35\n                                                                                    }, this),\n                                                                                    bathrooms\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                lineNumber: 760,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                        lineNumber: 758,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                lineNumber: 740,\n                                                                columnNumber: 29\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"ul\", {\n                                                                className: \"pt-6 flex justify-between items-center list-none\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"li\", {\n                                                                    children: [\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-500 dark:text-gray-400\",\n                                                                            children: \"Precio\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                            lineNumber: 769,\n                                                                            columnNumber: 33\n                                                                        }, this),\n                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                                                            className: \"text-lg font-medium flex items-center\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_FaBath_FaBed_FaEuroSign_FaMapMarkerAlt_FaRulerCombined_react_icons_fa__WEBPACK_IMPORTED_MODULE_10__.FaEuroSign, {\n                                                                                    className: \"text-amarillo mr-1\"\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                                    lineNumber: 771,\n                                                                                    columnNumber: 35\n                                                                                }, this),\n                                                                                price\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                            lineNumber: 770,\n                                                                            columnNumber: 33\n                                                                        }, this)\n                                                                    ]\n                                                                }, void 0, true, {\n                                                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                    lineNumber: 768,\n                                                                    columnNumber: 31\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                                lineNumber: 767,\n                                                                columnNumber: 29\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                        lineNumber: 726,\n                                                        columnNumber: 27\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                                lineNumber: 679,\n                                                columnNumber: 25\n                                            }, this)\n                                        }, id || index, false, {\n                                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                            lineNumber: 671,\n                                            columnNumber: 23\n                                        }, this);\n                                    })\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 559,\n                                    columnNumber: 17\n                                }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"text-center text-gray-500\",\n                                    children: \"No hay propiedades disponibles.\"\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 783,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(Pagination, {\n                                    totalPages: totalPages,\n                                    currentPage: currentPage,\n                                    onPageChange: handlePageChange\n                                }, void 0, false, {\n                                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                                    lineNumber: 789,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                            lineNumber: 536,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                        lineNumber: 535,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                    lineNumber: 534,\n                    columnNumber: 9\n                }, this)\n            }, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/components/propiedades/PropertyPage.jsx\",\n                lineNumber: 533,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_s1(PropertyPage, \"7Y1fLJo2KugOOF/JWHVKp0Y52i4=\", false, function() {\n    return [\n        next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter\n    ];\n});\n_c1 = PropertyPage;\nvar _c, _c1;\n$RefreshReg$(_c, \"Pagination\");\n$RefreshReg$(_c1, \"PropertyPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvY29tcG9uZW50cy9wcm9waWVkYWRlcy9Qcm9wZXJ0eVBhZ2UuanN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUMyRDtBQUM5QjtBQUNFO0FBQ1M7QUFDRDtBQUNxRDtBQUMzQztBQUNFO0FBQ1A7QUFDZjtBQUU3Qiw4Q0FBOEM7QUFDOUMsTUFBTWlCLGtCQUFrQjtJQUFFQyxZQUFZO0FBQWlDO0FBQ3ZFLE1BQU1DLHVCQUF1QjtJQUFFRCxZQUFZO0FBQWlDO0FBRTVFLDJCQUEyQjtBQUMzQixNQUFNRSxhQUFhO1FBQUMsRUFBRUMsVUFBVSxFQUFFQyxXQUFXLEVBQUVDLFlBQVksRUFBRTs7SUFDM0QsTUFBTUMsU0FBU2xCLHNEQUFTQTtJQUV4QixtREFBbUQ7SUFDbkQsTUFBTW1CLGlCQUFpQjtRQUNyQixNQUFNQyxRQUFRLEVBQUU7UUFDaEIsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLEtBQUtOLFlBQVlNLElBQUs7WUFDcENELE1BQU1FLElBQUksQ0FBQ0Q7UUFDYjtRQUNBLE9BQU9EO0lBQ1Q7SUFFQSxNQUFNRyxtQkFBbUIsQ0FBQ0M7UUFDeEIsSUFBSUEsUUFBUSxLQUFLQSxRQUFRVCxjQUFjUyxTQUFTUixhQUFhO1lBQzNELHVDQUF1QztZQUN2Q0MsYUFBYU87WUFFYixrRkFBa0Y7WUFDbEZDLFdBQVc7Z0JBQ1RQLE9BQU9JLElBQUksQ0FBQztvQkFDVkksVUFBVVIsT0FBT1EsUUFBUTtvQkFDekJDLE9BQU87d0JBQUUsR0FBR1QsT0FBT1MsS0FBSzt3QkFBRUg7b0JBQUs7Z0JBQ2pDLEdBQUdJLFdBQVc7b0JBQUVDLFFBQVE7Z0JBQUssSUFBSyxzREFBc0Q7WUFDMUYsR0FBRztRQUNMO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ0M7UUFBSUMsV0FBVTtrQkFDYiw0RUFBQ0Q7WUFBSUMsV0FBVTtzQkFDYiw0RUFBQ0M7Z0JBQUlDLGNBQVc7MEJBQ2QsNEVBQUNDO29CQUFHSCxXQUFVOztzQ0FFWiw4REFBQ0k7c0NBQ0MsNEVBQUNDO2dDQUNDQyxTQUFTLElBQU1kLGlCQUFpQlAsY0FBYztnQ0FDOUNzQixVQUFVdEIsZ0JBQWdCO2dDQUMxQmUsV0FBVyxzRkFHMEUsT0FGakZmLGdCQUFnQixJQUNkLHFDQUNBLGdGQUErRTtnQ0FFckZpQixjQUFXOzBDQUVYLDRFQUFDWjtvQ0FBRVUsV0FBVTtvQ0FBbUNRLGVBQVk7Ozs7Ozs7Ozs7Ozs7Ozs7d0JBSy9EcEIsaUJBQWlCcUIsR0FBRyxDQUFDLENBQUNDLDJCQUNyQiw4REFBQ047MENBQ0MsNEVBQUNDO29DQUNDQyxTQUFTLElBQU1kLGlCQUFpQmtCO29DQUNoQ1YsV0FBVyx1RkFHd0QsT0FGL0RVLGVBQWV6QixjQUNiLHNDQUNBLDhEQUE2RDtvQ0FFbkVpQixjQUFZLHFCQUE2QixPQUFYUTtvQ0FDOUJDLGdCQUFjRCxlQUFlekIsY0FBYyxTQUFTWTs4Q0FFbkRhOzs7Ozs7K0JBWElBOzs7OztzQ0FpQlgsOERBQUNOO3NDQUNDLDRFQUFDQztnQ0FDQ0MsU0FBUyxJQUFNZCxpQkFBaUJQLGNBQWM7Z0NBQzlDc0IsVUFBVXRCLGdCQUFnQkQ7Z0NBQzFCZ0IsV0FBVyxzRkFHMEUsT0FGakZmLGdCQUFnQkQsYUFDZCxxQ0FDQSxnRkFBK0U7Z0NBRXJGa0IsY0FBVzswQ0FFWCw0RUFBQ1o7b0NBQUVVLFdBQVU7b0NBQW9DUSxlQUFZOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBUTdFO0dBdEZNekI7O1FBQ1dkLGtEQUFTQTs7O0tBRHBCYztBQXdGTix3REFBd0Q7QUFDeEQsTUFBTTZCLHFCQUFxQixDQUFDQztJQUMxQixJQUFJLENBQUNBLEtBQUssT0FBTztJQUVqQixnREFBZ0Q7SUFDaEQsSUFBSSxPQUFPQSxRQUFRLFVBQVU7UUFDM0Isb0RBQW9EO1FBQ3BELElBQUlBLE9BQU8sT0FBT0EsUUFBUSxVQUFVO1lBQ2xDLElBQUlBLElBQUlDLEdBQUcsRUFBRSxPQUFPRixtQkFBbUJDLElBQUlDLEdBQUc7WUFDOUMsSUFBSUQsSUFBSUEsR0FBRyxFQUFFLE9BQU9ELG1CQUFtQkMsSUFBSUEsR0FBRztRQUNoRDtRQUNBLCtFQUErRTtRQUMvRSxPQUFPO0lBQ1Q7SUFFQSxpREFBaUQ7SUFDakQsSUFBSUEsSUFBSUUsVUFBVSxDQUFDLFNBQVM7UUFDMUIsT0FBT0Y7SUFDVDtJQUVBLHFEQUFxRDtJQUNyRCxNQUFNRyxVQUFVQyxPQUFPQSxDQUFDQyxHQUFHLENBQUNDLG1CQUFtQixJQUFJO0lBQ25ELE9BQU8sR0FBYU4sT0FBVkcsU0FBMkNILE9BQWpDQSxJQUFJRSxVQUFVLENBQUMsT0FBTyxLQUFLLEtBQVUsT0FBSkY7QUFDdkQ7QUFFQSwwREFBMEQ7QUFDMUQsTUFBTU8scUJBQXFCLENBQUNDO0lBQzFCLGlDQUFpQztJQUNqQyxJQUFJQSxTQUFTQyxHQUFHLEVBQUU7UUFDaEIsT0FBT0QsU0FBU0UsUUFBUSxJQUFJRixTQUFTRyxPQUFPLElBQUk7SUFDbEQ7SUFFQSxtQ0FBbUM7SUFDbkMsSUFBSUgsU0FBU0ksU0FBUyxFQUFFO1FBQ3RCLDhCQUE4QjtRQUM5QixNQUFNQyxjQUFjTCxTQUFTSSxTQUFTLENBQUNFLElBQUksQ0FBQ0MsQ0FBQUEsT0FDMUNBLEtBQUtDLEdBQUcsS0FBSyxhQUFhRCxLQUFLQyxHQUFHLEtBQUssa0JBQWVELEtBQUtDLEdBQUcsS0FBSztRQUVyRSxJQUFJSCxlQUFlQSxZQUFZSSxLQUFLLEVBQUU7WUFDcEMsT0FBTyxPQUFPSixZQUFZSSxLQUFLLEtBQUssV0FDaENKLFlBQVlJLEtBQUssQ0FBQ04sT0FBTyxJQUFJRSxZQUFZSSxLQUFLLENBQUNDLElBQUksSUFBSSwrQkFDdkRMLFlBQVlJLEtBQUs7UUFDdkI7SUFDRjtJQUVBLHlEQUF5RDtJQUN6RCxJQUFJVCxTQUFTVyxpQkFBaUIsRUFBRTtRQUM5QixPQUFPWCxTQUFTVyxpQkFBaUI7SUFDbkM7SUFFQSwrQ0FBK0M7SUFDL0MsSUFBSVgsU0FBU1UsSUFBSSxJQUNaVixDQUFBQSxTQUFTVSxJQUFJLENBQUNFLFFBQVEsQ0FBQyxZQUFZWixTQUFTVSxJQUFJLENBQUNFLFFBQVEsQ0FBQyxjQUMxRFosU0FBU1UsSUFBSSxDQUFDRSxRQUFRLENBQUMsUUFBTyxHQUFJO1FBQ3JDLE9BQU9aLFNBQVNVLElBQUk7SUFDdEI7SUFFQSxPQUFPO0FBQ1Q7QUFFQSw4REFBOEQ7QUFDOUQsTUFBTUcsdUJBQXVCLENBQUNDO0lBQzVCLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixlQUFlQSxXQUFXRyxNQUFNLEtBQUssR0FBRztRQUN6RCxPQUFPO1lBQUM7WUFBYTtZQUFnQjtTQUFjO0lBQ3JEO0lBRUEsTUFBTUMsUUFBUUosV0FDWDFCLEdBQUcsQ0FBQytCLENBQUFBO1FBQ0gsSUFBSUEsRUFBRUMsWUFBWSxFQUFFLE9BQU9ELEVBQUVDLFlBQVk7UUFDekMsSUFBSUQsRUFBRWYsU0FBUyxFQUFFO1lBQ2YsTUFBTWlCLFdBQVdGLEVBQUVmLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDQyxDQUFBQSxPQUNoQ0EsS0FBS0MsR0FBRyxLQUFLLG1CQUFtQkQsS0FBS0MsR0FBRyxLQUFLLFVBQVVELEtBQUtDLEdBQUcsS0FBSztZQUV0RSxPQUFPYSxDQUFBQSxxQkFBQUEsK0JBQUFBLFNBQVVaLEtBQUssS0FBSTtRQUM1QjtRQUNBLE9BQU87SUFDVCxHQUNDYSxNQUFNLENBQUNDO0lBRVYsd0VBQXdFO0lBQ3hFLE9BQU87V0FBSSxJQUFJQyxJQUFJTjtLQUFPLENBQUNELE1BQU0sR0FBRyxJQUNoQztXQUFJLElBQUlPLElBQUlOO0tBQU8sR0FDbkI7UUFBQztRQUFhO1FBQWdCO0tBQWM7QUFDbEQ7QUFFQSxpRUFBaUU7QUFDakUsTUFBTU8sbUJBQW1CLENBQUNYO0lBQ3hCLElBQUksQ0FBQ0MsTUFBTUMsT0FBTyxDQUFDRixlQUFlQSxXQUFXRyxNQUFNLEtBQUssR0FBRztRQUN6RCxPQUFPO1lBQUM7WUFBVTtTQUFTO0lBQzdCO0lBRUEsK0NBQStDO0lBQy9DLE1BQU1TLFlBQVlaLFdBQ2YxQixHQUFHLENBQUMrQixDQUFBQSxJQUFLcEIsbUJBQW1Cb0IsSUFDNUJHLE1BQU0sQ0FBQ0MsU0FDUG5DLEdBQUcsQ0FBQ3VDLENBQUFBO1FBQ0gsOEJBQThCO1FBQzlCLE1BQU1DLFFBQVFELElBQUlFLEtBQUssQ0FBQztRQUN4QixPQUFPRCxLQUFLLENBQUMsRUFBRSxDQUFDRSxJQUFJO0lBQ3RCO0lBRUYsd0RBQXdEO0lBQ3hELE9BQU87V0FBSSxJQUFJTixJQUFJRTtLQUFXLENBQUNULE1BQU0sR0FBRyxJQUNwQztXQUFJLElBQUlPLElBQUlFO0tBQVcsR0FDdkI7UUFBQztRQUFVO0tBQVM7QUFDMUI7QUFFZSxTQUFTSzs7SUFDdEIsTUFBTSxDQUFDakIsWUFBWWtCLGNBQWMsR0FBR3hGLCtDQUFRQSxDQUFDLEVBQUU7SUFDL0MsTUFBTSxDQUFDeUYsU0FBU0MsV0FBVyxHQUFHMUYsK0NBQVFBLENBQUM7SUFDdkMsTUFBTSxDQUFDMkYsT0FBT0MsU0FBUyxHQUFHNUYsK0NBQVFBLENBQUM7SUFDbkMsTUFBTSxDQUFDNkYsWUFBWUMsY0FBYyxHQUFHOUYsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDb0IsYUFBYTJFLGVBQWUsR0FBRy9GLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ21CLFlBQVk2RSxjQUFjLEdBQUdoRywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNc0IsU0FBU2xCLHNEQUFTQTtJQUN4QixNQUFNLENBQUM2RixZQUFZQyxjQUFjLEdBQUdsRywrQ0FBUUEsQ0FBQztJQUM3QyxNQUFNLENBQUNtRyxhQUFhQyxlQUFlLEdBQUdwRywrQ0FBUUEsQ0FBQztJQUUvQyxpQ0FBaUM7SUFDakMsTUFBTSxDQUFDcUcsV0FBV0MsYUFBYSxHQUFHdEcsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDdUcsaUJBQWlCQyxtQkFBbUIsR0FBR3hHLCtDQUFRQSxDQUFDO0lBRXZELGdEQUFnRDtJQUNoRCxNQUFNeUcsb0JBQW9CO0lBRTFCLCtEQUErRDtJQUMvRDFHLGdEQUFTQSxDQUFDO1FBQ1IsSUFBSSxJQUFrQixFQUFhO1lBQ2pDbUcsY0FBY1EsT0FBT2hELFFBQVEsQ0FBQ2lELElBQUk7UUFDcEM7SUFDRixHQUFHLEVBQUU7SUFFTCxzREFBc0Q7SUFDdEQsTUFBTUMsNkJBQTZCO1FBQ2pDLHNDQUFzQztRQUN0QyxJQUFJLENBQUNyQyxNQUFNQyxPQUFPLENBQUNGLGVBQWVBLFdBQVdHLE1BQU0sS0FBSyxHQUFHO1lBQ3pELE9BQU87UUFDVDtRQUVBLGlFQUFpRTtRQUNqRSxNQUFNb0MsZ0JBQWdCeEMscUJBQXFCQztRQUMzQyxNQUFNWSxZQUFZRCxpQkFBaUJYO1FBRW5DLGtEQUFrRDtRQUNsRCxPQUFPO1lBQ0wsWUFBWTtZQUNaLFNBQVM7WUFDVCxtQkFBbUJBLFdBQVcxQixHQUFHLENBQUMsQ0FBQ1ksVUFBVXNEO2dCQUMzQywyREFBMkQ7Z0JBQzNELE1BQU1DLHNCQUFzQnZELFNBQVN3RCxNQUFNLEtBQUs7Z0JBQ2hELE1BQU1DLG9CQUFvQnpELFNBQVN3RCxNQUFNLEtBQUs7Z0JBRTlDLCtDQUErQztnQkFDL0MsTUFBTUUsS0FBS0gsc0JBQXNCdkQsU0FBUzBELEVBQUUsR0FBRzFELFNBQVNDLEdBQUc7Z0JBQzNELElBQUkwRCxRQUFRO2dCQUVaLElBQUlKLHFCQUFxQjtvQkFDdkJJLFFBQVEzRCxTQUFTVSxJQUFJLElBQUk7Z0JBQzNCLE9BQU8sSUFBSStDLG1CQUFtQjtvQkFDNUJFLFFBQVEzRCxTQUFTMkQsS0FBSyxJQUFJM0QsU0FBU1UsSUFBSSxJQUFJO2dCQUM3QztnQkFFQSx1QkFBdUI7Z0JBQ3ZCLE1BQU1SLFdBQVdILG1CQUFtQkM7Z0JBRXBDLGlCQUFpQjtnQkFDakIsSUFBSTRELFFBQVE7Z0JBQ1osSUFBSUwsdUJBQXVCdkQsU0FBUzRELEtBQUssRUFBRTtvQkFDekNBLFFBQVEsSUFBSUMsS0FBS0MsWUFBWSxDQUFDLFNBQVM7d0JBQ3JDQyxPQUFPO3dCQUNQQyxVQUFVO3dCQUNWQyx1QkFBdUI7d0JBQ3ZCQyx1QkFBdUI7b0JBQ3pCLEdBQUdDLE1BQU0sQ0FBQ0MsU0FBU3BFLFNBQVM0RCxLQUFLO2dCQUNuQyxPQUFPLElBQUlILHFCQUFxQnpELFNBQVM0RCxLQUFLLEVBQUU7b0JBQzlDLGdEQUFnRDtvQkFDaEQsSUFBSVM7b0JBQ0osSUFBSSxPQUFPckUsU0FBUzRELEtBQUssS0FBSyxVQUFVO3dCQUN0Qyx3REFBd0Q7d0JBQ3hELE1BQU1VLGFBQWF0RSxTQUFTNEQsS0FBSyxDQUFDVyxPQUFPLENBQUMsWUFBWTt3QkFDdERGLGVBQWVHLFdBQVdGO3dCQUUxQixzRkFBc0Y7d0JBQ3RGLHdGQUF3Rjt3QkFDeEYsSUFBSSxDQUFDRyxNQUFNSixpQkFBaUJBLGVBQWUsT0FBTzs0QkFDaERBLGVBQWVBLGVBQWU7d0JBQ2hDO29CQUNGLE9BQU87d0JBQ0xBLGVBQWVyRSxTQUFTNEQsS0FBSzt3QkFDN0Isc0ZBQXNGO3dCQUN0RixJQUFJUyxlQUFlLE9BQU87NEJBQ3hCQSxlQUFlQSxlQUFlO3dCQUNoQztvQkFDRjtvQkFFQVQsUUFBUSxJQUFJQyxLQUFLQyxZQUFZLENBQUMsU0FBUzt3QkFDckNDLE9BQU87d0JBQ1BDLFVBQVU7d0JBQ1ZDLHVCQUF1Qjt3QkFDdkJDLHVCQUF1QjtvQkFDekIsR0FBR0MsTUFBTSxDQUFDRTtnQkFDWjtnQkFFQSw4QkFBOEI7Z0JBQzlCLElBQUlLLFlBQVk7Z0JBRWhCLElBQUluQix1QkFBdUJ2RCxTQUFTMkUsTUFBTSxJQUFJNUQsTUFBTUMsT0FBTyxDQUFDaEIsU0FBUzJFLE1BQU0sS0FBSzNFLFNBQVMyRSxNQUFNLENBQUMxRCxNQUFNLEdBQUcsR0FBRztvQkFDMUcsTUFBTTJELGFBQWE1RSxTQUFTMkUsTUFBTSxDQUFDLEVBQUU7b0JBQ3JDLElBQUksT0FBT0MsZUFBZSxVQUFVO3dCQUNsQ0YsWUFBWUU7b0JBQ2QsT0FBTyxJQUFJLE9BQU9BLGVBQWUsVUFBVTt3QkFDekNGLFlBQVlFLFdBQVduRixHQUFHLElBQUltRixXQUFXcEYsR0FBRyxJQUFJb0YsV0FBV0MsVUFBVSxJQUFJO29CQUMzRTtnQkFDRixPQUFPLElBQUlwQixxQkFBcUJ6RCxTQUFTMkUsTUFBTSxJQUFJNUQsTUFBTUMsT0FBTyxDQUFDaEIsU0FBUzJFLE1BQU0sS0FBSzNFLFNBQVMyRSxNQUFNLENBQUMxRCxNQUFNLEdBQUcsR0FBRztvQkFDL0csTUFBTTJELGFBQWE1RSxTQUFTMkUsTUFBTSxDQUFDLEVBQUU7b0JBQ3JDLElBQUksT0FBT0MsZUFBZSxVQUFVO3dCQUNsQ0YsWUFBWUU7b0JBQ2QsT0FBTyxJQUFJLE9BQU9BLGVBQWUsVUFBVTt3QkFDekNGLFlBQVlFLFdBQVduRixHQUFHLElBQUltRixXQUFXcEYsR0FBRyxJQUFJb0YsV0FBV0MsVUFBVSxJQUFJO29CQUMzRTtnQkFDRjtnQkFFQSwrQkFBK0I7Z0JBQy9CLE1BQU1DLFdBQVd2RixtQkFBbUJtRjtnQkFFcEMsbUNBQW1DO2dCQUNuQyxJQUFJSyxhQUFhO2dCQUNqQixJQUFJLE9BQU9uQixVQUFVLFVBQVU7b0JBQzdCbUIsYUFBYW5CO2dCQUNmLE9BQU8sSUFBSSxPQUFPQSxVQUFVLFlBQVksQ0FBQ2EsTUFBTUQsV0FBV1osTUFBTVcsT0FBTyxDQUFDLFlBQVksSUFBSUEsT0FBTyxDQUFDLEtBQUssUUFBUTtvQkFDM0dRLGFBQWFQLFdBQVdaLE1BQU1XLE9BQU8sQ0FBQyxZQUFZLElBQUlBLE9BQU8sQ0FBQyxLQUFLO2dCQUNyRTtnQkFFQSxPQUFPO29CQUNMLFNBQVM7b0JBQ1QsWUFBWWpCLFFBQVE7b0JBQ3BCLFFBQVE7d0JBQ04sU0FBUzt3QkFDVCxRQUFRSzt3QkFDUixlQUFlLEdBQXVCekQsT0FBcEJ5RCxPQUFNLGdCQUF1QixPQUFUekQ7d0JBQ3RDLFNBQVM0RTt3QkFDVCxPQUFPLHVDQUEwQyxPQUFIcEI7d0JBQzlDLFlBQVkxRCxTQUFTb0IsWUFBWSxJQUFJO3dCQUNyQyxVQUFVMkQsYUFBYTs0QkFDckIsU0FBUzs0QkFDVCxpQkFBaUI7NEJBQ2pCLFNBQVNBOzRCQUNULGdCQUFnQjt3QkFDbEIsSUFBSXZHO29CQUNOO2dCQUNGO1lBQ0Y7UUFDRjtJQUNGO0lBRUFqQyxnREFBU0EsQ0FBQztRQUNSLE1BQU15SSxrQkFBa0I7WUFDdEIsSUFBSSxDQUFDbEgsT0FBT21ILE9BQU8sSUFBSXRDLGFBQWE7WUFFcEMsSUFBSTtnQkFDRlQsV0FBVztnQkFDWEUsU0FBUztnQkFFVCxNQUFNOEMsT0FBTyxNQUFNOUgsNERBQWdCQTtnQkFFbkMsSUFBSSxDQUFDOEgsUUFBUSxDQUFDbkUsTUFBTUMsT0FBTyxDQUFDa0UsT0FBTztvQkFDakMsTUFBTSxJQUFJQyxNQUFNO2dCQUNsQjtnQkFFQSxNQUFNQyxvQkFBb0JGLEtBQUs1RCxNQUFNLENBQUNILENBQUFBLElBQUtBLEVBQUVxQyxNQUFNLEtBQUs7Z0JBQ3hELE1BQU02QixzQkFBc0JILEtBQUs1RCxNQUFNLENBQUNILENBQUFBLElBQUtBLEVBQUVxQyxNQUFNLEtBQUs7Z0JBQzFELE1BQU04QixnQkFBZ0I7dUJBQUlGO3VCQUFzQkM7aUJBQW9CO2dCQUVwRXJELGNBQWNzRDtnQkFDZDlDLGNBQWMrQyxLQUFLQyxJQUFJLENBQUNGLGNBQWNyRSxNQUFNLEdBQUdnQztnQkFDL0NMLGVBQWU7Z0JBRWYsSUFBSTBDLGNBQWNyRSxNQUFNLEdBQUcsR0FBRztvQkFDNUIsTUFBTW9DLGdCQUFnQnhDLHFCQUFxQnlFO29CQUMzQyxNQUFNNUQsWUFBWUQsaUJBQWlCNkQ7b0JBRW5DeEMsYUFBYSxHQUE4Q3BCLE9BQTNDMkIsY0FBY29DLEtBQUssQ0FBQyxHQUFHLEdBQUdDLElBQUksQ0FBQyxPQUFNLFFBQXVDLE9BQWpDaEUsVUFBVStELEtBQUssQ0FBQyxHQUFHLEdBQUdDLElBQUksQ0FBQyxPQUFNO29CQUM1RjFDLG1CQUFtQixtQ0FBdUZ0QixPQUF2RDJCLGNBQWNvQyxLQUFLLENBQUMsR0FBRyxHQUFHQyxJQUFJLENBQUMsT0FBTSxvQkFBbUQsT0FBakNoRSxVQUFVK0QsS0FBSyxDQUFDLEdBQUcsR0FBR0MsSUFBSSxDQUFDLE9BQU07Z0JBQzdJO1lBQ0YsRUFBRSxPQUFPQyxLQUFLO2dCQUNaQyxRQUFRekQsS0FBSyxDQUFDLGdDQUFnQ3dEO2dCQUM5Q3ZELFNBQVN1RCxJQUFJRSxPQUFPLElBQUk7Z0JBQ3hCN0QsY0FBYyxFQUFFO1lBQ2xCLFNBQVU7Z0JBQ1JFLFdBQVc7WUFDYjtRQUNGO1FBRUE4QztJQUNGLEdBQUc7UUFBQ2xILE9BQU9tSCxPQUFPO1FBQUVoQztRQUFtQk47S0FBWTtJQUVuRCw0REFBNEQ7SUFDNUQsTUFBTW1ELHFCQUFxQi9FLE1BQU1DLE9BQU8sQ0FBQ0YsY0FDckNBLFdBQVdRLE1BQU0sQ0FBQyxDQUFDdEI7UUFDakIsTUFBTStGLGNBQWMvRixTQUFTVSxJQUFJLElBQUlWLFNBQVMyRCxLQUFLLElBQUk7UUFDdkQsT0FBT29DLFlBQVlDLFdBQVcsR0FBR3BGLFFBQVEsQ0FBQ3lCLFdBQVcyRCxXQUFXO0lBQ2xFLEtBQ0EsRUFBRTtJQUVOLDJEQUEyRDtJQUMzRCxNQUFNN0gsbUJBQW1CLENBQUNrQjtRQUN4QixJQUFJQSxlQUFlekIsYUFBYTtRQUVoQzJFLGVBQWVsRCxhQUFhLDJDQUEyQztJQUN2RSw0RUFBNEU7SUFDOUU7SUFFQSxpREFBaUQ7SUFDakQsTUFBTTRHLHVCQUF1QjtRQUMzQixPQUFPSDtJQUNUO0lBRUEsNkJBQTZCO0lBQzdCLElBQUk3RCxTQUFTO1FBQ1gscUJBQ0UsOERBQUN2RDtZQUFJQyxXQUFVO3NCQUNiLDRFQUFDRDtnQkFBSUMsV0FBVTswQkFDYiw0RUFBQ0Q7b0JBQUlDLFdBQVU7O3NDQUNiLDhEQUFDRDs0QkFBSUMsV0FBVTs7Ozs7O3NDQUNmLDhEQUFDd0M7NEJBQUV4QyxXQUFVO3NDQUEwQjs7Ozs7O3NDQUN2Qyw4REFBQ3dDOzRCQUFFeEMsV0FBVTtzQ0FBd0I7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFLL0M7SUFFQSw2QkFBNkI7SUFDN0IsSUFBSXdELE9BQU87UUFDVCxxQkFDRSw4REFBQ3pEO1lBQUlDLFdBQVU7c0JBQ2IsNEVBQUNEO2dCQUFJQyxXQUFVOzBCQUNiLDRFQUFDRDtvQkFBSUMsV0FBVTs7c0NBQ2IsOERBQUNEOzRCQUFJQyxXQUFVO3NDQUNiLDRFQUFDVjtnQ0FBRVUsV0FBVTs7Ozs7Ozs7Ozs7c0NBRWYsOERBQUN1SDs0QkFBR3ZILFdBQVU7c0NBQXdDOzs7Ozs7c0NBQ3RELDhEQUFDd0M7NEJBQUV4QyxXQUFVO3NDQUFzQndEOzs7Ozs7c0NBQ25DLDhEQUFDbkQ7NEJBQ0NDLFNBQVM7Z0NBQ1BpRCxXQUFXO2dDQUNYRSxTQUFTO2dDQUNUUSxlQUFlOzRCQUNqQjs0QkFDQWpFLFdBQVU7c0NBQ1g7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7SUFPWDtJQUVBLHFDQUFxQztJQUNyQyxJQUFJLENBQUNvQyxNQUFNQyxPQUFPLENBQUNGLGVBQWVBLFdBQVdHLE1BQU0sS0FBSyxHQUFHO1FBQ3pELHFCQUNFOzs4QkFDRSw4REFBQzNELGtEQUFJQTs7c0NBQ0gsOERBQUNxRztzQ0FBTTs7Ozs7O3NDQUNQLDhEQUFDcEQ7NEJBQUtHLE1BQUs7NEJBQWN5RixTQUFROzs7Ozs7c0NBQ2pDLDhEQUFDNUY7NEJBQUtHLE1BQUs7NEJBQVN5RixTQUFROzs7Ozs7Ozs7Ozs7OEJBRTlCLDhEQUFDekg7b0JBQUlDLFdBQVU7OEJBQ2IsNEVBQUNEO3dCQUFJQyxXQUFVOzswQ0FDYiw4REFBQ3lIO2dDQUFHekgsV0FBVTswQ0FBMEI7Ozs7OzswQ0FDeEMsOERBQUN3QztnQ0FBRXhDLFdBQVU7MENBQXFCOzs7Ozs7MENBQ2xDLDhEQUFDSztnQ0FDQ0MsU0FBUyxJQUFNaUUsT0FBT2hELFFBQVEsQ0FBQ21HLE1BQU07Z0NBQ3JDMUgsV0FBVTswQ0FDWDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztJQU9YO0lBRUEsNkJBQTZCO0lBQzdCLE1BQU0ySCxxQkFBcUJsRDtJQUUzQixxQkFDRTs7MEJBQ0UsOERBQUM5RixrREFBSUE7O2tDQUNILDhEQUFDcUc7a0NBQU9kOzs7Ozs7a0NBQ1IsOERBQUN0Qzt3QkFBS0csTUFBSzt3QkFBY3lGLFNBQVNwRDs7Ozs7O2tDQUNsQyw4REFBQ3dEO3dCQUFLQyxLQUFJO3dCQUFZckQsTUFBTVY7Ozs7OztrQ0FHNUIsOERBQUNsQzt3QkFBS1AsVUFBUzt3QkFBVW1HLFNBQVE7Ozs7OztrQ0FDakMsOERBQUM1Rjt3QkFBS1AsVUFBUzt3QkFBV21HLFNBQVN0RDs7Ozs7O2tDQUNuQyw4REFBQ3RDO3dCQUFLUCxVQUFTO3dCQUFpQm1HLFNBQVNwRDs7Ozs7O2tDQUN6Qyw4REFBQ3hDO3dCQUFLUCxVQUFTO3dCQUFTbUcsU0FBUzFEOzs7Ozs7a0NBQ2pDLDhEQUFDbEM7d0JBQUtQLFVBQVM7d0JBQVdtRyxTQUFROzs7Ozs7a0NBQ2xDLDhEQUFDNUY7d0JBQUtQLFVBQVM7d0JBQWVtRyxTQUFROzs7Ozs7a0NBR3RDLDhEQUFDNUY7d0JBQUtHLE1BQUs7d0JBQWV5RixTQUFROzs7Ozs7a0NBQ2xDLDhEQUFDNUY7d0JBQUtHLE1BQUs7d0JBQWdCeUYsU0FBU3REOzs7Ozs7a0NBQ3BDLDhEQUFDdEM7d0JBQUtHLE1BQUs7d0JBQXNCeUYsU0FBU3BEOzs7Ozs7a0NBQzFDLDhEQUFDeEM7d0JBQUtHLE1BQUs7d0JBQWdCeUYsU0FBUTs7Ozs7O29CQUdsQ0csb0NBQ0MsOERBQUNHO3dCQUNDQyxNQUFLO3dCQUNMQyx5QkFBeUI7NEJBQUVDLFFBQVFDLEtBQUtDLFNBQVMsQ0FBQ1I7d0JBQW9COzs7Ozs7Ozs7Ozs7MEJBTTVFLDhEQUFDNUg7Z0JBQ0NDLFdBQVU7Z0JBQ1ZvRixPQUFPO29CQUNMZ0QsaUJBQWlCO29CQUNqQkMsc0JBQXNCO2dCQUN4QjtnQkFDQTdILGVBQVk7Ozs7OzswQkFHZCw4REFBQ1Q7Z0JBQUlDLFdBQVU7MEJBQ2IsNEVBQUN4Qix1REFBZ0JBOzhCQUNmLDRFQUFDOEo7d0JBQUt0SSxXQUFVO2tDQUNkLDRFQUFDRDs0QkFBSUMsV0FBVTs7OENBQ2IsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDeUg7d0NBQUd6SCxXQUFVO2tEQUFxQzs7Ozs7Ozs7Ozs7OENBTXJELDhEQUFDRDtvQ0FBSUMsV0FBVTs7c0RBQ2IsOERBQUN1STs0Q0FBTXZJLFdBQVU7NENBQVV3SSxTQUFRO3NEQUFrQjs7Ozs7O3NEQUNyRCw4REFBQ0M7NENBQ0MxRCxJQUFHOzRDQUNIZ0QsTUFBSzs0Q0FDTFcsYUFBWTs0Q0FDWjVHLE9BQU80Qjs0Q0FDUGlGLFVBQVUsQ0FBQ0MsSUFBTWpGLGNBQWNpRixFQUFFQyxNQUFNLENBQUMvRyxLQUFLOzRDQUM3QzlCLFdBQVU7NENBQ1ZFLGNBQVc7Ozs7Ozs7Ozs7OztnQ0FLZGlILHNCQUFzQkEsbUJBQW1CN0UsTUFBTSxHQUFHLGtCQUNqRCw4REFBQ3dHO29DQUNDNUksY0FBVztvQ0FDWEYsV0FBVTs4Q0FFVHNILHVCQUF1QjdHLEdBQUcsQ0FBQyxDQUFDWSxVQUFVc0Q7d0NBQ3JDLDJEQUEyRDt3Q0FDM0QsTUFBTUMsc0JBQXNCdkQsU0FBU3dELE1BQU0sS0FBSzt3Q0FDaEQsTUFBTUMsb0JBQW9CekQsU0FBU3dELE1BQU0sS0FBSzt3Q0FFOUMsK0NBQStDO3dDQUMvQyxNQUFNRSxLQUFLSCxzQkFBc0J2RCxTQUFTMEQsRUFBRSxHQUFHMUQsU0FBU0MsR0FBRzt3Q0FFM0Qsb0ZBQW9GO3dDQUNwRixJQUFJMEQsUUFBUTt3Q0FDWixJQUFJSixxQkFBcUI7NENBQ3ZCSSxRQUFRM0QsU0FBU1UsSUFBSSxJQUFJO3dDQUMzQixPQUFPLElBQUkrQyxtQkFBbUI7NENBQzVCRSxRQUFRM0QsU0FBUzJELEtBQUssSUFBSTNELFNBQVNVLElBQUksSUFBSTt3Q0FDN0M7d0NBRUEseUJBQXlCO3dDQUN6QixNQUFNZ0gsY0FBYzFILFNBQVMwSCxXQUFXLElBQUk7d0NBRTVDLHVCQUF1Qjt3Q0FDdkIsTUFBTXhILFdBQVdGLFNBQVNVLElBQUksSUFBSVgsbUJBQW1CQzt3Q0FFckQsOENBQThDO3dDQUM5QyxJQUFJNEQsUUFBUTt3Q0FDWixJQUFJTCx1QkFBdUJ2RCxTQUFTNEQsS0FBSyxFQUFFOzRDQUN6Q0EsUUFBUSxJQUFJQyxLQUFLQyxZQUFZLENBQUMsU0FBUztnREFDckNDLE9BQU87Z0RBQ1BDLFVBQVU7Z0RBQ1ZDLHVCQUF1QjtnREFDdkJDLHVCQUF1Qjs0Q0FDekIsR0FBR0MsTUFBTSxDQUFDQyxTQUFTcEUsU0FBUzRELEtBQUs7d0NBQ25DLE9BQU8sSUFBSUgscUJBQXFCekQsU0FBUzRELEtBQUssRUFBRTs0Q0FDOUMsZ0RBQWdEOzRDQUNoRCxJQUFJUzs0Q0FDSixJQUFJLE9BQU9yRSxTQUFTNEQsS0FBSyxLQUFLLFVBQVU7Z0RBQ3RDLHdEQUF3RDtnREFDeEQsTUFBTVUsYUFBYXRFLFNBQVM0RCxLQUFLLENBQUNXLE9BQU8sQ0FBQyxZQUFZO2dEQUN0REYsZUFBZUcsV0FBV0Y7Z0RBRTFCLHNGQUFzRjtnREFDdEYsd0ZBQXdGO2dEQUN4RixJQUFJLENBQUNHLE1BQU1KLGlCQUFpQkEsZUFBZSxPQUFPO29EQUNoREEsZUFBZUEsZUFBZTtnREFDaEM7NENBQ0YsT0FBTztnREFDTEEsZUFBZXJFLFNBQVM0RCxLQUFLO2dEQUM3QixzRkFBc0Y7Z0RBQ3RGLElBQUlTLGVBQWUsT0FBTztvREFDeEJBLGVBQWVBLGVBQWU7Z0RBQ2hDOzRDQUNGOzRDQUVBVCxRQUFRLElBQUlDLEtBQUtDLFlBQVksQ0FBQyxTQUFTO2dEQUNyQ0MsT0FBTztnREFDUEMsVUFBVTtnREFDVkMsdUJBQXVCO2dEQUN2QkMsdUJBQXVCOzRDQUN6QixHQUFHQyxNQUFNLENBQUNFO3dDQUNaO3dDQUVBLDBCQUEwQjt3Q0FDMUIsSUFBSXNELFdBQVc7d0NBQ2YsSUFBSUMsWUFBWTt3Q0FDaEIsSUFBSUMsT0FBTzt3Q0FFWCxJQUFJdEUscUJBQXFCOzRDQUN2QixxQ0FBcUM7NENBQ3JDLElBQUl2RCxTQUFTSSxTQUFTLEVBQUU7Z0RBQ3RCLE1BQU0wSCxhQUFhOUgsU0FBU0ksU0FBUyxDQUFDRSxJQUFJLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLEdBQUcsS0FBSztnREFDaEUsTUFBTXVILGVBQWUvSCxTQUFTSSxTQUFTLENBQUNFLElBQUksQ0FBQ0MsQ0FBQUEsT0FBUUEsS0FBS0MsR0FBRyxLQUFLO2dEQUNsRSxNQUFNd0gsWUFBWWhJLFNBQVNJLFNBQVMsQ0FBQ0UsSUFBSSxDQUFDQyxDQUFBQSxPQUFRQSxLQUFLQyxHQUFHLEtBQUs7Z0RBRS9EcUgsT0FBT0MsYUFBYTFELFNBQVMwRCxXQUFXckgsS0FBSyxLQUFLLElBQUk7Z0RBQ3REa0gsV0FBV0ksZUFBZTNELFNBQVMyRCxhQUFhdEgsS0FBSyxLQUFLLElBQUk7Z0RBQzlEbUgsWUFBWUksWUFBWTVELFNBQVM0RCxVQUFVdkgsS0FBSyxLQUFLLElBQUk7Z0RBRXpELDBEQUEwRDtnREFDMUQsSUFBSW1ILFlBQVksR0FBR0EsWUFBWTs0Q0FDakM7d0NBQ0YsT0FBTyxJQUFJbkUsbUJBQW1COzRDQUM1QmtFLFdBQVczSCxTQUFTMkgsUUFBUSxJQUFJOzRDQUNoQ0MsWUFBWTVILFNBQVM0SCxTQUFTLElBQUk7NENBQ2xDQyxPQUFPN0gsU0FBUzZILElBQUksSUFBSTt3Q0FDMUI7d0NBRUEsOEJBQThCO3dDQUM5QixJQUFJbkQsWUFBWTt3Q0FFaEIsSUFBSW5CLHVCQUF1QnZELFNBQVMyRSxNQUFNLElBQUk1RCxNQUFNQyxPQUFPLENBQUNoQixTQUFTMkUsTUFBTSxLQUFLM0UsU0FBUzJFLE1BQU0sQ0FBQzFELE1BQU0sR0FBRyxHQUFHOzRDQUMxRyxNQUFNMkQsYUFBYTVFLFNBQVMyRSxNQUFNLENBQUMsRUFBRTs0Q0FDckMsSUFBSSxPQUFPQyxlQUFlLFVBQVU7Z0RBQ2xDRixZQUFZRTs0Q0FDZCxPQUFPLElBQUksT0FBT0EsZUFBZSxVQUFVO2dEQUN6Q0YsWUFBWUUsV0FBV25GLEdBQUcsSUFBSW1GLFdBQVdwRixHQUFHLElBQUlvRixXQUFXQyxVQUFVLElBQUk7NENBQzNFO3dDQUNGLE9BQU8sSUFBSXBCLHFCQUFxQnpELFNBQVMyRSxNQUFNLElBQUk1RCxNQUFNQyxPQUFPLENBQUNoQixTQUFTMkUsTUFBTSxLQUFLM0UsU0FBUzJFLE1BQU0sQ0FBQzFELE1BQU0sR0FBRyxHQUFHOzRDQUMvRyxNQUFNMkQsYUFBYTVFLFNBQVMyRSxNQUFNLENBQUMsRUFBRTs0Q0FDckMsSUFBSSxPQUFPQyxlQUFlLFVBQVU7Z0RBQ2xDRixZQUFZRTs0Q0FDZCxPQUFPLElBQUksT0FBT0EsZUFBZSxVQUFVO2dEQUN6Q0YsWUFBWUUsV0FBV25GLEdBQUcsSUFBSW1GLFdBQVdwRixHQUFHLElBQUlvRixXQUFXQyxVQUFVLElBQUk7NENBQzNFO3dDQUNGO3dDQUVBLCtCQUErQjt3Q0FDL0IsTUFBTUMsV0FBV3ZGLG1CQUFtQm1GO3dDQUVwQyxxQkFDRSw4REFBQzdILGlEQUFNQSxDQUFDNkIsR0FBRzs0Q0FFVHVKLFNBQVM7Z0RBQUVDLFNBQVM7Z0RBQUdDLEdBQUc7NENBQUc7NENBQzdCQyxhQUFhO2dEQUFFRixTQUFTO2dEQUFHQyxHQUFHOzRDQUFFOzRDQUNoQ0UsWUFBWTtnREFBRUMsT0FBTy9DLEtBQUtnRCxHQUFHLENBQUNqRixRQUFRLE1BQU07NENBQUs7NENBQ2pEa0YsVUFBVTtnREFBRUMsTUFBTTs0Q0FBSzs0Q0FDdkI5SixXQUFVO3NEQUVWLDRFQUFDakMsa0RBQUlBO2dEQUNIeUcsTUFBTSxhQUFnQixPQUFITztnREFDbkIvRSxXQUFVO2dEQUNWTSxTQUFTLENBQUNzSTtvREFDUix5REFBeUQ7b0RBQ3pEQSxFQUFFbUIsY0FBYztvREFFaEIsK0NBQStDO29EQUMvQyxNQUFNQyxVQUFVQyxPQUFPbEYsSUFBSTVCLElBQUk7b0RBRS9CLHVEQUF1RDtvREFDdkQsaUVBQWlFO29EQUNqRSxNQUFNK0csa0JBQWtCLFdBQVdDLElBQUksQ0FBQ0gsWUFBWUEsUUFBUTFILE1BQU0sR0FBRztvREFFckUyRSxRQUFRbUQsR0FBRyxDQUFDLHlCQUFxRSxPQUE1Q0Ysa0JBQWtCLFlBQVksZUFBYyxNQUFJRjtvREFFckYsbUNBQW1DO29EQUNuQyxNQUFNbkosTUFBTSxhQUErQnFKLE9BQWxCRixTQUFRLFlBQXNELE9BQTVDRSxrQkFBa0IsWUFBWTtvREFDekVqRCxRQUFRbUQsR0FBRyxDQUFDLHlCQUFzQnZKO29EQUVsQyw0QkFBNEI7b0RBQzVCMEQsT0FBT2hELFFBQVEsQ0FBQ2lELElBQUksR0FBRzNEO2dEQUN6Qjs7a0VBRUEsOERBQUNkO3dEQUFJQyxXQUFVOzswRUFDYiw4REFBQ0Q7Z0VBQUlDLFdBQVU7MEVBQ2IsNEVBQUN0QixzREFBYUE7b0VBQ1ZvQyxLQUFLcUY7b0VBQ0xrRSxLQUFLckY7b0VBQ1BoRixXQUFVOzs7Ozs7Ozs7OzswRUFJZCw4REFBQ0Q7Z0VBQUlDLFdBQVU7MEVBQ2IsNEVBQUNLO29FQUNDQyxTQUFTLENBQUNzSTt3RUFDUkEsRUFBRW1CLGNBQWM7d0VBQ2hCbkIsRUFBRTBCLGVBQWU7b0VBQ2pCLDBDQUEwQztvRUFDNUM7b0VBQ0F0SyxXQUFVOzhFQUVWLDRFQUFDVjt3RUFBRVUsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztrRUFLbkIsOERBQUNEO3dEQUFJQyxXQUFVOzswRUFDYiw4REFBQ0Q7Z0VBQUlDLFdBQVU7O2tGQUViLDhEQUFDdUg7d0VBQUd2SCxXQUFVO2tGQUNYdUI7Ozs7OztvRUFHRnlELFVBQVV6RCwwQkFDVCw4REFBQ2lCO3dFQUFFeEMsV0FBVTtrRkFDVmdGOzs7Ozs7Ozs7Ozs7MEVBS1AsOERBQUM3RTtnRUFBR0gsV0FBVTs7a0ZBRVosOERBQUNJO3dFQUFHSixXQUFVOzswRkFDWiw4REFBQzNCLDBJQUFlQTtnRkFBQzJCLFdBQVU7Ozs7OzswRkFDM0IsOERBQUN1Szs7a0dBQ0MsOERBQUNBO3dGQUFLdkssV0FBVTtrR0FBaUQ7Ozs7OztvRkFDaEVrSjtvRkFBSzs7Ozs7Ozs7Ozs7OztrRkFJViw4REFBQzlJO3dFQUFHSixXQUFVOzswRkFDWiw4REFBQzdCLGdJQUFLQTtnRkFBQzZCLFdBQVU7Ozs7OzswRkFDakIsOERBQUN1Szs7a0dBQ0MsOERBQUNBO3dGQUFLdkssV0FBVTtrR0FBaUQ7Ozs7OztvRkFDaEVnSjs7Ozs7Ozs7Ozs7OztrRkFJTCw4REFBQzVJO3dFQUFHSixXQUFVOzswRkFDWiw4REFBQzVCLGlJQUFNQTtnRkFBQzRCLFdBQVU7Ozs7OzswRkFDbEIsOERBQUN1Szs7a0dBQ0MsOERBQUNBO3dGQUFLdkssV0FBVTtrR0FBaUQ7Ozs7OztvRkFDaEVpSjs7Ozs7Ozs7Ozs7Ozs7Ozs7OzswRUFLUCw4REFBQzlJO2dFQUFHSCxXQUFVOzBFQUNaLDRFQUFDSTs7c0ZBQ0MsOERBQUNtSzs0RUFBS3ZLLFdBQVU7c0ZBQW1DOzs7Ozs7c0ZBQ25ELDhEQUFDd0M7NEVBQUV4QyxXQUFVOzs4RkFDWCw4REFBQ3pCLHFJQUFVQTtvRkFBQ3lCLFdBQVU7Ozs7OztnRkFDckJpRjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OzJDQXBHTkYsTUFBTUo7Ozs7O29DQTRHakI7Ozs7O3lEQUdGLDhEQUFDbkM7b0NBQUV4QyxXQUFVOzhDQUE0Qjs7Ozs7OzhDQU0zQyw4REFBQ2pCO29DQUNDQyxZQUFZQTtvQ0FDWkMsYUFBYUE7b0NBQ2JDLGNBQWNNOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVE5QjtJQTNrQndCNEQ7O1FBT1BuRixrREFBU0E7OztNQVBGbUYiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvcHJvcGllZGFkZXMvUHJvcGVydHlQYWdlLmpzeD80YmI5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIGNsaWVudFwiO1xuaW1wb3J0IFJlYWN0LCB7IHVzZUVmZmVjdCwgdXNlU3RhdGUsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IExpbmsgZnJvbSBcIm5leHQvbGlua1wiO1xuaW1wb3J0IEltYWdlIGZyb20gXCJuZXh0L2ltYWdlXCI7XG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcic7XG5pbXBvcnQgeyBtb3Rpb24gfSBmcm9tIFwiZnJhbWVyLW1vdGlvblwiO1xuaW1wb3J0IHsgRmFCZWQsIEZhQmF0aCwgRmFSdWxlckNvbWJpbmVkLCBGYU1hcE1hcmtlckFsdCwgRmFFdXJvU2lnbiB9IGZyb20gXCJyZWFjdC1pY29ucy9mYVwiO1xuaW1wb3J0IEFuaW1hdGVkT25TY3JvbGwgZnJvbSBcIi4uL0FuaW1hdGVkU2Nyb2xsXCI7XG5pbXBvcnQgeyBnZXRQcm9wZXJ0eVBvc3RzIH0gZnJvbSBcIi4uLy4uL3BhZ2VzL2FwaVwiO1xuaW1wb3J0IFByb3BlcnR5SW1hZ2UgZnJvbSAnLi9Qcm9wZXJ0eUltYWdlJztcbmltcG9ydCBIZWFkIGZyb20gJ25leHQvaGVhZCc7XG5cbi8vIEVzdGlsb3MgY29uc2lzdGVudGVzIGNvbiBlbCByZXN0byBkZSBsYSB3ZWJcbmNvbnN0IHRleHRTaGFkb3dTdHlsZSA9IHsgdGV4dFNoYWRvdzogJzJweCAycHggNHB4IHJnYmEoMCwgMCwgMCwgMC44KScgfTtcbmNvbnN0IHRleHRTaGFkb3dMaWdodFN0eWxlID0geyB0ZXh0U2hhZG93OiAnMXB4IDFweCAycHggcmdiYSgwLCAwLCAwLCAwLjUpJyB9O1xuXG4vLyBDb21wb25lbnRlIGRlIFBhZ2luYWNpw7NuXG5jb25zdCBQYWdpbmF0aW9uID0gKHsgdG90YWxQYWdlcywgY3VycmVudFBhZ2UsIG9uUGFnZUNoYW5nZSB9KSA9PiB7XG4gIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuICBcbiAgLy8gRnVuY2nDs24gcGFyYSBvYnRlbmVyIHRvZG9zIGxvcyBuw7ptZXJvcyBkZSBww6FnaW5hXG4gIGNvbnN0IGdldFBhZ2VOdW1iZXJzID0gKCkgPT4ge1xuICAgIGNvbnN0IHBhZ2VzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gdG90YWxQYWdlczsgaSsrKSB7XG4gICAgICBwYWdlcy5wdXNoKGkpO1xuICAgIH1cbiAgICByZXR1cm4gcGFnZXM7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUGFnZUNoYW5nZSA9IChwYWdlKSA9PiB7XG4gICAgaWYgKHBhZ2UgPj0gMSAmJiBwYWdlIDw9IHRvdGFsUGFnZXMgJiYgcGFnZSAhPT0gY3VycmVudFBhZ2UpIHtcbiAgICAgIC8vIFByaW1lcm8gYWN0dWFsaXphbW9zIGVsIGVzdGFkbyBsb2NhbFxuICAgICAgb25QYWdlQ2hhbmdlKHBhZ2UpO1xuICAgICAgXG4gICAgICAvLyBMdWVnbyBuYXZlZ2Ftb3MgY29uIHVuIHBlcXVlw7FvIHJldHJhc28gcGFyYSBwZXJtaXRpciBxdWUgZWwgZXN0YWRvIHNlIGFjdHVhbGljZVxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIHJvdXRlci5wdXNoKHtcbiAgICAgICAgICBwYXRobmFtZTogcm91dGVyLnBhdGhuYW1lLFxuICAgICAgICAgIHF1ZXJ5OiB7IC4uLnJvdXRlci5xdWVyeSwgcGFnZSB9XG4gICAgICAgIH0sIHVuZGVmaW5lZCwgeyBzY3JvbGw6IHRydWUgfSk7ICAvLyBFc3RvIGFzZWd1cmEgcXVlIGxhIHDDoWdpbmEgc2UgZGVzcGxhY2UgaGFjaWEgYXJyaWJhXG4gICAgICB9LCAxMCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiAoXG4gICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIG1kOmdyaWQtY29scy0xMiBncmlkLWNvbHMtMSBtdC02XCI+XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cIm1kOmNvbC1zcGFuLTEyIHRleHQtY2VudGVyXCI+XG4gICAgICAgIDxuYXYgYXJpYS1sYWJlbD1cIk5hdmVnYWNpw7NuIGRlIHDDoWdpbmFzXCI+XG4gICAgICAgICAgPHVsIGNsYXNzTmFtZT1cImlubGluZS1mbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgZ2FwLTIganVzdGlmeS1jZW50ZXJcIj5cbiAgICAgICAgICAgIHsvKiBCb3TDs24gQW50ZXJpb3IgKi99XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQYWdlQ2hhbmdlKGN1cnJlbnRQYWdlIC0gMSl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRQYWdlID09PSAxfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTAgaC0xMCBpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIFxuICAgICAgICAgICAgICAgICAgJHtjdXJyZW50UGFnZSA9PT0gMSBcbiAgICAgICAgICAgICAgICAgICAgPyAndGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTQwMCBiZy13aGl0ZSBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJnLWFtYXJpbGxvIHRyYW5zaXRpb24tY29sb3JzJ30gXG4gICAgICAgICAgICAgICAgICBzaGFkb3ctc21gfVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJJciBhIGxhIHDDoWdpbmEgYW50ZXJpb3JcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPGkgY2xhc3NOYW1lPVwibWRpIG1kaS1jaGV2cm9uLWxlZnQgdGV4dC1bMjBweF1cIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9saT5cblxuICAgICAgICAgICAgey8qIFRvZG9zIGxvcyBuw7ptZXJvcyBkZSBww6FnaW5hICovfVxuICAgICAgICAgICAge2dldFBhZ2VOdW1iZXJzKCkubWFwKChwYWdlTnVtYmVyKSA9PiAoXG4gICAgICAgICAgICAgIDxsaSBrZXk9e3BhZ2VOdW1iZXJ9PlxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVBhZ2VDaGFuZ2UocGFnZU51bWJlcil9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2B3LTEwIGgtMTAgaW5saW5lLWZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIHJvdW5kZWQtZnVsbFxuICAgICAgICAgICAgICAgICAgICAke3BhZ2VOdW1iZXIgPT09IGN1cnJlbnRQYWdlXG4gICAgICAgICAgICAgICAgICAgICAgPyAndGV4dC13aGl0ZSBiZy1ibGFjayBob3ZlcjpiZy1nb2xkJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJ3RleHQtc2xhdGUtNDAwIGJnLXdoaXRlIGhvdmVyOnRleHQtd2hpdGUgaG92ZXI6YmctYW1hcmlsbG8nfSBcbiAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbi1jb2xvcnMgc2hhZG93LXNtYH1cbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9e2BJciBhIGxhIHDDoWdpbmEgJHtwYWdlTnVtYmVyfWB9XG4gICAgICAgICAgICAgICAgICBhcmlhLWN1cnJlbnQ9e3BhZ2VOdW1iZXIgPT09IGN1cnJlbnRQYWdlID8gXCJwYWdlXCIgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge3BhZ2VOdW1iZXJ9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICApKX1cblxuICAgICAgICAgICAgey8qIEJvdMOzbiBTaWd1aWVudGUgKi99XG4gICAgICAgICAgICA8bGk+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVQYWdlQ2hhbmdlKGN1cnJlbnRQYWdlICsgMSl9XG4gICAgICAgICAgICAgICAgZGlzYWJsZWQ9e2N1cnJlbnRQYWdlID09PSB0b3RhbFBhZ2VzfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YHctMTAgaC0xMCBpbmxpbmUtZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgcm91bmRlZC1mdWxsIFxuICAgICAgICAgICAgICAgICAgJHtjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyBcbiAgICAgICAgICAgICAgICAgICAgPyAndGV4dC1ncmF5LTQwMCBjdXJzb3Itbm90LWFsbG93ZWQnIFxuICAgICAgICAgICAgICAgICAgICA6ICd0ZXh0LXNsYXRlLTQwMCBiZy13aGl0ZSBob3Zlcjp0ZXh0LXdoaXRlIGhvdmVyOmJnLWFtYXJpbGxvIHRyYW5zaXRpb24tY29sb3JzJ30gXG4gICAgICAgICAgICAgICAgICBzaGFkb3ctc21gfVxuICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJJciBhIGxhIHDDoWdpbmEgc2lndWllbnRlXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cIm1kaSBtZGktY2hldnJvbi1yaWdodCB0ZXh0LVsyMHB4XVwiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2xpPlxuICAgICAgICAgIDwvdWw+XG4gICAgICAgIDwvbmF2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICk7XG59O1xuXG4vLyBNb2RpZmljYXIgbGEgZnVuY2nDs24gcGFyYSBvYnRlbmVyIGxhIFVSTCBkZSBsYSBpbWFnZW5cbmNvbnN0IGdldFByb3hpZWRJbWFnZVVybCA9ICh1cmwpID0+IHtcbiAgaWYgKCF1cmwpIHJldHVybiAnL2ltZy9kZWZhdWx0LXByb3BlcnR5LWltYWdlLmpwZyc7XG4gIFxuICAvLyBBc2VndXJhcnNlIGRlIHF1ZSB1cmwgc2VhIHVuYSBjYWRlbmEgZGUgdGV4dG9cbiAgaWYgKHR5cGVvZiB1cmwgIT09ICdzdHJpbmcnKSB7XG4gICAgLy8gU2kgZXMgdW4gb2JqZXRvIGNvbiBzcmMgbyB1cmwsIHVzYXIgZXNhIHByb3BpZWRhZFxuICAgIGlmICh1cmwgJiYgdHlwZW9mIHVybCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGlmICh1cmwuc3JjKSByZXR1cm4gZ2V0UHJveGllZEltYWdlVXJsKHVybC5zcmMpO1xuICAgICAgaWYgKHVybC51cmwpIHJldHVybiBnZXRQcm94aWVkSW1hZ2VVcmwodXJsLnVybCk7XG4gICAgfVxuICAgIC8vIFNpIG5vIGVzIHVuYSBjYWRlbmEgbmkgdW4gb2JqZXRvIGNvbiBzcmMvdXJsLCBkZXZvbHZlciBsYSBpbWFnZW4gcG9yIGRlZmVjdG9cbiAgICByZXR1cm4gJy9pbWcvZGVmYXVsdC1wcm9wZXJ0eS1pbWFnZS5qcGcnO1xuICB9XG4gIFxuICAvLyBTaSB5YSBlcyB1bmEgVVJMIGFic29sdXRhLCBkZXZvbHZlcmxhIHRhbCBjdWFsXG4gIGlmICh1cmwuc3RhcnRzV2l0aCgnaHR0cCcpKSB7XG4gICAgcmV0dXJuIHVybDtcbiAgfVxuICBcbiAgLy8gU2kgZXMgdW5hIHJ1dGEgcmVsYXRpdmEsIGNvbnN0cnVpciBsYSBVUkwgY29tcGxldGFcbiAgY29uc3QgYmFzZVVybCA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0FQSV9VUkwgfHwgJ2h0dHBzOi8vZ296YS1tYWRyaWQub25yZW5kZXIuY29tJztcbiAgcmV0dXJuIGAke2Jhc2VVcmx9JHt1cmwuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHt1cmx9YDtcbn07XG5cbi8vIE1vZGlmaWNhciBsYSBmdW5jacOzbiBwYXJhIG9idGVuZXIgbGEgdWJpY2FjacOzbiBjb3JyZWN0YVxuY29uc3QgZ2V0Q29ycmVjdExvY2F0aW9uID0gKHByb3BlcnR5KSA9PiB7XG4gIC8vIFNpIGVzIHVuYSBwcm9waWVkYWQgZGUgTW9uZ29EQlxuICBpZiAocHJvcGVydHkuX2lkKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5LmxvY2F0aW9uIHx8IHByb3BlcnR5LmFkZHJlc3MgfHwgXCJVYmljYWNpw7NuIG5vIGRpc3BvbmlibGVcIjtcbiAgfVxuICBcbiAgLy8gU2kgZXMgdW5hIHByb3BpZWRhZCBkZSBXb3JkUHJlc3NcbiAgaWYgKHByb3BlcnR5Lm1ldGFfZGF0YSkge1xuICAgIC8vIEJ1c2NhciBlbiBtZXRhX2RhdGEgcHJpbWVyb1xuICAgIGNvbnN0IGFkZHJlc3NNZXRhID0gcHJvcGVydHkubWV0YV9kYXRhLmZpbmQobWV0YSA9PiBcbiAgICAgIG1ldGEua2V5ID09PSBcImFkZHJlc3NcIiB8fCBtZXRhLmtleSA9PT0gXCJVYmljYWNpw7NuXCIgfHwgbWV0YS5rZXkgPT09IFwidWJpY2FjaW9uXCJcbiAgICApO1xuICAgIGlmIChhZGRyZXNzTWV0YSAmJiBhZGRyZXNzTWV0YS52YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiBhZGRyZXNzTWV0YS52YWx1ZSA9PT0gJ29iamVjdCcgXG4gICAgICAgID8gYWRkcmVzc01ldGEudmFsdWUuYWRkcmVzcyB8fCBhZGRyZXNzTWV0YS52YWx1ZS5uYW1lIHx8IFwiVWJpY2FjacOzbiBubyBkaXNwb25pYmxlXCJcbiAgICAgICAgOiBhZGRyZXNzTWV0YS52YWx1ZTtcbiAgICB9XG4gIH1cbiAgXG4gIC8vIFNpIG5vIHNlIGVuY29udHLDsyBlbiBtZXRhX2RhdGEsIHVzYXIgc2hvcnRfZGVzY3JpcHRpb25cbiAgaWYgKHByb3BlcnR5LnNob3J0X2Rlc2NyaXB0aW9uKSB7XG4gICAgcmV0dXJuIHByb3BlcnR5LnNob3J0X2Rlc2NyaXB0aW9uO1xuICB9XG4gIFxuICAvLyBFeHRyYWVyIGRlbCBub21icmUgc2kgY29udGllbmUgdW5hIGRpcmVjY2nDs25cbiAgaWYgKHByb3BlcnR5Lm5hbWUgJiYgXG4gICAgICAocHJvcGVydHkubmFtZS5pbmNsdWRlcyhcIkNhbGxlXCIpIHx8IHByb3BlcnR5Lm5hbWUuaW5jbHVkZXMoXCJBdmVuaWRhXCIpIHx8IFxuICAgICAgIHByb3BlcnR5Lm5hbWUuaW5jbHVkZXMoXCJQbGF6YVwiKSkpIHtcbiAgICByZXR1cm4gcHJvcGVydHkubmFtZTtcbiAgfVxuICBcbiAgcmV0dXJuIFwiVWJpY2FjacOzbiBubyBkaXNwb25pYmxlXCI7XG59O1xuXG4vLyBGdW5jacOzbiBwYXJhIGV4dHJhZXIgdGlwb3MgZGUgcHJvcGllZGFkZXMgKG51ZXZhLCBwYXJhIFNFTylcbmNvbnN0IGV4dHJhY3RQcm9wZXJ0eVR5cGVzID0gKHByb3BlcnRpZXMpID0+IHtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpIHx8IHByb3BlcnRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtcIlZpdmllbmRhc1wiLCBcIkFwYXJ0YW1lbnRvc1wiLCBcIlByb3BpZWRhZGVzXCJdO1xuICB9XG5cbiAgY29uc3QgdHlwZXMgPSBwcm9wZXJ0aWVzXG4gICAgLm1hcChwID0+IHtcbiAgICAgIGlmIChwLnR5cGVQcm9wZXJ0eSkgcmV0dXJuIHAudHlwZVByb3BlcnR5O1xuICAgICAgaWYgKHAubWV0YV9kYXRhKSB7XG4gICAgICAgIGNvbnN0IHR5cGVNZXRhID0gcC5tZXRhX2RhdGEuZmluZChtZXRhID0+IFxuICAgICAgICAgIG1ldGEua2V5ID09PSBcInByb3BlcnR5X3R5cGVcIiB8fCBtZXRhLmtleSA9PT0gXCJ0aXBvXCIgfHwgbWV0YS5rZXkgPT09IFwidHlwZVwiXG4gICAgICAgICk7XG4gICAgICAgIHJldHVybiB0eXBlTWV0YT8udmFsdWUgfHwgbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0pXG4gICAgLmZpbHRlcihCb29sZWFuKTtcblxuICAvLyBEZXZvbHZlciB0aXBvcyDDum5pY29zIG8gdmFsb3JlcyBwcmVkZXRlcm1pbmFkb3Mgc2kgbm8gaGF5IHN1ZmljaWVudGVzXG4gIHJldHVybiBbLi4ubmV3IFNldCh0eXBlcyldLmxlbmd0aCA+IDAgXG4gICAgPyBbLi4ubmV3IFNldCh0eXBlcyldXG4gICAgOiBbXCJWaXZpZW5kYXNcIiwgXCJBcGFydGFtZW50b3NcIiwgXCJQcm9waWVkYWRlc1wiXTtcbn07XG5cbi8vIEZ1bmNpw7NuIHBhcmEgZXh0cmFlciB1YmljYWNpb25lcyBwcmluY2lwYWxlcyAobnVldmEsIHBhcmEgU0VPKVxuY29uc3QgZXh0cmFjdExvY2F0aW9ucyA9IChwcm9wZXJ0aWVzKSA9PiB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwcm9wZXJ0aWVzKSB8fCBwcm9wZXJ0aWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXCJNYWRyaWRcIiwgXCJFc3Bhw7FhXCJdO1xuICB9XG5cbiAgLy8gRXh0cmFlciB1YmljYWNpb25lcyBkZSB0b2RhcyBsYXMgcHJvcGllZGFkZXNcbiAgY29uc3QgbG9jYXRpb25zID0gcHJvcGVydGllc1xuICAgIC5tYXAocCA9PiBnZXRDb3JyZWN0TG9jYXRpb24ocCkpXG4gICAgLmZpbHRlcihCb29sZWFuKVxuICAgIC5tYXAobG9jID0+IHtcbiAgICAgIC8vIEV4dHJhZXIgc29sbyBsYSBjaXVkYWQvem9uYVxuICAgICAgY29uc3QgcGFydHMgPSBsb2Muc3BsaXQoJywnKTtcbiAgICAgIHJldHVybiBwYXJ0c1swXS50cmltKCk7XG4gICAgfSk7XG5cbiAgLy8gRGV2b2x2ZXIgdWJpY2FjaW9uZXMgw7puaWNhcyBvIHZhbG9yZXMgcHJlZGV0ZXJtaW5hZG9zXG4gIHJldHVybiBbLi4ubmV3IFNldChsb2NhdGlvbnMpXS5sZW5ndGggPiAwXG4gICAgPyBbLi4ubmV3IFNldChsb2NhdGlvbnMpXVxuICAgIDogW1wiTWFkcmlkXCIsIFwiRXNwYcOxYVwiXTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFByb3BlcnR5UGFnZSgpIHtcbiAgY29uc3QgW3Byb3BlcnRpZXMsIHNldFByb3BlcnRpZXNdID0gdXNlU3RhdGUoW10pO1xuICBjb25zdCBbbG9hZGluZywgc2V0TG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZShudWxsKTtcbiAgY29uc3QgW3NlYXJjaFRlcm0sIHNldFNlYXJjaFRlcm1dID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtjdXJyZW50UGFnZSwgc2V0Q3VycmVudFBhZ2VdID0gdXNlU3RhdGUoMSk7XG4gIGNvbnN0IFt0b3RhbFBhZ2VzLCBzZXRUb3RhbFBhZ2VzXSA9IHVzZVN0YXRlKDEpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgY29uc3QgW2N1cnJlbnRVcmwsIHNldEN1cnJlbnRVcmxdID0gdXNlU3RhdGUoJycpO1xuICBjb25zdCBbaW5pdGlhbGl6ZWQsIHNldEluaXRpYWxpemVkXSA9IHVzZVN0YXRlKGZhbHNlKTtcblxuICAvLyBQYXJhIFNFTyAtIE1ldGFkYXRvcyBkaW7DoW1pY29zXG4gIGNvbnN0IFtwYWdlVGl0bGUsIHNldFBhZ2VUaXRsZV0gPSB1c2VTdGF0ZSgnUHJvcGllZGFkZXMgSW5tb2JpbGlhcmlhcyBlbiBNYWRyaWQgfCBHb3phIE1hZHJpZCcpO1xuICBjb25zdCBbcGFnZURlc2NyaXB0aW9uLCBzZXRQYWdlRGVzY3JpcHRpb25dID0gdXNlU3RhdGUoJ0Rlc2N1YnJhIG51ZXN0cmEgc2VsZWNjacOzbiBkZSBwcm9waWVkYWRlcyBpbm1vYmlsaWFyaWFzIGVuIE1hZHJpZC4gQXBhcnRhbWVudG9zLCBjYXNhcywgY2hhbGV0cyB5IGxvY2FsZXMgY29tZXJjaWFsZXMgZGlzcG9uaWJsZXMgcGFyYSBjb21wcmEgeSBhbHF1aWxlci4nKTtcblxuICAvLyBNb2RpZmljYXIgZWwgbsO6bWVybyBkZSBwcm9waWVkYWRlcyBwb3IgcMOhZ2luYVxuICBjb25zdCBwcm9wZXJ0aWVzUGVyUGFnZSA9IDEwO1xuXG4gIC8vIEVmZWN0byBwYXJhIGFzZWd1cmFyIHF1ZSB0ZW5lbW9zIGxhIFVSTCBjb3JyZWN0YSBwYXJhIGVsIFNFT1xuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgc2V0Q3VycmVudFVybCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gUHJlcGFyYXIgZWwgU2NoZW1hLm9yZyBwYXJhIGxhIGxpc3RhIGRlIHByb3BpZWRhZGVzXG4gIGNvbnN0IGdlbmVyYXRlUHJvcGVydHlMaXN0U2NoZW1hID0gKCkgPT4ge1xuICAgIC8vIFNvbG8gZ2VuZXJhciBzaSB0ZW5lbW9zIHByb3BpZWRhZGVzXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpIHx8IHByb3BlcnRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvLyBFeHRyYWVyIHRpcG9zIGRlIHByb3BpZWRhZGVzIHkgdWJpY2FjaW9uZXMgcGFyYSBtZWpvcmFyIGVsIFNFT1xuICAgIGNvbnN0IHByb3BlcnR5VHlwZXMgPSBleHRyYWN0UHJvcGVydHlUeXBlcyhwcm9wZXJ0aWVzKTtcbiAgICBjb25zdCBsb2NhdGlvbnMgPSBleHRyYWN0TG9jYXRpb25zKHByb3BlcnRpZXMpO1xuXG4gICAgLy8gR2VuZXJhciBzY2hlbWEub3JnIHBhcmEgbGEgbGlzdGEgZGUgcHJvcGllZGFkZXNcbiAgICByZXR1cm4ge1xuICAgICAgXCJAY29udGV4dFwiOiBcImh0dHBzOi8vc2NoZW1hLm9yZ1wiLFxuICAgICAgXCJAdHlwZVwiOiBcIkl0ZW1MaXN0XCIsXG4gICAgICBcIml0ZW1MaXN0RWxlbWVudFwiOiBwcm9wZXJ0aWVzLm1hcCgocHJvcGVydHksIGluZGV4KSA9PiB7XG4gICAgICAgIC8vIERldGVybWluYXIgc2kgZXMgdW5hIHByb3BpZWRhZCBkZSBXb3JkUHJlc3MgbyBkZSBNb25nb0RCXG4gICAgICAgIGNvbnN0IGlzV29yZFByZXNzUHJvcGVydHkgPSBwcm9wZXJ0eS5zb3VyY2UgPT09ICd3b29jb21tZXJjZSc7XG4gICAgICAgIGNvbnN0IGlzTW9uZ29EQlByb3BlcnR5ID0gcHJvcGVydHkuc291cmNlID09PSAnbW9uZ29kYic7XG4gICAgICAgIFxuICAgICAgICAvLyBFeHRyYWVyIGxvcyBkYXRvcyBzZWfDum4gZWwgdGlwbyBkZSBwcm9waWVkYWRcbiAgICAgICAgY29uc3QgaWQgPSBpc1dvcmRQcmVzc1Byb3BlcnR5ID8gcHJvcGVydHkuaWQgOiBwcm9wZXJ0eS5faWQ7XG4gICAgICAgIGxldCB0aXRsZSA9IFwiXCI7XG5cbiAgICAgICAgaWYgKGlzV29yZFByZXNzUHJvcGVydHkpIHtcbiAgICAgICAgICB0aXRsZSA9IHByb3BlcnR5Lm5hbWUgfHwgXCJQcm9waWVkYWQgc2luIHTDrXR1bG9cIjtcbiAgICAgICAgfSBlbHNlIGlmIChpc01vbmdvREJQcm9wZXJ0eSkge1xuICAgICAgICAgIHRpdGxlID0gcHJvcGVydHkudGl0bGUgfHwgcHJvcGVydHkubmFtZSB8fCBcIlByb3BpZWRhZCBzaW4gdMOtdHVsb1wiO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXh0cmFlciBsYSB1YmljYWNpw7NuXG4gICAgICAgIGNvbnN0IGxvY2F0aW9uID0gZ2V0Q29ycmVjdExvY2F0aW9uKHByb3BlcnR5KTtcblxuICAgICAgICAvLyBFeHRyYWVyIHByZWNpb1xuICAgICAgICBsZXQgcHJpY2UgPSBcIkNvbnN1bHRhclwiO1xuICAgICAgICBpZiAoaXNXb3JkUHJlc3NQcm9wZXJ0eSAmJiBwcm9wZXJ0eS5wcmljZSkge1xuICAgICAgICAgIHByaWNlID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlcy1FUycsIHtcbiAgICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICAgICAgY3VycmVuY3k6ICdFVVInLFxuICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgICAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwXG4gICAgICAgICAgfSkuZm9ybWF0KHBhcnNlSW50KHByb3BlcnR5LnByaWNlKSk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb25nb0RCUHJvcGVydHkgJiYgcHJvcGVydHkucHJpY2UpIHtcbiAgICAgICAgICAvLyBDb252ZXJ0aXIgZWwgcHJlY2lvIGEgbsO6bWVybyBzaSBlcyB1bmEgY2FkZW5hXG4gICAgICAgICAgbGV0IG51bWVyaWNQcmljZTtcbiAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5LnByaWNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gRWxpbWluYXIgY3VhbHF1aWVyIGNhcsOhY3RlciBxdWUgbm8gc2VhIG7Dum1lcm8gbyBwdW50b1xuICAgICAgICAgICAgY29uc3QgY2xlYW5QcmljZSA9IHByb3BlcnR5LnByaWNlLnJlcGxhY2UoL1teXFxkLi1dL2csICcnKTtcbiAgICAgICAgICAgIG51bWVyaWNQcmljZSA9IHBhcnNlRmxvYXQoY2xlYW5QcmljZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFNpIGVsIHByZWNpbyBwYXJlY2Ugc2VyIHVuIHByZWNpbyByZWR1Y2lkbyAobWVub3MgZGUgMTAwMDApLCBtdWx0aXBsaWNhcmxvIHBvciAxMDAwXG4gICAgICAgICAgICAvLyBFc3RvIGVzIHBhcmEgY29ycmVnaXIgY2Fzb3MgZG9uZGUgZWwgcHJlY2lvIHNlIGd1YXJkYSBjb21vIFwiMzUwXCIgZW4gbHVnYXIgZGUgXCIzNTAwMDBcIlxuICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljUHJpY2UpICYmIG51bWVyaWNQcmljZSA8IDEwMDAwKSB7XG4gICAgICAgICAgICAgIG51bWVyaWNQcmljZSA9IG51bWVyaWNQcmljZSAqIDEwMDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG51bWVyaWNQcmljZSA9IHByb3BlcnR5LnByaWNlO1xuICAgICAgICAgICAgLy8gU2kgZWwgcHJlY2lvIHBhcmVjZSBzZXIgdW4gcHJlY2lvIHJlZHVjaWRvIChtZW5vcyBkZSAxMDAwMCksIG11bHRpcGxpY2FybG8gcG9yIDEwMDBcbiAgICAgICAgICAgIGlmIChudW1lcmljUHJpY2UgPCAxMDAwMCkge1xuICAgICAgICAgICAgICBudW1lcmljUHJpY2UgPSBudW1lcmljUHJpY2UgKiAxMDAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBwcmljZSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZXMtRVMnLCB7XG4gICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICAgIGN1cnJlbmN5OiAnRVVSJyxcbiAgICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCxcbiAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgICAgIH0pLmZvcm1hdChudW1lcmljUHJpY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gT2J0ZW5lciBsYSBpbWFnZW4gcHJpbmNpcGFsXG4gICAgICAgIGxldCBtYWluSW1hZ2UgPSAnL2ltZy9kZWZhdWx0LXByb3BlcnR5LWltYWdlLmpwZyc7XG4gICAgICAgIFxuICAgICAgICBpZiAoaXNXb3JkUHJlc3NQcm9wZXJ0eSAmJiBwcm9wZXJ0eS5pbWFnZXMgJiYgQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5pbWFnZXMpICYmIHByb3BlcnR5LmltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZmlyc3RJbWFnZSA9IHByb3BlcnR5LmltYWdlc1swXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlLnNyYyB8fCBmaXJzdEltYWdlLnVybCB8fCBmaXJzdEltYWdlLnNvdXJjZV91cmwgfHwgJy9pbWcvZGVmYXVsdC1wcm9wZXJ0eS1pbWFnZS5qcGcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChpc01vbmdvREJQcm9wZXJ0eSAmJiBwcm9wZXJ0eS5pbWFnZXMgJiYgQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5pbWFnZXMpICYmIHByb3BlcnR5LmltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgZmlyc3RJbWFnZSA9IHByb3BlcnR5LmltYWdlc1swXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlLnNyYyB8fCBmaXJzdEltYWdlLnVybCB8fCBmaXJzdEltYWdlLnNvdXJjZV91cmwgfHwgJy9pbWcvZGVmYXVsdC1wcm9wZXJ0eS1pbWFnZS5qcGcnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gUHJvY2VzYXIgbGEgVVJMIGRlIGxhIGltYWdlblxuICAgICAgICBjb25zdCBpbWFnZVVybCA9IGdldFByb3hpZWRJbWFnZVVybChtYWluSW1hZ2UpO1xuXG4gICAgICAgIC8vIEZvcm1hdGVhciBwcmVjaW8gcGFyYSBzY2hlbWEub3JnXG4gICAgICAgIGxldCBwcmljZVZhbHVlID0gbnVsbDtcbiAgICAgICAgaWYgKHR5cGVvZiBwcmljZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwcmljZVZhbHVlID0gcHJpY2U7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHByaWNlID09PSAnc3RyaW5nJyAmJiAhaXNOYU4ocGFyc2VGbG9hdChwcmljZS5yZXBsYWNlKC9bXlxcZC4sXS9nLCAnJykucmVwbGFjZSgnLCcsICcuJykpKSkge1xuICAgICAgICAgIHByaWNlVmFsdWUgPSBwYXJzZUZsb2F0KHByaWNlLnJlcGxhY2UoL1teXFxkLixdL2csICcnKS5yZXBsYWNlKCcsJywgJy4nKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIFwiQHR5cGVcIjogXCJMaXN0SXRlbVwiLFxuICAgICAgICAgIFwicG9zaXRpb25cIjogaW5kZXggKyAxLFxuICAgICAgICAgIFwiaXRlbVwiOiB7XG4gICAgICAgICAgICBcIkB0eXBlXCI6IFwiUHJvZHVjdFwiLFxuICAgICAgICAgICAgXCJuYW1lXCI6IHRpdGxlLFxuICAgICAgICAgICAgXCJkZXNjcmlwdGlvblwiOiBgJHt0aXRsZX0gdWJpY2FkYSBlbiAke2xvY2F0aW9ufWAsXG4gICAgICAgICAgICBcImltYWdlXCI6IGltYWdlVXJsLFxuICAgICAgICAgICAgXCJ1cmxcIjogYGh0dHBzOi8vd3d3LmdvemFtYWRyaWQuY29tL3Byb3BlcnR5LyR7aWR9YCxcbiAgICAgICAgICAgIFwiY2F0ZWdvcnlcIjogcHJvcGVydHkudHlwZVByb3BlcnR5IHx8IFwiUHJvcGllZGFkIGlubW9iaWxpYXJpYVwiLFxuICAgICAgICAgICAgXCJvZmZlcnNcIjogcHJpY2VWYWx1ZSA/IHtcbiAgICAgICAgICAgICAgXCJAdHlwZVwiOiBcIk9mZmVyXCIsXG4gICAgICAgICAgICAgIFwicHJpY2VDdXJyZW5jeVwiOiBcIkVVUlwiLFxuICAgICAgICAgICAgICBcInByaWNlXCI6IHByaWNlVmFsdWUsXG4gICAgICAgICAgICAgIFwiYXZhaWxhYmlsaXR5XCI6IFwiaHR0cHM6Ly9zY2hlbWEub3JnL0luU3RvY2tcIlxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pXG4gICAgfTtcbiAgfTtcblxuICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgIGNvbnN0IGZldGNoUHJvcGVydGllcyA9IGFzeW5jICgpID0+IHtcbiAgICAgIGlmICghcm91dGVyLmlzUmVhZHkgfHwgaW5pdGlhbGl6ZWQpIHJldHVybjtcblxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICAgIFxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0UHJvcGVydHlQb3N0cygpO1xuICAgICAgICBcbiAgICAgICAgaWYgKCFkYXRhIHx8ICFBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSByZWNpYmllcm9uIGRhdG9zIHbDoWxpZG9zIGRlIGxhcyBwcm9waWVkYWRlcycpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbW9uZ29EQlByb3BlcnRpZXMgPSBkYXRhLmZpbHRlcihwID0+IHAuc291cmNlID09PSAnbW9uZ29kYicpO1xuICAgICAgICBjb25zdCB3b3JkUHJlc3NQcm9wZXJ0aWVzID0gZGF0YS5maWx0ZXIocCA9PiBwLnNvdXJjZSA9PT0gJ3dvb2NvbW1lcmNlJyk7XG4gICAgICAgIGNvbnN0IHJlb3JkZXJlZERhdGEgPSBbLi4ubW9uZ29EQlByb3BlcnRpZXMsIC4uLndvcmRQcmVzc1Byb3BlcnRpZXNdO1xuICAgICAgICBcbiAgICAgICAgc2V0UHJvcGVydGllcyhyZW9yZGVyZWREYXRhKTtcbiAgICAgICAgc2V0VG90YWxQYWdlcyhNYXRoLmNlaWwocmVvcmRlcmVkRGF0YS5sZW5ndGggLyBwcm9wZXJ0aWVzUGVyUGFnZSkpO1xuICAgICAgICBzZXRJbml0aWFsaXplZCh0cnVlKTtcblxuICAgICAgICBpZiAocmVvcmRlcmVkRGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgY29uc3QgcHJvcGVydHlUeXBlcyA9IGV4dHJhY3RQcm9wZXJ0eVR5cGVzKHJlb3JkZXJlZERhdGEpO1xuICAgICAgICAgIGNvbnN0IGxvY2F0aW9ucyA9IGV4dHJhY3RMb2NhdGlvbnMocmVvcmRlcmVkRGF0YSk7XG4gICAgICAgICAgXG4gICAgICAgICAgc2V0UGFnZVRpdGxlKGAke3Byb3BlcnR5VHlwZXMuc2xpY2UoMCwgMikuam9pbignLCAnKX0gZW4gJHtsb2NhdGlvbnMuc2xpY2UoMCwgMikuam9pbignLCAnKX0gfCBHb3phIE1hZHJpZGApO1xuICAgICAgICAgIHNldFBhZ2VEZXNjcmlwdGlvbihgRXhwbG9yZSBudWVzdHJhIHNlbGVjY2nDs24gZGUgJHtwcm9wZXJ0eVR5cGVzLnNsaWNlKDAsIDMpLmpvaW4oJywgJyl9IGRpc3BvbmlibGVzIGVuICR7bG9jYXRpb25zLnNsaWNlKDAsIDMpLmpvaW4oJywgJyl9LiBFbmN1ZW50cmUgc3UgcHJvcGllZGFkIGlkZWFsIGNvbiBHb3phIE1hZHJpZC5gKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBjYXJnYXIgcHJvcGllZGFkZXM6XCIsIGVycik7XG4gICAgICAgIHNldEVycm9yKGVyci5tZXNzYWdlIHx8IFwiTm8gcHVkaW1vcyBjYXJnYXIgbGFzIHByb3BpZWRhZGVzLiBQb3IgZmF2b3IsIGludGVudGEgZGUgbnVldm8gbcOhcyB0YXJkZS5cIik7XG4gICAgICAgIHNldFByb3BlcnRpZXMoW10pO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoUHJvcGVydGllcygpO1xuICB9LCBbcm91dGVyLmlzUmVhZHksIHByb3BlcnRpZXNQZXJQYWdlLCBpbml0aWFsaXplZF0pO1xuXG4gIC8vIEZpbHRyYXIgcHJvcGllZGFkZXMgYXNlZ3VyYW5kbyBxdWUgcHJvcGVydGllcyBlcyB1biBhcnJheVxuICBjb25zdCBmaWx0ZXJlZFByb3BlcnRpZXMgPSBBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpIFxuICAgID8gcHJvcGVydGllcy5maWx0ZXIoKHByb3BlcnR5KSA9PiB7XG4gICAgICAgIGNvbnN0IHNlYXJjaEZpZWxkID0gcHJvcGVydHkubmFtZSB8fCBwcm9wZXJ0eS50aXRsZSB8fCBcIlwiO1xuICAgICAgICByZXR1cm4gc2VhcmNoRmllbGQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCkpO1xuICAgICAgfSlcbiAgICA6IFtdO1xuXG4gIC8vIEZ1bmNpw7NuIHNpbXBsaWZpY2FkYSBwYXJhIGVsIG1hbmVqbyBkZWwgY2FtYmlvIGRlIHDDoWdpbmFcbiAgY29uc3QgaGFuZGxlUGFnZUNoYW5nZSA9IChwYWdlTnVtYmVyKSA9PiB7XG4gICAgaWYgKHBhZ2VOdW1iZXIgPT09IGN1cnJlbnRQYWdlKSByZXR1cm47XG4gICAgXG4gICAgc2V0Q3VycmVudFBhZ2UocGFnZU51bWJlcik7IC8vIEFjdHVhbGl6YXIgaW5tZWRpYXRhbWVudGUgZWwgY3VycmVudFBhZ2VcbiAgICAvLyBObyBuZWNlc2l0YXMgaGFjZXIgZmV0Y2hQcm9wZXJ0aWVzIGFxdcOtLCBlbCB1c2VFZmZlY3Qgc2UgZW5jYXJnYXLDoSBkZSBlc29cbiAgfTtcblxuICAvLyBFbGltaW5hciB1c2VDYWxsYmFjayBwYXJhIGdldEN1cnJlbnRQcm9wZXJ0aWVzXG4gIGNvbnN0IGdldEN1cnJlbnRQcm9wZXJ0aWVzID0gKCkgPT4ge1xuICAgIHJldHVybiBmaWx0ZXJlZFByb3BlcnRpZXM7XG4gIH07XG5cbiAgLy8gUmVuZGVyaXphciBlc3RhZG8gZGUgY2FyZ2FcbiAgaWYgKGxvYWRpbmcpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweS0xMiBmbGV4IGp1c3RpZnktY2VudGVyIGl0ZW1zLWNlbnRlciBtaW4taC1bNjB2aF1cIj5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy13aGl0ZS8xMCBiYWNrZHJvcC1ibHVyLXNtIHAtOCByb3VuZGVkLXhsIHNoYWRvdy1sZyB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYW5pbWF0ZS1zcGluIHJvdW5kZWQtZnVsbCBoLTE2IHctMTYgYm9yZGVyLXQtMiBib3JkZXItYi0yIGJvcmRlci1hbWJlci00MDAgbWItNFwiPjwvZGl2PlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyB0ZXh0LXdoaXRlIG1iLTJcIj5DYXJnYW5kbyBwcm9waWVkYWRlcy4uLjwvcD5cbiAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTMwMFwiPkVzdG8gcHVlZGUgdGFyZGFyIHVub3Mgc2VndW5kb3M8L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFJlbmRlcml6YXIgZXN0YWRvIGRlIGVycm9yXG4gIGlmIChlcnJvcikge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbnRhaW5lciBteC1hdXRvIHB5LTEyIGZsZXgganVzdGlmeS1jZW50ZXIgaXRlbXMtY2VudGVyIG1pbi1oLVs2MHZoXVwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLXdoaXRlLzEwIGJhY2tkcm9wLWJsdXItc20gcC04IHJvdW5kZWQteGwgc2hhZG93LWxnIHRleHQtY2VudGVyIG1heC13LW1kXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtY29sIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXJlZC01MDAgdGV4dC02eGwgbWItNFwiPlxuICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtZGkgbWRpLWFsZXJ0LWNpcmNsZVwiPjwvaT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC13aGl0ZSBmb250LXNlbWlib2xkIG1iLTJcIj5BbGdvIHNhbGnDsyBtYWw8L2gzPlxuICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMCBtYi02XCI+e2Vycm9yfTwvcD5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgICAgICAgICAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgICAgICAgICAgIHNldEluaXRpYWxpemVkKGZhbHNlKTtcbiAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNiBweS0yIGJnLWFtYmVyLTUwMCBob3ZlcjpiZy1hbWJlci02MDAgdGV4dC13aGl0ZSByb3VuZGVkLWxnIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVpbnRlbnRhclxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgKTtcbiAgfVxuXG4gIC8vIFNpIG5vIGhheSBwcm9waWVkYWRlcyBwYXJhIG1vc3RyYXJcbiAgaWYgKCFBcnJheS5pc0FycmF5KHByb3BlcnRpZXMpIHx8IHByb3BlcnRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIDxIZWFkPlxuICAgICAgICAgIDx0aXRsZT5Qcm9waWVkYWRlcyBubyBkaXNwb25pYmxlcyB8IEdvemEgTWFkcmlkPC90aXRsZT5cbiAgICAgICAgICA8bWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiQWN0dWFsbWVudGUgbm8gaGF5IHByb3BpZWRhZGVzIGRpc3BvbmlibGVzLiBQb3IgZmF2b3IsIHZ1ZWx2ZSBhIGNvbnN1bHRhciBtw6FzIHRhcmRlIG8gY29udGFjdGEgY29uIG5vc290cm9zIHBhcmEgYXl1ZGFydGUgYSBlbmNvbnRyYXIgdHUgcHJvcGllZGFkIGlkZWFsLlwiIC8+XG4gICAgICAgICAgPG1ldGEgbmFtZT1cInJvYm90c1wiIGNvbnRlbnQ9XCJub2luZGV4LGZvbGxvd1wiIC8+XG4gICAgICAgIDwvSGVhZD5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweS0xMlwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgbWItNFwiPk5vIGhheSBwcm9waWVkYWRlcyBkaXNwb25pYmxlczwvaDE+XG4gICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNjAwIG1iLThcIj5Qb3IgZmF2b3IsIHZ1ZWx2ZSBhIGNvbnN1bHRhciBtw6FzIHRhcmRlLjwvcD5cbiAgICAgICAgICAgIDxidXR0b24gXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKX0gXG4gICAgICAgICAgICAgIGNsYXNzTmFtZT1cImJnLWFtYXJpbGxvIGhvdmVyOmJnLWFtYXJpbGxvLzgwIHRleHQtd2hpdGUgZm9udC1ib2xkIHB5LTIgcHgtNCByb3VuZGVkXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgUmVjYXJnYXIgcMOhZ2luYVxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC8+XG4gICAgKTtcbiAgfVxuXG4gIC8vIEdlbmVyYXIgU2NoZW1hLm9yZyBKU09OLUxEXG4gIGNvbnN0IHByb3BlcnR5TGlzdFNjaGVtYSA9IGdlbmVyYXRlUHJvcGVydHlMaXN0U2NoZW1hKCk7XG5cbiAgcmV0dXJuIChcbiAgICA8PlxuICAgICAgPEhlYWQ+XG4gICAgICAgIDx0aXRsZT57cGFnZVRpdGxlfTwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e3BhZ2VEZXNjcmlwdGlvbn0gLz5cbiAgICAgICAgPGxpbmsgcmVsPVwiY2Fub25pY2FsXCIgaHJlZj17Y3VycmVudFVybH0gLz5cbiAgICAgICAgXG4gICAgICAgIHsvKiBPcGVuIEdyYXBoIHRhZ3MgKi99XG4gICAgICAgIDxtZXRhIHByb3BlcnR5PVwib2c6dHlwZVwiIGNvbnRlbnQ9XCJ3ZWJzaXRlXCIgLz5cbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzp0aXRsZVwiIGNvbnRlbnQ9e3BhZ2VUaXRsZX0gLz5cbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzpkZXNjcmlwdGlvblwiIGNvbnRlbnQ9e3BhZ2VEZXNjcmlwdGlvbn0gLz5cbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzp1cmxcIiBjb250ZW50PXtjdXJyZW50VXJsfSAvPlxuICAgICAgICA8bWV0YSBwcm9wZXJ0eT1cIm9nOmltYWdlXCIgY29udGVudD1cImh0dHBzOi8vd3d3LmdvemFtYWRyaWQuY29tL29nLWltYWdlLXByb3BlcnRpZXMuanBnXCIgLz5cbiAgICAgICAgPG1ldGEgcHJvcGVydHk9XCJvZzpzaXRlX25hbWVcIiBjb250ZW50PVwiR296YSBNYWRyaWRcIiAvPlxuICAgICAgICBcbiAgICAgICAgey8qIFR3aXR0ZXIgQ2FyZCB0YWdzICovfVxuICAgICAgICA8bWV0YSBuYW1lPVwidHdpdHRlcjpjYXJkXCIgY29udGVudD1cInN1bW1hcnlfbGFyZ2VfaW1hZ2VcIiAvPlxuICAgICAgICA8bWV0YSBuYW1lPVwidHdpdHRlcjp0aXRsZVwiIGNvbnRlbnQ9e3BhZ2VUaXRsZX0gLz5cbiAgICAgICAgPG1ldGEgbmFtZT1cInR3aXR0ZXI6ZGVzY3JpcHRpb25cIiBjb250ZW50PXtwYWdlRGVzY3JpcHRpb259IC8+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJ0d2l0dGVyOmltYWdlXCIgY29udGVudD1cImh0dHBzOi8vd3d3LmdvemFtYWRyaWQuY29tL3R3aXR0ZXItaW1hZ2UtcHJvcGVydGllcy5qcGdcIiAvPlxuICAgICAgICBcbiAgICAgICAgey8qIFNjaGVtYS5vcmcgc3RydWN0dXJlZCBkYXRhICovfVxuICAgICAgICB7cHJvcGVydHlMaXN0U2NoZW1hICYmIChcbiAgICAgICAgICA8c2NyaXB0XG4gICAgICAgICAgICB0eXBlPVwiYXBwbGljYXRpb24vbGQranNvblwiXG4gICAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTD17eyBfX2h0bWw6IEpTT04uc3RyaW5naWZ5KHByb3BlcnR5TGlzdFNjaGVtYSkgfX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgPC9IZWFkPlxuXG4gICAgICB7LyogRm9uZG8gKi99XG4gICAgICA8ZGl2IFxuICAgICAgICBjbGFzc05hbWU9XCJmaXhlZCBpbnNldC0wIHotMCBvcGFjaXR5LTEwMCBiZy1jb3ZlciBiZy1jZW50ZXJcIlxuICAgICAgICBzdHlsZT17e1xuICAgICAgICAgIGJhY2tncm91bmRJbWFnZTogXCJ1cmwoJy9nb3phbWFkcmlkd3AyLmpwZycpXCIsXG4gICAgICAgICAgYmFja2dyb3VuZEF0dGFjaG1lbnQ6IFwiZml4ZWRcIixcbiAgICAgICAgfX1cbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgID48L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBtaW4taC1zY3JlZW4gcHktOFwiPlxuICAgICAgICA8QW5pbWF0ZWRPblNjcm9sbD5cbiAgICAgICAgICA8bWFpbiBjbGFzc05hbWU9XCJyZWxhdGl2ZSBjb250YWluZXIgbXgtYXV0byBweC0zXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImxheW91dC1zcGVjaW5nXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWQ6ZmxleCBqdXN0aWZ5LWNlbnRlciBpdGVtcy1jZW50ZXIgbWItOFwiPlxuICAgICAgICAgICAgICAgIDxoMSBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LXNlbWlib2xkIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICBQcm9waWVkYWRlcyBpbm1vYmlsaWFyaWFzIGVuIHZlbnRhIHkgYWxxdWlsZXJcbiAgICAgICAgICAgICAgICA8L2gxPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogQnVzY2Fkb3IgcG9yIGRpcmVjY2nDs24gKi99XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItOCBmbGV4IGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzTmFtZT1cInNyLW9ubHlcIiBodG1sRm9yPVwicHJvcGVydHktc2VhcmNoXCI+QnVzY2FyIHByb3BpZWRhZGVzIHBvciBkaXJlY2Npw7NuPC9sYWJlbD5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIGlkPVwicHJvcGVydHktc2VhcmNoXCJcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnVzY2FyIHBvciBkaXJlY2Npw7NuLi4uXCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hUZXJtfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hUZXJtKGUudGFyZ2V0LnZhbHVlKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBtYXgtdy1tZCBwLTMgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCByb3VuZGVkLWxnIHNoYWRvdy1tZCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmcteWVsbG93LTUwMFwiXG4gICAgICAgICAgICAgICAgICBhcmlhLWxhYmVsPVwiQnVzY2FyIHByb3BpZWRhZGVzIHBvciBkaXJlY2Npw7NuXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgICB7LyogTGlzdGEgZGUgcHJvcGllZGFkZXMgZW4gZ3JpZCAqL31cbiAgICAgICAgICAgICAge2ZpbHRlcmVkUHJvcGVydGllcyAmJiBmaWx0ZXJlZFByb3BlcnRpZXMubGVuZ3RoID4gMCA/IChcbiAgICAgICAgICAgICAgICA8c2VjdGlvbiBcbiAgICAgICAgICAgICAgICAgIGFyaWEtbGFiZWw9XCJMaXN0YWRvIGRlIHByb3BpZWRhZGVzXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdyaWQgeGw6Z3JpZC1jb2xzLTQgbGc6Z3JpZC1jb2xzLTMgbWQ6Z3JpZC1jb2xzLTIgZ3JpZC1jb2xzLTEgZ2FwLTYgbXQtNlwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAge2dldEN1cnJlbnRQcm9wZXJ0aWVzKCkubWFwKChwcm9wZXJ0eSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGV0ZXJtaW5hciBzaSBlcyB1bmEgcHJvcGllZGFkIGRlIFdvcmRQcmVzcyBvIGRlIE1vbmdvREJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNXb3JkUHJlc3NQcm9wZXJ0eSA9IHByb3BlcnR5LnNvdXJjZSA9PT0gJ3dvb2NvbW1lcmNlJztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNb25nb0RCUHJvcGVydHkgPSBwcm9wZXJ0eS5zb3VyY2UgPT09ICdtb25nb2RiJztcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhZXIgbG9zIGRhdG9zIHNlZ8O6biBlbCB0aXBvIGRlIHByb3BpZWRhZFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpZCA9IGlzV29yZFByZXNzUHJvcGVydHkgPyBwcm9wZXJ0eS5pZCA6IHByb3BlcnR5Ll9pZDtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIC8vIE9idGVuZXIgZWwgdMOtdHVsbyBkZSBsYSBwcm9waWVkYWQgKG5vbWJyZSBkZSBsYSBjYWxsZSBwYXJhIHByb3BpZWRhZGVzIGVzcGHDsW9sYXMpXG4gICAgICAgICAgICAgICAgICAgIGxldCB0aXRsZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc1dvcmRQcmVzc1Byb3BlcnR5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSBwcm9wZXJ0eS5uYW1lIHx8IFwiUHJvcGllZGFkIHNpbiB0w610dWxvXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNb25nb0RCUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICB0aXRsZSA9IHByb3BlcnR5LnRpdGxlIHx8IHByb3BlcnR5Lm5hbWUgfHwgXCJQcm9waWVkYWQgc2luIHTDrXR1bG9cIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gT2J0ZW5lciBsYSBkZXNjcmlwY2nDs25cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVzY3JpcHRpb24gPSBwcm9wZXJ0eS5kZXNjcmlwdGlvbiB8fCBcIlNpbiBkZXNjcmlwY2nDs24gZGlzcG9uaWJsZVwiO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gT2J0ZW5lciBsYSB1YmljYWNpw7NuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGxvY2F0aW9uID0gcHJvcGVydHkubmFtZSB8fCBnZXRDb3JyZWN0TG9jYXRpb24ocHJvcGVydHkpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gRXh0cmFlciBlbCBwcmVjaW8geSBmb3JtYXRlYXIgc2luIGRlY2ltYWxlc1xuICAgICAgICAgICAgICAgICAgICBsZXQgcHJpY2UgPSBcIkNvbnN1bHRhclwiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXb3JkUHJlc3NQcm9wZXJ0eSAmJiBwcm9wZXJ0eS5wcmljZSkge1xuICAgICAgICAgICAgICAgICAgICAgIHByaWNlID0gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdlcy1FUycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0eWxlOiAnY3VycmVuY3knLFxuICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVuY3k6ICdFVVInLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bUZyYWN0aW9uRGlnaXRzOiAwXG4gICAgICAgICAgICAgICAgICAgICAgfSkuZm9ybWF0KHBhcnNlSW50KHByb3BlcnR5LnByaWNlKSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNb25nb0RCUHJvcGVydHkgJiYgcHJvcGVydHkucHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBDb252ZXJ0aXIgZWwgcHJlY2lvIGEgbsO6bWVybyBzaSBlcyB1bmEgY2FkZW5hXG4gICAgICAgICAgICAgICAgICAgICAgbGV0IG51bWVyaWNQcmljZTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByb3BlcnR5LnByaWNlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRWxpbWluYXIgY3VhbHF1aWVyIGNhcsOhY3RlciBxdWUgbm8gc2VhIG7Dum1lcm8gbyBwdW50b1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2xlYW5QcmljZSA9IHByb3BlcnR5LnByaWNlLnJlcGxhY2UoL1teXFxkLi1dL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWVyaWNQcmljZSA9IHBhcnNlRmxvYXQoY2xlYW5QcmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpIGVsIHByZWNpbyBwYXJlY2Ugc2VyIHVuIHByZWNpbyByZWR1Y2lkbyAobWVub3MgZGUgMTAwMDApLCBtdWx0aXBsaWNhcmxvIHBvciAxMDAwXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFc3RvIGVzIHBhcmEgY29ycmVnaXIgY2Fzb3MgZG9uZGUgZWwgcHJlY2lvIHNlIGd1YXJkYSBjb21vIFwiMzUwXCIgZW4gbHVnYXIgZGUgXCIzNTAwMDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihudW1lcmljUHJpY2UpICYmIG51bWVyaWNQcmljZSA8IDEwMDAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG51bWVyaWNQcmljZSA9IG51bWVyaWNQcmljZSAqIDEwMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bWVyaWNQcmljZSA9IHByb3BlcnR5LnByaWNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2kgZWwgcHJlY2lvIHBhcmVjZSBzZXIgdW4gcHJlY2lvIHJlZHVjaWRvIChtZW5vcyBkZSAxMDAwMCksIG11bHRpcGxpY2FybG8gcG9yIDEwMDBcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChudW1lcmljUHJpY2UgPCAxMDAwMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBudW1lcmljUHJpY2UgPSBudW1lcmljUHJpY2UgKiAxMDAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICBwcmljZSA9IG5ldyBJbnRsLk51bWJlckZvcm1hdCgnZXMtRVMnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbmN5OiAnRVVSJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMFxuICAgICAgICAgICAgICAgICAgICAgIH0pLmZvcm1hdChudW1lcmljUHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBPYnRlbmVyIGNhcmFjdGVyw61zdGljYXNcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJlZHJvb21zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGJhdGhyb29tcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGxldCBzaXplID0gMDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXb3JkUHJlc3NQcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEJ1c2NhciBlbiBtZXRhX2RhdGEgcGFyYSBXb3JkUHJlc3NcbiAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvcGVydHkubWV0YV9kYXRhKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsaXZpbmdBcmVhID0gcHJvcGVydHkubWV0YV9kYXRhLmZpbmQobWV0YSA9PiBtZXRhLmtleSA9PT0gXCJsaXZpbmdfYXJlYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJlZHJvb21zRGF0YSA9IHByb3BlcnR5Lm1ldGFfZGF0YS5maW5kKG1ldGEgPT4gbWV0YS5rZXkgPT09IFwiYmVkcm9vbXNcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBiYW5vc0RhdGEgPSBwcm9wZXJ0eS5tZXRhX2RhdGEuZmluZChtZXRhID0+IG1ldGEua2V5ID09PSBcImJhw7Fvc1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IGxpdmluZ0FyZWEgPyBwYXJzZUludChsaXZpbmdBcmVhLnZhbHVlKSB8fCAwIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJlZHJvb21zID0gYmVkcm9vbXNEYXRhID8gcGFyc2VJbnQoYmVkcm9vbXNEYXRhLnZhbHVlKSB8fCAwIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhdGhyb29tcyA9IGJhbm9zRGF0YSA/IHBhcnNlSW50KGJhbm9zRGF0YS52YWx1ZSkgfHwgMCA6IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFNpIGxvcyBiYcOxb3Mgc29uIC0xICh2YWxvciBwb3IgZGVmZWN0byksIGVzdGFibGVjZXIgYSAwXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmF0aHJvb21zIDwgMCkgYmF0aHJvb21zID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaXNNb25nb0RCUHJvcGVydHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICBiZWRyb29tcyA9IHByb3BlcnR5LmJlZHJvb21zIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgYmF0aHJvb21zID0gcHJvcGVydHkuYmF0aHJvb21zIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZSA9IHByb3BlcnR5LnNpemUgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gT2J0ZW5lciBsYSBpbWFnZW4gcHJpbmNpcGFsXG4gICAgICAgICAgICAgICAgICAgIGxldCBtYWluSW1hZ2UgPSAnL2ltZy9kZWZhdWx0LXByb3BlcnR5LWltYWdlLmpwZyc7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNXb3JkUHJlc3NQcm9wZXJ0eSAmJiBwcm9wZXJ0eS5pbWFnZXMgJiYgQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5pbWFnZXMpICYmIHByb3BlcnR5LmltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJbWFnZSA9IHByb3BlcnR5LmltYWdlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlLnNyYyB8fCBmaXJzdEltYWdlLnVybCB8fCBmaXJzdEltYWdlLnNvdXJjZV91cmwgfHwgJy9pbWcvZGVmYXVsdC1wcm9wZXJ0eS1pbWFnZS5qcGcnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc01vbmdvREJQcm9wZXJ0eSAmJiBwcm9wZXJ0eS5pbWFnZXMgJiYgQXJyYXkuaXNBcnJheShwcm9wZXJ0eS5pbWFnZXMpICYmIHByb3BlcnR5LmltYWdlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgZmlyc3RJbWFnZSA9IHByb3BlcnR5LmltYWdlc1swXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlO1xuICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGZpcnN0SW1hZ2UgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluSW1hZ2UgPSBmaXJzdEltYWdlLnNyYyB8fCBmaXJzdEltYWdlLnVybCB8fCBmaXJzdEltYWdlLnNvdXJjZV91cmwgfHwgJy9pbWcvZGVmYXVsdC1wcm9wZXJ0eS1pbWFnZS5qcGcnO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gUHJvY2VzYXIgbGEgVVJMIGRlIGxhIGltYWdlblxuICAgICAgICAgICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGdldFByb3hpZWRJbWFnZVVybChtYWluSW1hZ2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtpZCB8fCBpbmRleH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlSW5WaWV3PXt7IG9wYWNpdHk6IDEsIHk6IDAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZGVsYXk6IE1hdGgubWluKGluZGV4ICogMC4wNSwgMC4zKSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgdmlld3BvcnQ9e3sgb25jZTogdHJ1ZSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYmctd2hpdGUvNSBiYWNrZHJvcC1ibHVyLXNtIHJvdW5kZWQteGwgc2hhZG93LWxnIGhvdmVyOnNoYWRvdy14bCB0cmFuc2l0aW9uLWFsbCBkdXJhdGlvbi0zMDAgb3ZlcmZsb3ctaGlkZGVuIGhvdmVyOnNjYWxlLVsxLjAzXVwiXG4gICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgPExpbmtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgaHJlZj17YC9wcm9wZXJ0eS8ke2lkfWB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImdyb3VwIGJsb2NrIHJvdW5kZWQteGwgZGFyazp0ZXh0LXdoaXRlIGRhcms6aG92ZXI6dGV4dC1ibGFjayBiZy13aGl0ZSBkYXJrOmJnLXNsYXRlLTkwMCBzaGFkb3cgaG92ZXI6YmctZ29sZCBkYXJrOmhvdmVyOnNoYWRvdy14bCBkYXJrOnNoYWRvdy1ncmF5LTcwMCBkYXJrOmhvdmVyOnNoYWRvdy1ncmF5LTcwMCBvdmVyZmxvdy1oaWRkZW4gZWFzZS1pbi1vdXQgZHVyYXRpb24tNTAwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBQcmV2ZW5pciBsYSBuYXZlZ2FjacOzbiBwb3IgZGVmZWN0byB5IHVzYXIgcHJvZ3JhbcOhdGljYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBMaW1waWFyIGVsIElEIHkgYXNlZ3VyYXJzZSBxdWUgZXMgdW5hIGNhZGVuYVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsZWFuSWQgPSBTdHJpbmcoaWQpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBEZXRlcm1pbmFyIGVsIG9yaWdlbiBkZSBsYSBwcm9waWVkYWQgYmFzYWRvIGVuIGVsIElEXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2kgY29udGllbmUgbGV0cmFzIHkgdGllbmUgbcOhcyBkZSAxMCBjYXJhY3RlcmVzLCBlcyBkZSBNb25nb0RCXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNNb25nb1Byb3BlcnR5ID0gL1thLXpBLVpdLy50ZXN0KGNsZWFuSWQpICYmIGNsZWFuSWQubGVuZ3RoID4gMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYE5hdmVnYW5kbyBhIHByb3BpZWRhZCAke2lzTW9uZ29Qcm9wZXJ0eSA/ICdNb25nb0RCJyA6ICdXb29Db21tZXJjZSd9OmAsIGNsZWFuSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENyZWFyIFVSTCBjb24gZWwgb3JpZ2VuIGNvcnJlY3RvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gYC9wcm9wZXJ0eS8ke2NsZWFuSWR9P3NvdXJjZT0ke2lzTW9uZ29Qcm9wZXJ0eSA/ICdtb25nb2RiJyA6ICd3b29jb21tZXJjZSd9YDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnVVJMIGRlIG5hdmVnYWNpw7NuOicsIHVybCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gTmF2ZWdhciBwcm9ncmFtw6F0aWNhbWVudGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgdy1mdWxsIGFzcGVjdC12aWRlb1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPFByb3BlcnR5SW1hZ2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3JjPXtpbWFnZVVybH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbHQ9e3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LWZ1bGwgaC1mdWxsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIHRvcC00IGVuZC00XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eyhlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQXF1w60gbGEgbMOzZ2ljYSBwYXJhIFwibGlrZVwiIHNpIGxvIGRlc2Vhc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJidG4gYnRuLWljb24gYmctd2hpdGUgZGFyazpiZy1zbGF0ZS05MDAgc2hhZG93IGRhcms6c2hhZG93LWdyYXktNzAwIHJvdW5kZWQtZnVsbCB0ZXh0LXNsYXRlLTEwMCBkYXJrOnRleHQtc2xhdGUtNzAwIGZvY3VzOnRleHQtcmVkLTYwMCBkYXJrOmZvY3VzOnRleHQtcmVkLTYwMCBob3Zlcjp0ZXh0LXJlZC02MDAgZGFyazpob3Zlcjp0ZXh0LXJlZC02MDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzc05hbWU9XCJtZGkgbWRpLWhlYXJ0IHRleHQtWzIwcHhdXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYi02XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogTW9zdHJhciBsYSBkaXJlY2Npw7NuIGNvbW8gdMOtdHVsbyBwcmluY2lwYWwgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwidGV4dC1sZyBob3Zlcjp0ZXh0LWFtYXJpbGxvIGZvbnQtbWVkaXVtIGVhc2UtaW4tb3V0IGR1cmF0aW9uLTUwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bG9jYXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIE1vc3RyYXIgZWwgdMOtdHVsbyBvcmlnaW5hbCBjb21vIHN1YnTDrXR1bG8gc2kgZXMgZGlmZXJlbnRlIGRlIGxhIGRpcmVjY2nDs24gKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7dGl0bGUgIT09IGxvY2F0aW9uICYmIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInB5LTYgYm9yZGVyLXkgYm9yZGVyLXNsYXRlLTEwMCBkYXJrOmJvcmRlci1ncmF5LTgwMCBmbGV4IGZsZXgtd3JhcCBpdGVtcy1jZW50ZXIgbGlzdC1ub25lXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogU3VwZXJmaWNpZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBtZS00IG1iLTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZhUnVsZXJDb21iaW5lZCBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBtZS0yIHRleHQtYW1hcmlsbG9cIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJibG9jayB0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+U3VwZXJmaWNpZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7c2l6ZX0gbcKyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogSGFiaXRhY2lvbmVzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1lLTQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmFCZWQgY2xhc3NOYW1lPVwidGV4dC0yeGwgbWUtMiB0ZXh0LWFtYXJpbGxvXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiYmxvY2sgdGV4dC14cyB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPkhhYml0YWNpb25lczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7YmVkcm9vbXN9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQmHDsW9zICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIG1lLTQgbWItMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmFCYXRoIGNsYXNzTmFtZT1cInRleHQtMnhsIG1lLTIgdGV4dC1hbWFyaWxsb1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImJsb2NrIHRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5CYcOxb3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2JhdGhyb29tc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzTmFtZT1cInB0LTYgZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtY2VudGVyIGxpc3Qtbm9uZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlByZWNpbzwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC1sZyBmb250LW1lZGl1bSBmbGV4IGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGYUV1cm9TaWduIGNsYXNzTmFtZT1cInRleHQtYW1hcmlsbG8gbXItMVwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3ByaWNlfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9MaW5rPlxuICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwXCI+XG4gICAgICAgICAgICAgICAgICBObyBoYXkgcHJvcGllZGFkZXMgZGlzcG9uaWJsZXMuXG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICApfVxuXG4gICAgICAgICAgICAgIHsvKiBDb21wb25lbnRlIGRlIHBhZ2luYWNpw7NuICovfVxuICAgICAgICAgICAgICA8UGFnaW5hdGlvblxuICAgICAgICAgICAgICAgIHRvdGFsUGFnZXM9e3RvdGFsUGFnZXN9XG4gICAgICAgICAgICAgICAgY3VycmVudFBhZ2U9e2N1cnJlbnRQYWdlfVxuICAgICAgICAgICAgICAgIG9uUGFnZUNoYW5nZT17aGFuZGxlUGFnZUNoYW5nZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvbWFpbj5cbiAgICAgICAgPC9BbmltYXRlZE9uU2Nyb2xsPlxuICAgICAgPC9kaXY+XG4gICAgPC8+XG4gICk7XG59XG4iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsInVzZVJlZiIsIkxpbmsiLCJJbWFnZSIsInVzZVJvdXRlciIsIm1vdGlvbiIsIkZhQmVkIiwiRmFCYXRoIiwiRmFSdWxlckNvbWJpbmVkIiwiRmFNYXBNYXJrZXJBbHQiLCJGYUV1cm9TaWduIiwiQW5pbWF0ZWRPblNjcm9sbCIsImdldFByb3BlcnR5UG9zdHMiLCJQcm9wZXJ0eUltYWdlIiwiSGVhZCIsInRleHRTaGFkb3dTdHlsZSIsInRleHRTaGFkb3ciLCJ0ZXh0U2hhZG93TGlnaHRTdHlsZSIsIlBhZ2luYXRpb24iLCJ0b3RhbFBhZ2VzIiwiY3VycmVudFBhZ2UiLCJvblBhZ2VDaGFuZ2UiLCJyb3V0ZXIiLCJnZXRQYWdlTnVtYmVycyIsInBhZ2VzIiwiaSIsInB1c2giLCJoYW5kbGVQYWdlQ2hhbmdlIiwicGFnZSIsInNldFRpbWVvdXQiLCJwYXRobmFtZSIsInF1ZXJ5IiwidW5kZWZpbmVkIiwic2Nyb2xsIiwiZGl2IiwiY2xhc3NOYW1lIiwibmF2IiwiYXJpYS1sYWJlbCIsInVsIiwibGkiLCJidXR0b24iLCJvbkNsaWNrIiwiZGlzYWJsZWQiLCJhcmlhLWhpZGRlbiIsIm1hcCIsInBhZ2VOdW1iZXIiLCJhcmlhLWN1cnJlbnQiLCJnZXRQcm94aWVkSW1hZ2VVcmwiLCJ1cmwiLCJzcmMiLCJzdGFydHNXaXRoIiwiYmFzZVVybCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiZ2V0Q29ycmVjdExvY2F0aW9uIiwicHJvcGVydHkiLCJfaWQiLCJsb2NhdGlvbiIsImFkZHJlc3MiLCJtZXRhX2RhdGEiLCJhZGRyZXNzTWV0YSIsImZpbmQiLCJtZXRhIiwia2V5IiwidmFsdWUiLCJuYW1lIiwic2hvcnRfZGVzY3JpcHRpb24iLCJpbmNsdWRlcyIsImV4dHJhY3RQcm9wZXJ0eVR5cGVzIiwicHJvcGVydGllcyIsIkFycmF5IiwiaXNBcnJheSIsImxlbmd0aCIsInR5cGVzIiwicCIsInR5cGVQcm9wZXJ0eSIsInR5cGVNZXRhIiwiZmlsdGVyIiwiQm9vbGVhbiIsIlNldCIsImV4dHJhY3RMb2NhdGlvbnMiLCJsb2NhdGlvbnMiLCJsb2MiLCJwYXJ0cyIsInNwbGl0IiwidHJpbSIsIlByb3BlcnR5UGFnZSIsInNldFByb3BlcnRpZXMiLCJsb2FkaW5nIiwic2V0TG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJzZWFyY2hUZXJtIiwic2V0U2VhcmNoVGVybSIsInNldEN1cnJlbnRQYWdlIiwic2V0VG90YWxQYWdlcyIsImN1cnJlbnRVcmwiLCJzZXRDdXJyZW50VXJsIiwiaW5pdGlhbGl6ZWQiLCJzZXRJbml0aWFsaXplZCIsInBhZ2VUaXRsZSIsInNldFBhZ2VUaXRsZSIsInBhZ2VEZXNjcmlwdGlvbiIsInNldFBhZ2VEZXNjcmlwdGlvbiIsInByb3BlcnRpZXNQZXJQYWdlIiwid2luZG93IiwiaHJlZiIsImdlbmVyYXRlUHJvcGVydHlMaXN0U2NoZW1hIiwicHJvcGVydHlUeXBlcyIsImluZGV4IiwiaXNXb3JkUHJlc3NQcm9wZXJ0eSIsInNvdXJjZSIsImlzTW9uZ29EQlByb3BlcnR5IiwiaWQiLCJ0aXRsZSIsInByaWNlIiwiSW50bCIsIk51bWJlckZvcm1hdCIsInN0eWxlIiwiY3VycmVuY3kiLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJmb3JtYXQiLCJwYXJzZUludCIsIm51bWVyaWNQcmljZSIsImNsZWFuUHJpY2UiLCJyZXBsYWNlIiwicGFyc2VGbG9hdCIsImlzTmFOIiwibWFpbkltYWdlIiwiaW1hZ2VzIiwiZmlyc3RJbWFnZSIsInNvdXJjZV91cmwiLCJpbWFnZVVybCIsInByaWNlVmFsdWUiLCJmZXRjaFByb3BlcnRpZXMiLCJpc1JlYWR5IiwiZGF0YSIsIkVycm9yIiwibW9uZ29EQlByb3BlcnRpZXMiLCJ3b3JkUHJlc3NQcm9wZXJ0aWVzIiwicmVvcmRlcmVkRGF0YSIsIk1hdGgiLCJjZWlsIiwic2xpY2UiLCJqb2luIiwiZXJyIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJmaWx0ZXJlZFByb3BlcnRpZXMiLCJzZWFyY2hGaWVsZCIsInRvTG93ZXJDYXNlIiwiZ2V0Q3VycmVudFByb3BlcnRpZXMiLCJoMyIsImNvbnRlbnQiLCJoMSIsInJlbG9hZCIsInByb3BlcnR5TGlzdFNjaGVtYSIsImxpbmsiLCJyZWwiLCJzY3JpcHQiLCJ0eXBlIiwiZGFuZ2Vyb3VzbHlTZXRJbm5lckhUTUwiLCJfX2h0bWwiLCJKU09OIiwic3RyaW5naWZ5IiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZEF0dGFjaG1lbnQiLCJtYWluIiwibGFiZWwiLCJodG1sRm9yIiwiaW5wdXQiLCJwbGFjZWhvbGRlciIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInNlY3Rpb24iLCJkZXNjcmlwdGlvbiIsImJlZHJvb21zIiwiYmF0aHJvb21zIiwic2l6ZSIsImxpdmluZ0FyZWEiLCJiZWRyb29tc0RhdGEiLCJiYW5vc0RhdGEiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJ3aGlsZUluVmlldyIsInRyYW5zaXRpb24iLCJkZWxheSIsIm1pbiIsInZpZXdwb3J0Iiwib25jZSIsInByZXZlbnREZWZhdWx0IiwiY2xlYW5JZCIsIlN0cmluZyIsImlzTW9uZ29Qcm9wZXJ0eSIsInRlc3QiLCJsb2ciLCJhbHQiLCJzdG9wUHJvcGFnYXRpb24iLCJzcGFuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/components/propiedades/PropertyPage.jsx\n"));

/***/ }),

/***/ "./src/pages/api.js":
/*!**************************!*\
  !*** ./src/pages/api.js ***!
  \**************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   API_URL: function() { return /* binding */ API_URL; },\n/* harmony export */   WC_CONSUMER_KEY: function() { return /* binding */ WC_CONSUMER_KEY; },\n/* harmony export */   WC_CONSUMER_SECRET: function() { return /* binding */ WC_CONSUMER_SECRET; },\n/* harmony export */   \"default\": function() { return /* binding */ handler; },\n/* harmony export */   deleteBlogPost: function() { return /* binding */ deleteBlogPost; },\n/* harmony export */   getBlogById: function() { return /* binding */ getBlogById; },\n/* harmony export */   getBlogPosts: function() { return /* binding */ getBlogPosts; },\n/* harmony export */   getCountryPrefix: function() { return /* binding */ getCountryPrefix; },\n/* harmony export */   getPropertyById: function() { return /* binding */ getPropertyById; },\n/* harmony export */   getPropertyPosts: function() { return /* binding */ getPropertyPosts; },\n/* harmony export */   handleApiError: function() { return /* binding */ handleApiError; },\n/* harmony export */   sendEmail: function() { return /* binding */ sendEmail; },\n/* harmony export */   sendPropertyEmail: function() { return /* binding */ sendPropertyEmail; }\n/* harmony export */ });\n/* provided dependency */ var process = __webpack_require__(/*! process */ \"./node_modules/next/dist/build/polyfills/process.js\");\n/* provided dependency */ var Buffer = __webpack_require__(/*! buffer */ \"./node_modules/next/dist/compiled/buffer/index.js\")[\"Buffer\"];\n// Exportar solo las funciones de utilidad sin crear una ruta API\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || \"http://localhost:3000\";\n// Definir las claves de API de WooCommerce\nconst WC_CONSUMER_KEY = process.env.NEXT_PUBLIC_NEXT_PUBLIC_WOO_COMMERCE_KEY;\nconst WC_CONSUMER_SECRET = \"cs_f194d11b41ca92cdd356145705fede711cd233e5\";\n// Función auxiliar para manejar errores\nconst handleApiError = (error, functionName)=>{\n    console.error(\"Error en \".concat(functionName, \":\"), error);\n    if (error.response) {\n        // El servidor respondió con un código de error\n        throw new Error(\"Error \".concat(error.response.status, \": \").concat(error.response.statusText));\n    } else if (error.request) {\n        // La petición fue hecha pero no se recibió respuesta\n        throw new Error(\"No se recibi\\xf3 respuesta del servidor\");\n    } else {\n        // Error al configurar la petición\n        throw new Error(error.message || \"Error desconocido\");\n    }\n};\nasync function getCountryPrefix() {\n    try {\n        console.log(\"Intentando obtener prefijos de pa\\xeds desde la API local\");\n        // Usar AbortController para evitar bloqueos\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>controller.abort(), 5000); // 5 segundos timeout\n        const response = await fetch(\"\".concat(API_URL, \"/prefix\"), {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            signal: controller.signal\n        });\n        clearTimeout(timeoutId);\n        // Si la respuesta fue exitosa y es JSON, devolver los datos\n        if (response.ok) {\n            const contentType = response.headers.get(\"content-type\");\n            if (contentType && contentType.includes(\"application/json\")) {\n                return await response.json();\n            }\n        }\n        // Si algo falla, devolver prefijos por defecto\n        console.log(\"Usando prefijos de pa\\xeds por defecto\");\n        return getDefaultCountryPrefixes();\n    } catch (error) {\n        console.error(\"Error al obtener prefijos de pa\\xeds:\", error.message);\n        // En caso de error, devolver prefijos por defecto\n        return getDefaultCountryPrefixes();\n    }\n}\n// Esta es la forma correcta, un junior podría hacerlo así:\nasync function getBlogPosts() {\n    // Array donde guardaremos todos los blogs\n    let allBlogs = [];\n    // 1. Intentar obtener blogs de WordPress usando nuestro proxy\n    try {\n        console.log(\"Obteniendo blogs de WordPress...\");\n        // Usar el proxy con el parámetro endpoint=wp para indicar que queremos la API de WordPress\n        const wpResponse = await fetch(\"/api/wordpress-proxy?endpoint=wp&path=posts&_embed=true\");\n        console.log(\"Respuesta de WordPress:\", {\n            status: wpResponse.status,\n            statusText: wpResponse.statusText\n        });\n        if (wpResponse.ok) {\n            const wpBlogs = await wpResponse.json();\n            console.log(\"Obtenidos \".concat(wpBlogs.length, \" blogs de WordPress\"));\n            // Añadir los blogs de WordPress al array, con la fuente marcada\n            wpBlogs.forEach((blog)=>{\n                var _blog_title, _blog_title1, _blog_content, _blog_excerpt;\n                // Procesar la imagen destacada\n                let featuredImage = null;\n                // Intentar obtener la imagen destacada desde _embedded\n                if (blog._embedded && blog._embedded[\"wp:featuredmedia\"] && blog._embedded[\"wp:featuredmedia\"][0]) {\n                    const media = blog._embedded[\"wp:featuredmedia\"][0];\n                    if (media.media_details && media.media_details.sizes) {\n                        // Buscar la mejor imagen disponible\n                        const sizePriority = [\n                            \"medium_large\",\n                            \"medium\",\n                            \"large\",\n                            \"full\"\n                        ];\n                        for (const size of sizePriority){\n                            if (media.media_details.sizes[size]) {\n                                featuredImage = media.media_details.sizes[size].source_url;\n                                break;\n                            }\n                        }\n                    }\n                    // Si no se encontró ninguna imagen en los tamaños, usar la URL de origen\n                    if (!featuredImage && media.source_url) {\n                        featuredImage = media.source_url;\n                    }\n                }\n                // Si no hay imagen destacada, intentar obtenerla de uagb_featured_image_src\n                if (!featuredImage && blog.uagb_featured_image_src) {\n                    var _blog_uagb_featured_image_src_medium, _blog_uagb_featured_image_src_full;\n                    featuredImage = ((_blog_uagb_featured_image_src_medium = blog.uagb_featured_image_src.medium) === null || _blog_uagb_featured_image_src_medium === void 0 ? void 0 : _blog_uagb_featured_image_src_medium[0]) || ((_blog_uagb_featured_image_src_full = blog.uagb_featured_image_src.full) === null || _blog_uagb_featured_image_src_full === void 0 ? void 0 : _blog_uagb_featured_image_src_full[0]);\n                }\n                // Si aún no hay imagen, usar una imagen por defecto\n                if (!featuredImage) {\n                    featuredImage = \"/img/default-blog-image.jpg\";\n                }\n                // Crear el objeto de blog con la imagen procesada\n                allBlogs.push({\n                    ...blog,\n                    image: {\n                        src: featuredImage,\n                        alt: ((_blog_title = blog.title) === null || _blog_title === void 0 ? void 0 : _blog_title.rendered) || blog.title || \"Imagen del blog\"\n                    },\n                    title: ((_blog_title1 = blog.title) === null || _blog_title1 === void 0 ? void 0 : _blog_title1.rendered) || blog.title || \"\",\n                    content: ((_blog_content = blog.content) === null || _blog_content === void 0 ? void 0 : _blog_content.rendered) || blog.content || \"\",\n                    excerpt: ((_blog_excerpt = blog.excerpt) === null || _blog_excerpt === void 0 ? void 0 : _blog_excerpt.rendered) || blog.excerpt || \"\",\n                    source: \"wordpress\"\n                });\n            });\n        } else {\n            const errorData = await wpResponse.json();\n            console.error(\"Error al obtener blogs de WordPress: \".concat(wpResponse.status), errorData);\n        }\n    } catch (error) {\n        console.error(\"Error con WordPress:\", error.message);\n    }\n    // 2. Intentar obtener blogs de MongoDB usando la API directa\n    try {\n        console.log(\"Obteniendo blogs de MongoDB...\");\n        // Usar la ruta correcta con API_URL\n        const mongoResponse = await fetch(\"\".concat(API_URL, \"/blog\"), {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            }\n        });\n        console.log(\"Respuesta de MongoDB:\", {\n            status: mongoResponse.status,\n            statusText: mongoResponse.statusText\n        });\n        if (mongoResponse.ok) {\n            const contentType = mongoResponse.headers.get(\"content-type\");\n            if (contentType && contentType.includes(\"application/json\")) {\n                const mongoBlogs = await mongoResponse.json();\n                console.log(\"Obtenidos \".concat(mongoBlogs.length, \" blogs de MongoDB\"));\n                // Añadir los blogs de MongoDB al array, con la fuente marcada\n                mongoBlogs.forEach((blog)=>{\n                    // Procesar las imágenes según el esquema\n                    let blogImages = [];\n                    // Verificar si el blog tiene imágenes\n                    if (blog.images && Array.isArray(blog.images) && blog.images.length > 0) {\n                        // Usar las imágenes del esquema\n                        blogImages = blog.images.map((img)=>{\n                            // Asegurarse de que la URL sea absoluta\n                            const src = typeof img === \"string\" ? img : img.src || \"\";\n                            const imgSrc = src.startsWith(\"http\") ? src : \"\".concat(API_URL).concat(src.startsWith(\"/\") ? \"\" : \"/\").concat(src);\n                            return {\n                                src: imgSrc,\n                                alt: typeof img === \"object\" && img.alt ? img.alt : blog.title || \"Imagen del blog\"\n                            };\n                        });\n                    } else if (blog.image) {\n                        // Compatibilidad con el formato anterior\n                        if (typeof blog.image === \"string\") {\n                            // Si la imagen es una cadena, crear un objeto de imagen\n                            const baseUrl = API_URL;\n                            const imageSrc = blog.image.startsWith(\"http\") ? blog.image : \"\".concat(baseUrl).concat(blog.image.startsWith(\"/\") ? \"\" : \"/\").concat(blog.image);\n                            blogImages = [\n                                {\n                                    src: imageSrc,\n                                    alt: blog.title || \"Imagen del blog\"\n                                }\n                            ];\n                        } else {\n                            // Si ya es un objeto, asegurarse de que la URL sea absoluta\n                            const baseUrl = API_URL;\n                            const src = blog.image.src || blog.image.url || \"\";\n                            blogImages = [\n                                {\n                                    ...blog.image,\n                                    src: src.startsWith(\"http\") ? src : \"\".concat(baseUrl).concat(src.startsWith(\"/\") ? \"\" : \"/\").concat(src)\n                                }\n                            ];\n                        }\n                    } else {\n                        // Si no hay imágenes, usar una por defecto\n                        blogImages = [\n                            {\n                                src: \"/img/default-blog-image.jpg\",\n                                alt: blog.title || \"Imagen del blog\"\n                            }\n                        ];\n                    }\n                    // Asegurarse de que el blog tenga todos los campos necesarios\n                    allBlogs.push({\n                        ...blog,\n                        _id: blog._id || \"mongo-\".concat(Date.now(), \"-\").concat(Math.random().toString(36).substring(2, 9)),\n                        title: blog.title || \"Sin t\\xedtulo\",\n                        content: blog.content || blog.description || \"\",\n                        description: blog.description || blog.excerpt || \"\",\n                        date: blog.createdAt || blog.date || new Date().toISOString(),\n                        dateFormatted: blog.dateFormatted || (blog.createdAt ? new Date(blog.createdAt).toLocaleDateString(\"es-ES\") : new Date().toLocaleDateString(\"es-ES\")),\n                        images: blogImages,\n                        image: blogImages[0] || {\n                            src: \"/img/default-blog-image.jpg\",\n                            alt: \"Imagen del blog\"\n                        },\n                        source: \"mongodb\"\n                    });\n                });\n            } else {\n                console.error(\"La respuesta no es JSON v\\xe1lido:\", await mongoResponse.text());\n            }\n        } else {\n            try {\n                const errorText = await mongoResponse.text();\n                console.error(\"Error al obtener blogs de MongoDB: \".concat(mongoResponse.status), errorText);\n            } catch (e) {\n                console.error(\"Error al obtener blogs de MongoDB: \".concat(mongoResponse.status), mongoResponse.statusText);\n            }\n        }\n    } catch (error) {\n        console.error(\"Error con MongoDB:\", error.message);\n    }\n    console.log(\"Total de blogs obtenidos: \".concat(allBlogs.length));\n    return allBlogs;\n}\nasync function deleteBlogPost(id) {\n    const response = await fetch(\"\".concat(API_URL, \"/blog/\").concat(id), {\n        method: \"DELETE\"\n    });\n    return response.json();\n}\nasync function getBlogById(id) {\n    try {\n        // Verificar si es un ID de MongoDB (formato ObjectId)\n        const isMongoId = /^[0-9a-fA-F]{24}$/.test(id);\n        if (isMongoId) {\n            var _blogImages_;\n            // Es un ID de MongoDB, obtener de nuestra API\n            console.log(\"Obteniendo blog de MongoDB con ID \".concat(id));\n            // Usar la ruta con API_URL\n            const response = await fetch(\"\".concat(API_URL, \"/blog/\").concat(id));\n            console.log(\"Respuesta de MongoDB:\", {\n                status: response.status,\n                statusText: response.statusText\n            });\n            if (!response.ok) {\n                console.error(\"Error al obtener blog de MongoDB: \".concat(response.status));\n                throw new Error(\"Error al obtener blog: \".concat(response.status));\n            }\n            const data = await response.json();\n            console.log(\"Datos del blog de MongoDB:\", data);\n            // Procesar las imágenes según el esquema\n            let blogImages = [];\n            // Verificar si el blog tiene imágenes\n            if (data.images && Array.isArray(data.images) && data.images.length > 0) {\n                // Usar las imágenes del esquema\n                blogImages = data.images.map((img)=>{\n                    // Asegurarse de que la URL sea absoluta\n                    const src = typeof img === \"string\" ? img : img.src || \"\";\n                    const imgSrc = src.startsWith(\"http\") ? src : \"\".concat(API_URL).concat(src.startsWith(\"/\") ? \"\" : \"/\").concat(src);\n                    return {\n                        src: imgSrc,\n                        alt: typeof img === \"object\" && img.alt ? img.alt : data.title || \"Imagen del blog\"\n                    };\n                });\n            } else if (data.image) {\n                // Compatibilidad con el formato anterior\n                if (typeof data.image === \"string\") {\n                    // Si la imagen es una cadena, crear un objeto de imagen\n                    const baseUrl = API_URL;\n                    const imageSrc = data.image.startsWith(\"http\") ? data.image : \"\".concat(baseUrl).concat(data.image.startsWith(\"/\") ? \"\" : \"/\").concat(data.image);\n                    blogImages = [\n                        {\n                            src: imageSrc,\n                            alt: data.title || \"Imagen del blog\"\n                        }\n                    ];\n                } else {\n                    // Si ya es un objeto, asegurarse de que la URL sea absoluta\n                    const baseUrl = API_URL;\n                    const src = data.image.src || data.image.url || \"\";\n                    blogImages = [\n                        {\n                            ...data.image,\n                            src: src.startsWith(\"http\") ? src : \"\".concat(baseUrl).concat(src.startsWith(\"/\") ? \"\" : \"/\").concat(src)\n                        }\n                    ];\n                }\n            } else {\n                // Si no hay imágenes, usar una por defecto\n                blogImages = [\n                    {\n                        src: \"/img/default-blog-image.jpg\",\n                        alt: data.title || \"Imagen del blog\"\n                    }\n                ];\n            }\n            // Asegurarse de que el blog tenga todos los campos necesarios\n            return {\n                ...data,\n                _id: data._id,\n                title: data.title || \"Sin t\\xedtulo\",\n                content: data.content || data.description || \"\",\n                description: data.description || data.excerpt || \"\",\n                date: data.createdAt || data.date || new Date().toISOString(),\n                dateFormatted: data.dateFormatted || (data.createdAt ? new Date(data.createdAt).toLocaleDateString(\"es-ES\") : new Date().toLocaleDateString(\"es-ES\")),\n                images: blogImages,\n                image: blogImages[0] || {\n                    src: \"/img/default-blog-image.jpg\",\n                    alt: \"Imagen del blog\"\n                },\n                imageUrl: ((_blogImages_ = blogImages[0]) === null || _blogImages_ === void 0 ? void 0 : _blogImages_.src) || \"/img/default-blog-image.jpg\",\n                source: \"mongodb\"\n            };\n        } else {\n            var _data_title, _data_content, _data_excerpt, _data_title1, _data_title2;\n            // Es un ID de WordPress, usar nuestro proxy\n            console.log(\"Obteniendo blog de WordPress con ID \".concat(id));\n            const response = await fetch(\"/api/wordpress-proxy?endpoint=wp&path=posts/\".concat(id, \"&_embed=true\"));\n            console.log(\"Respuesta de WordPress:\", {\n                status: response.status,\n                statusText: response.statusText\n            });\n            if (!response.ok) {\n                console.error(\"Error al obtener blog de WordPress: \".concat(response.status));\n                throw new Error(\"Error al obtener blog de WordPress: \".concat(response.status));\n            }\n            const data = await response.json();\n            console.log(\"Datos del blog de WordPress:\", data);\n            // Procesar la imagen destacada\n            let featuredImage = null;\n            // Intentar obtener la imagen destacada desde _embedded\n            if (data._embedded && data._embedded[\"wp:featuredmedia\"] && data._embedded[\"wp:featuredmedia\"][0]) {\n                const media = data._embedded[\"wp:featuredmedia\"][0];\n                if (media.media_details && media.media_details.sizes) {\n                    // Buscar la mejor imagen disponible\n                    const sizePriority = [\n                        \"medium_large\",\n                        \"medium\",\n                        \"large\",\n                        \"full\"\n                    ];\n                    for (const size of sizePriority){\n                        if (media.media_details.sizes[size]) {\n                            featuredImage = media.media_details.sizes[size].source_url;\n                            break;\n                        }\n                    }\n                }\n                // Si no se encontró ninguna imagen en los tamaños, usar la URL de origen\n                if (!featuredImage && media.source_url) {\n                    featuredImage = media.source_url;\n                }\n            }\n            // Si no hay imagen destacada, intentar obtenerla de uagb_featured_image_src\n            if (!featuredImage && data.uagb_featured_image_src) {\n                var _data_uagb_featured_image_src_medium, _data_uagb_featured_image_src_full;\n                featuredImage = ((_data_uagb_featured_image_src_medium = data.uagb_featured_image_src.medium) === null || _data_uagb_featured_image_src_medium === void 0 ? void 0 : _data_uagb_featured_image_src_medium[0]) || ((_data_uagb_featured_image_src_full = data.uagb_featured_image_src.full) === null || _data_uagb_featured_image_src_full === void 0 ? void 0 : _data_uagb_featured_image_src_full[0]);\n            }\n            // Si aún no hay imagen, usar una imagen por defecto\n            if (!featuredImage) {\n                featuredImage = \"/img/default-blog-image.jpg\";\n            }\n            // Crear el objeto de blog con la imagen procesada\n            return {\n                ...data,\n                _id: \"wp-\".concat(data.id),\n                id: data.id,\n                title: ((_data_title = data.title) === null || _data_title === void 0 ? void 0 : _data_title.rendered) || data.title || \"\",\n                content: ((_data_content = data.content) === null || _data_content === void 0 ? void 0 : _data_content.rendered) || data.content || \"\",\n                excerpt: ((_data_excerpt = data.excerpt) === null || _data_excerpt === void 0 ? void 0 : _data_excerpt.rendered) || data.excerpt || \"\",\n                date: data.date,\n                dateFormatted: new Date(data.date).toLocaleDateString(\"es-ES\"),\n                images: [\n                    {\n                        src: featuredImage,\n                        alt: ((_data_title1 = data.title) === null || _data_title1 === void 0 ? void 0 : _data_title1.rendered) || data.title || \"Imagen del blog\"\n                    }\n                ],\n                image: {\n                    src: featuredImage,\n                    alt: ((_data_title2 = data.title) === null || _data_title2 === void 0 ? void 0 : _data_title2.rendered) || data.title || \"Imagen del blog\"\n                },\n                imageUrl: featuredImage,\n                slug: data.slug,\n                source: \"wordpress\"\n            };\n        }\n    } catch (error) {\n        console.error(\"Error en getBlogById:\", error);\n        throw error;\n    }\n}\nasync function getPropertyPosts() {\n    let wpData = [];\n    let mongoData = [];\n    // 1. Intentar obtener propiedades de WooCommerce a través del proxy\n    try {\n        console.log(\"Obteniendo propiedades de WooCommerce...\");\n        // Usar nuestro proxy de Next.js\n        const firstPageResponse = await fetch(\"/api/wordpress-proxy?per_page=100\");\n        console.log(\"Respuesta de WooCommerce:\", {\n            status: firstPageResponse.status,\n            statusText: firstPageResponse.statusText\n        });\n        if (!firstPageResponse.ok) {\n            console.error(\"Error al obtener propiedades de WooCommerce: \".concat(firstPageResponse.status, \" \").concat(firstPageResponse.statusText));\n            throw new Error(\"Error al obtener propiedades: \".concat(firstPageResponse.status));\n        }\n        // Obtener el número total de páginas\n        const totalPages = parseInt(firstPageResponse.headers.get(\"X-WP-TotalPages\") || \"1\");\n        console.log(\"Total de p\\xe1ginas de propiedades: \".concat(totalPages));\n        // Obtener los datos de la primera página\n        const firstPageData = await firstPageResponse.json();\n        // Marcar las propiedades como provenientes de WooCommerce\n        const wpPropertiesWithSource = firstPageData.map((property)=>({\n                ...property,\n                source: \"woocommerce\"\n            }));\n        wpData = [\n            ...wpPropertiesWithSource\n        ];\n        // Si hay más páginas, obtenerlas en paralelo\n        if (totalPages > 1) {\n            const pagePromises = [];\n            for(let page = 2; page <= totalPages; page++){\n                pagePromises.push(fetch(\"/api/wordpress-proxy?page=\".concat(page, \"&per_page=100\")).then((res)=>{\n                    if (!res.ok) throw new Error(\"Error en p\\xe1gina \".concat(page, \": \").concat(res.status));\n                    return res.json();\n                }).then((pageData)=>{\n                    // Marcar las propiedades como provenientes de WooCommerce\n                    return pageData.map((property)=>({\n                            ...property,\n                            source: \"woocommerce\"\n                        }));\n                }));\n            }\n            // Esperar a que todas las promesas adicionales se resuelvan\n            const additionalPagesData = await Promise.all(pagePromises);\n            // Añadir los datos adicionales a wpData\n            additionalPagesData.forEach((pageData)=>{\n                wpData = [\n                    ...wpData,\n                    ...pageData\n                ];\n            });\n        }\n        console.log(\"Total de propiedades de WooCommerce obtenidas: \".concat(wpData.length));\n    } catch (wpError) {\n        console.error(\"Error al obtener propiedades de WooCommerce:\", wpError);\n    }\n    // 2. Intentar obtener propiedades de MongoDB\n    try {\n        console.log(\"Obteniendo propiedades de MongoDB...\");\n        // Usar la ruta correcta con API_URL\n        const mongoResponse = await fetch(\"\".concat(API_URL, \"/property\"));\n        console.log(\"Respuesta de MongoDB:\", {\n            status: mongoResponse.status,\n            statusText: mongoResponse.statusText\n        });\n        if (mongoResponse.ok) {\n            const contentType = mongoResponse.headers.get(\"content-type\");\n            if (contentType && contentType.includes(\"application/json\")) {\n                const properties = await mongoResponse.json();\n                console.log(\"Propiedades de MongoDB obtenidas:\", properties);\n                // Procesar las propiedades para asegurar que tengan el formato correcto\n                mongoData = properties.map((property)=>{\n                    // Procesar las imágenes para asegurar URLs absolutas\n                    let images = [];\n                    if (property.images) {\n                        if (Array.isArray(property.images)) {\n                            images = property.images.map((img)=>{\n                                if (typeof img === \"string\") {\n                                    // Si la imagen es una cadena, verificar si es una URL absoluta\n                                    return img.startsWith(\"http\") ? img : \"\".concat(API_URL).concat(img.startsWith(\"/\") ? \"\" : \"/\").concat(img);\n                                } else if (typeof img === \"object\" && img.url) {\n                                    // Si es un objeto con URL\n                                    return img.url.startsWith(\"http\") ? img.url : \"\".concat(API_URL).concat(img.url.startsWith(\"/\") ? \"\" : \"/\").concat(img.url);\n                                }\n                                return img;\n                            });\n                        } else if (typeof property.images === \"string\") {\n                            // Si images es una cadena\n                            const img = property.images;\n                            images = [\n                                img.startsWith(\"http\") ? img : \"\".concat(API_URL).concat(img.startsWith(\"/\") ? \"\" : \"/\").concat(img)\n                            ];\n                        }\n                    }\n                    // Si no hay imágenes, usar una imagen por defecto\n                    if (images.length === 0) {\n                        images = [\n                            \"/img/default-property-image.jpg\"\n                        ];\n                    }\n                    return {\n                        ...property,\n                        _id: property._id,\n                        title: property.title || property.name || \"Propiedad sin t\\xedtulo\",\n                        description: property.description || \"\",\n                        price: property.price || \"0\",\n                        location: property.location || \"Madrid\",\n                        bedrooms: property.bedrooms || 0,\n                        bathrooms: property.bathrooms || 0,\n                        size: property.m2 || property.area || property.size || 0,\n                        livingArea: property.m2 || property.area || property.size || 0,\n                        images: images,\n                        source: \"mongodb\"\n                    };\n                });\n                console.log(\"Total de propiedades de MongoDB obtenidas: \".concat(mongoData.length));\n            } else {\n                console.error(\"La respuesta no es JSON v\\xe1lido:\", await mongoResponse.text());\n            }\n        } else {\n            try {\n                const errorText = await mongoResponse.text();\n                console.error(\"Error al obtener propiedades de MongoDB: \".concat(mongoResponse.status), errorText);\n            } catch (e) {\n                console.error(\"Error al obtener propiedades de MongoDB: \".concat(mongoResponse.status), mongoResponse.statusText);\n            }\n        }\n    } catch (mongoError) {\n        console.error(\"Error al obtener propiedades de MongoDB:\", mongoError);\n    }\n    // Combinar los resultados de ambas fuentes\n    const combinedData = [\n        ...mongoData,\n        ...wpData\n    ];\n    console.log(\"Total de propiedades combinadas: \".concat(combinedData.length));\n    return combinedData;\n}\nasync function getPropertyById(id) {\n    try {\n        console.log(\"[DEBUG] Iniciando getPropertyById para ID: \".concat(id));\n        // Verificar si es un ID de MongoDB (formato ObjectId)\n        const isMongoId = /^[0-9a-fA-F]{24}$/.test(id);\n        console.log(\"[DEBUG] \\xbfEs ID de MongoDB? \".concat(isMongoId));\n        // Crear un controlador de aborto para establecer un timeout\n        const controller = new AbortController();\n        const timeoutId = setTimeout(()=>{\n            console.log(\"[DEBUG] TIMEOUT alcanzado para la propiedad con ID: \".concat(id));\n            controller.abort();\n        }, 10000); // 10 segundos timeout\n        let response;\n        if (isMongoId) {\n            // Es un ID de MongoDB, obtener de nuestra API\n            console.log(\"[DEBUG] Obteniendo propiedad de MongoDB con ID \".concat(id));\n            try {\n                // Usar la URL base según el entorno\n                const baseUrl =  false ? 0 // En el servidor\n                 : \"\"; // En el cliente (URL relativa)\n                const url = \"\".concat(baseUrl, \"/property/\").concat(id);\n                console.log(\"[DEBUG] URL de petici\\xf3n MongoDB: \".concat(url));\n                response = await fetch(url, {\n                    signal: controller.signal,\n                    headers: {\n                        \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n                        \"Pragma\": \"no-cache\",\n                        \"Expires\": \"0\"\n                    }\n                });\n                console.log(\"[DEBUG] Respuesta MongoDB recibida: \".concat(response.status, \" \").concat(response.statusText));\n            } catch (error) {\n                clearTimeout(timeoutId);\n                console.error(\"[DEBUG] Error en fetch MongoDB:\", error);\n                if (error.name === \"AbortError\") {\n                    console.error(\"[DEBUG] La solicitud a MongoDB se cancel\\xf3 por timeout\");\n                    throw new Error(\"Tiempo de espera agotado al obtener la propiedad. Por favor, int\\xe9ntalo de nuevo.\");\n                }\n                throw error;\n            }\n        } else {\n            // Es un ID de WooCommerce, usar nuestro proxy\n            console.log(\"[DEBUG] Obteniendo propiedad de WooCommerce con ID \".concat(id));\n            try {\n                // Usar la URL base según el entorno\n                const baseUrl =  false ? 0 // En el servidor\n                 : \"/api/wordpress-proxy\"; // En el cliente\n                const url = \"\".concat(baseUrl, \"?path=products/\").concat(id);\n                console.log(\"[DEBUG] URL de petici\\xf3n WooCommerce: \".concat(url));\n                response = await fetch(url, {\n                    signal: controller.signal,\n                    headers: {\n                        \"Cache-Control\": \"no-cache, no-store, must-revalidate\",\n                        \"Pragma\": \"no-cache\",\n                        \"Expires\": \"0\"\n                    }\n                });\n                console.log(\"[DEBUG] Respuesta WooCommerce recibida: \".concat(response.status, \" \").concat(response.statusText));\n            } catch (error) {\n                clearTimeout(timeoutId);\n                console.error(\"[DEBUG] Error en fetch WooCommerce:\", error);\n                if (error.name === \"AbortError\") {\n                    console.error(\"[DEBUG] La solicitud a WooCommerce se cancel\\xf3 por timeout\");\n                    throw new Error(\"Tiempo de espera agotado al obtener la propiedad. Por favor, int\\xe9ntalo de nuevo.\");\n                }\n                throw error;\n            }\n        }\n        // Limpiar el timeout\n        clearTimeout(timeoutId);\n        // Verificar si la respuesta es exitosa\n        if (!response.ok) {\n            console.error(\"[DEBUG] Error en respuesta: \".concat(response.status, \" \").concat(response.statusText));\n            throw new Error(\"Error al obtener propiedad: \".concat(response.status, \" \").concat(response.statusText));\n        }\n        // Obtener los datos de la respuesta\n        console.log(\"[DEBUG] Intentando obtener JSON de la respuesta\");\n        const data = await response.json();\n        console.log(\"[DEBUG] JSON obtenido correctamente para ID \".concat(id));\n        // Procesar los datos según el tipo de propiedad\n        if (isMongoId) {\n            console.log(\"[DEBUG] Procesando datos de MongoDB\");\n            // Procesar las imágenes para asegurar URLs absolutas\n            let images = [];\n            if (data.images) {\n                if (Array.isArray(data.images)) {\n                    console.log(\"[DEBUG] Procesando array de im\\xe1genes: \".concat(data.images.length, \" im\\xe1genes\"));\n                    images = data.images.map((img)=>{\n                        if (typeof img === \"string\") {\n                            // Si la imagen es una cadena, verificar si es una URL absoluta\n                            return img.startsWith(\"http\") ? img : \"\".concat(API_URL).concat(img.startsWith(\"/\") ? \"\" : \"/\").concat(img);\n                        } else if (typeof img === \"object\" && img.src) {\n                            // Si es un objeto con src, asegurar que sea una URL absoluta\n                            const src = img.src.startsWith(\"http\") ? img.src : \"\".concat(API_URL).concat(img.src.startsWith(\"/\") ? \"\" : \"/\").concat(img.src);\n                            return {\n                                ...img,\n                                src\n                            };\n                        }\n                        return img;\n                    }).filter((img)=>img); // Filtrar valores nulos o indefinidos\n                } else if (typeof data.images === \"string\") {\n                    // Si images es una cadena\n                    console.log(\"[DEBUG] Procesando imagen \\xfanica (string)\");\n                    const img = data.images;\n                    images = [\n                        img.startsWith(\"http\") ? img : \"\".concat(API_URL).concat(img.startsWith(\"/\") ? \"\" : \"/\").concat(img)\n                    ];\n                }\n            }\n            // Si no hay imágenes, usar una imagen por defecto\n            if (images.length === 0) {\n                console.log(\"[DEBUG] No se encontraron im\\xe1genes, usando imagen por defecto\");\n                images = [\n                    \"/img/default-property-image.jpg\"\n                ];\n            }\n            // Asegurarse de que todos los campos críticos estén definidos\n            const result = {\n                ...data,\n                _id: data._id,\n                title: data.title || data.name || \"Propiedad sin t\\xedtulo\",\n                description: data.description || \"\",\n                price: data.price || \"0\",\n                location: data.location || \"Madrid\",\n                bedrooms: data.bedrooms || data.rooms || 0,\n                bathrooms: data.bathrooms || data.wc || 0,\n                size: data.area || data.m2 || 0,\n                images: images,\n                source: \"mongodb\"\n            };\n            console.log(\"[DEBUG] Datos de MongoDB procesados correctamente\");\n            return result;\n        } else {\n            var _data_meta_data_find, _data_meta_data, _data_meta_data_find1, _data_meta_data1, _data_meta_data_find2, _data_meta_data2;\n            console.log(\"[DEBUG] Procesando datos de WooCommerce\");\n            // Procesar las imágenes para asegurar que tenemos URLs válidas\n            let images = [];\n            // Intentar obtener imágenes de diferentes fuentes en WooCommerce\n            if (data.images && Array.isArray(data.images) && data.images.length > 0) {\n                console.log(\"[DEBUG] Procesando array de im\\xe1genes WooCommerce: \".concat(data.images.length, \" im\\xe1genes\"));\n                images = data.images.map((img)=>img.src || img).filter((img)=>img);\n            } else if (data.image && data.image.src) {\n                console.log(\"[DEBUG] Procesando imagen \\xfanica WooCommerce\");\n                images = [\n                    data.image.src\n                ];\n            }\n            // Si no hay imágenes, usar una imagen por defecto\n            if (images.length === 0) {\n                console.log(\"[DEBUG] No se encontraron im\\xe1genes WooCommerce, usando imagen por defecto\");\n                images = [\n                    \"/img/default-property-image.jpg\"\n                ];\n            }\n            // Asegurarse de que todos los campos críticos estén definidos\n            const result = {\n                ...data,\n                id: data.id,\n                title: data.name || \"Propiedad sin t\\xedtulo\",\n                description: data.description || \"\",\n                price: data.price || \"0\",\n                location: data.address || \"Madrid\",\n                bedrooms: ((_data_meta_data = data.meta_data) === null || _data_meta_data === void 0 ? void 0 : (_data_meta_data_find = _data_meta_data.find((m)=>m.key === \"bedrooms\")) === null || _data_meta_data_find === void 0 ? void 0 : _data_meta_data_find.value) || 0,\n                bathrooms: ((_data_meta_data1 = data.meta_data) === null || _data_meta_data1 === void 0 ? void 0 : (_data_meta_data_find1 = _data_meta_data1.find((m)=>m.key === \"bathrooms\")) === null || _data_meta_data_find1 === void 0 ? void 0 : _data_meta_data_find1.value) || 0,\n                size: ((_data_meta_data2 = data.meta_data) === null || _data_meta_data2 === void 0 ? void 0 : (_data_meta_data_find2 = _data_meta_data2.find((m)=>m.key === \"area\")) === null || _data_meta_data_find2 === void 0 ? void 0 : _data_meta_data_find2.value) || 0,\n                images: images,\n                source: \"woocommerce\"\n            };\n            console.log(\"[DEBUG] Datos de WooCommerce procesados correctamente\");\n            return result;\n        }\n    } catch (error) {\n        console.error(\"[DEBUG] Error en getPropertyById:\", error);\n        console.error(\"[DEBUG] Stack trace:\", error.stack);\n        throw error;\n    }\n}\n// Función para enviar el formulario de contacto\nconst sendEmail = async (data)=>{\n    try {\n        // Reformatear los datos para adaptarse al formato esperado por la API\n        const formattedData = {\n            nombre: data.name,\n            email: data.email,\n            prefix: data.prefix || \"+34\",\n            telefono: data.phone || \"\",\n            asunto: data.message // El mensaje lo enviamos como asunto que es lo que espera el backend\n        };\n        // Validación local actualizada para campos\n        if (!formattedData.nombre || !formattedData.email) {\n            console.error(\"Faltan datos obligatorios:\", formattedData);\n            return {\n                success: false,\n                message: \"Faltan datos requeridos: nombre y email son obligatorios\",\n                error: \"Validaci\\xf3n local\",\n                ok: false\n            };\n        }\n        // Definir el endpoint para el contacto\n        const endpoint = \"\".concat(API_URL, \"/api/contact\");\n        const response = await fetch(endpoint, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(formattedData)\n        });\n        // Capturar la respuesta como texto para debugging\n        const responseText = await response.text();\n        // Intentar parsear la respuesta como JSON\n        let responseData;\n        try {\n            responseData = JSON.parse(responseText);\n        } catch (e) {\n            console.error(\"Respuesta no es JSON v\\xe1lido\");\n            return {\n                success: false,\n                message: \"Formato de respuesta inv\\xe1lido\",\n                error: \"El servidor no respondi\\xf3 con un formato v\\xe1lido\",\n                ok: false\n            };\n        }\n        // Agregar la propiedad ok para compatibilidad con el código existente\n        responseData.ok = response.ok;\n        return responseData;\n    } catch (error) {\n        console.error(\"Error al enviar formulario:\", error);\n        // Devolver un objeto con formato similar al de respuesta exitosa\n        return {\n            success: false,\n            message: \"Error de conexi\\xf3n\",\n            error: error.message,\n            ok: false\n        };\n    }\n};\nconst sendPropertyEmail = async (data)=>{\n    try {\n        // Usamos la constante API_URL que ya está definida en el archivo\n        let endpoint = \"\".concat(API_URL, \"/api/property-notification\");\n        // Si es una oferta, usar la nueva ruta\n        if (data.type === \"offer\") {\n            endpoint = \"\".concat(API_URL, \"/api/property-offer/create\");\n            // Renombrar campos si es necesario para mantener compatibilidad\n            const { type, ...offerData } = data;\n            const response = await fetch(endpoint, {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    \"Accept\": \"application/json\"\n                },\n                body: JSON.stringify(offerData)\n            });\n            if (!response.ok) {\n                const errorText = await response.text();\n                console.error(\"Error en respuesta:\", errorText);\n                throw new Error(\"Error en la respuesta del servidor\");\n            }\n            return await response.json();\n        }\n        // Para otros tipos (visitas), usar la ruta original\n        const response = await fetch(endpoint, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                \"Accept\": \"application/json\"\n            },\n            body: JSON.stringify(data)\n        });\n        if (!response.ok) {\n            const errorText = await response.text();\n            console.error(\"Error en respuesta:\", errorText);\n            throw new Error(\"Error en la respuesta del servidor\");\n        }\n        return await response.json();\n    } catch (error) {\n        console.error(\"Error al enviar email:\", error);\n        return {\n            success: false,\n            message: error.message || \"Error al procesar la solicitud\"\n        };\n    }\n};\nasync function handler(req, res) {\n    const { url } = req.query;\n    if (!url) {\n        return res.status(400).json({\n            error: \"URL no proporcionada\"\n        });\n    }\n    try {\n        const imageResponse = await fetch(url);\n        const imageBuffer = await imageResponse.arrayBuffer();\n        // Obtener el tipo de contenido\n        const contentType = imageResponse.headers.get(\"content-type\");\n        // Configurar cabeceras de respuesta\n        res.setHeader(\"Content-Type\", contentType);\n        res.setHeader(\"Cache-Control\", \"public, max-age=86400\"); // Cachear por 24 horas\n        // Enviar la imagen\n        res.status(200).send(Buffer.from(imageBuffer));\n    } catch (error) {\n        console.error(\"Error al obtener imagen:\", error);\n        res.status(500).json({\n            error: \"Error al obtener la imagen\"\n        });\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dEQsSUFBSW5HLE1BQU0sQ0FBQyxLQUFLMEosSUFBSSxDQUFDQyxNQUFNQSxDQUFDQyxJQUFJLENBQUNMO0lBQ25DLEVBQUUsT0FBTzVKLE9BQU87UUFDZEUsUUFBUUYsS0FBSyxDQUFDLDRCQUE0QkE7UUFDMUN3RyxJQUFJbkcsTUFBTSxDQUFDLEtBQUtvQixJQUFJLENBQUM7WUFBRXpCLE9BQU87UUFBNkI7SUFDN0Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvcGFnZXMvYXBpLmpzP2VhZjMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gRXhwb3J0YXIgc29sbyBsYXMgZnVuY2lvbmVzIGRlIHV0aWxpZGFkIHNpbiBjcmVhciB1bmEgcnV0YSBBUElcbmV4cG9ydCBjb25zdCBBUElfVVJMID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfQVBJX1VSTCB8fCAnaHR0cDovL2xvY2FsaG9zdDozMDAwJztcblxuLy8gRGVmaW5pciBsYXMgY2xhdmVzIGRlIEFQSSBkZSBXb29Db21tZXJjZVxuZXhwb3J0IGNvbnN0IFdDX0NPTlNVTUVSX0tFWSA9IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX05FWFRfUFVCTElDX1dPT19DT01NRVJDRV9LRVk7XG5leHBvcnQgY29uc3QgV0NfQ09OU1VNRVJfU0VDUkVUID0gcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfV09PX0NPTU1FUkNFX1NFQ1JFVDtcblxuLy8gRnVuY2nDs24gYXV4aWxpYXIgcGFyYSBtYW5lamFyIGVycm9yZXNcbmV4cG9ydCBjb25zdCBoYW5kbGVBcGlFcnJvciA9IChlcnJvciwgZnVuY3Rpb25OYW1lKSA9PiB7XG4gIGNvbnNvbGUuZXJyb3IoYEVycm9yIGVuICR7ZnVuY3Rpb25OYW1lfTpgLCBlcnJvcik7XG4gIGlmIChlcnJvci5yZXNwb25zZSkge1xuICAgIC8vIEVsIHNlcnZpZG9yIHJlc3BvbmRpw7MgY29uIHVuIGPDs2RpZ28gZGUgZXJyb3JcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yICR7ZXJyb3IucmVzcG9uc2Uuc3RhdHVzfTogJHtlcnJvci5yZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICB9IGVsc2UgaWYgKGVycm9yLnJlcXVlc3QpIHtcbiAgICAvLyBMYSBwZXRpY2nDs24gZnVlIGhlY2hhIHBlcm8gbm8gc2UgcmVjaWJpw7MgcmVzcHVlc3RhXG4gICAgdGhyb3cgbmV3IEVycm9yKCdObyBzZSByZWNpYmnDsyByZXNwdWVzdGEgZGVsIHNlcnZpZG9yJyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gRXJyb3IgYWwgY29uZmlndXJhciBsYSBwZXRpY2nDs25cbiAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnRXJyb3IgZGVzY29ub2NpZG8nKTtcbiAgfVxufTtcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldENvdW50cnlQcmVmaXgoKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJJbnRlbnRhbmRvIG9idGVuZXIgcHJlZmlqb3MgZGUgcGHDrXMgZGVzZGUgbGEgQVBJIGxvY2FsXCIpO1xuICAgIFxuICAgIC8vIFVzYXIgQWJvcnRDb250cm9sbGVyIHBhcmEgZXZpdGFyIGJsb3F1ZW9zXG4gICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICBjb25zdCB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgNTAwMCk7IC8vIDUgc2VndW5kb3MgdGltZW91dFxuICAgIFxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vcHJlZml4YCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWxcbiAgICB9KTtcbiAgICBcbiAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcblxuICAgIC8vIFNpIGxhIHJlc3B1ZXN0YSBmdWUgZXhpdG9zYSB5IGVzIEpTT04sIGRldm9sdmVyIGxvcyBkYXRvc1xuICAgIGlmIChyZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICBpZiAoY29udGVudFR5cGUgJiYgY29udGVudFR5cGUuaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICAvLyBTaSBhbGdvIGZhbGxhLCBkZXZvbHZlciBwcmVmaWpvcyBwb3IgZGVmZWN0b1xuICAgIGNvbnNvbGUubG9nKFwiVXNhbmRvIHByZWZpam9zIGRlIHBhw61zIHBvciBkZWZlY3RvXCIpO1xuICAgIHJldHVybiBnZXREZWZhdWx0Q291bnRyeVByZWZpeGVzKCk7XG4gICAgXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgcHJlZmlqb3MgZGUgcGHDrXM6XCIsIGVycm9yLm1lc3NhZ2UpO1xuICAgIC8vIEVuIGNhc28gZGUgZXJyb3IsIGRldm9sdmVyIHByZWZpam9zIHBvciBkZWZlY3RvXG4gICAgcmV0dXJuIGdldERlZmF1bHRDb3VudHJ5UHJlZml4ZXMoKTtcbiAgfVxufVxuXG4vLyBFc3RhIGVzIGxhIGZvcm1hIGNvcnJlY3RhLCB1biBqdW5pb3IgcG9kcsOtYSBoYWNlcmxvIGFzw606XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QmxvZ1Bvc3RzKCkge1xuICAvLyBBcnJheSBkb25kZSBndWFyZGFyZW1vcyB0b2RvcyBsb3MgYmxvZ3NcbiAgbGV0IGFsbEJsb2dzID0gW107XG4gIFxuICAvLyAxLiBJbnRlbnRhciBvYnRlbmVyIGJsb2dzIGRlIFdvcmRQcmVzcyB1c2FuZG8gbnVlc3RybyBwcm94eVxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiT2J0ZW5pZW5kbyBibG9ncyBkZSBXb3JkUHJlc3MuLi5cIik7XG4gICAgXG4gICAgLy8gVXNhciBlbCBwcm94eSBjb24gZWwgcGFyw6FtZXRybyBlbmRwb2ludD13cCBwYXJhIGluZGljYXIgcXVlIHF1ZXJlbW9zIGxhIEFQSSBkZSBXb3JkUHJlc3NcbiAgICBjb25zdCB3cFJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG4gICAgICBcIi9hcGkvd29yZHByZXNzLXByb3h5P2VuZHBvaW50PXdwJnBhdGg9cG9zdHMmX2VtYmVkPXRydWVcIlxuICAgICk7XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJSZXNwdWVzdGEgZGUgV29yZFByZXNzOlwiLCB7XG4gICAgICBzdGF0dXM6IHdwUmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogd3BSZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgfSk7XG4gICAgXG4gICAgaWYgKHdwUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IHdwQmxvZ3MgPSBhd2FpdCB3cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYE9idGVuaWRvcyAke3dwQmxvZ3MubGVuZ3RofSBibG9ncyBkZSBXb3JkUHJlc3NgKTtcbiAgICAgIFxuICAgICAgLy8gQcOxYWRpciBsb3MgYmxvZ3MgZGUgV29yZFByZXNzIGFsIGFycmF5LCBjb24gbGEgZnVlbnRlIG1hcmNhZGFcbiAgICAgIHdwQmxvZ3MuZm9yRWFjaChibG9nID0+IHtcbiAgICAgICAgLy8gUHJvY2VzYXIgbGEgaW1hZ2VuIGRlc3RhY2FkYVxuICAgICAgICBsZXQgZmVhdHVyZWRJbWFnZSA9IG51bGw7XG4gICAgICAgIFxuICAgICAgICAvLyBJbnRlbnRhciBvYnRlbmVyIGxhIGltYWdlbiBkZXN0YWNhZGEgZGVzZGUgX2VtYmVkZGVkXG4gICAgICAgIGlmIChibG9nLl9lbWJlZGRlZCAmJiBibG9nLl9lbWJlZGRlZFsnd3A6ZmVhdHVyZWRtZWRpYSddICYmIGJsb2cuX2VtYmVkZGVkWyd3cDpmZWF0dXJlZG1lZGlhJ11bMF0pIHtcbiAgICAgICAgICBjb25zdCBtZWRpYSA9IGJsb2cuX2VtYmVkZGVkWyd3cDpmZWF0dXJlZG1lZGlhJ11bMF07XG4gICAgICAgICAgXG4gICAgICAgICAgaWYgKG1lZGlhLm1lZGlhX2RldGFpbHMgJiYgbWVkaWEubWVkaWFfZGV0YWlscy5zaXplcykge1xuICAgICAgICAgICAgLy8gQnVzY2FyIGxhIG1lam9yIGltYWdlbiBkaXNwb25pYmxlXG4gICAgICAgICAgICBjb25zdCBzaXplUHJpb3JpdHkgPSBbJ21lZGl1bV9sYXJnZScsICdtZWRpdW0nLCAnbGFyZ2UnLCAnZnVsbCddO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNpemUgb2Ygc2l6ZVByaW9yaXR5KSB7XG4gICAgICAgICAgICAgIGlmIChtZWRpYS5tZWRpYV9kZXRhaWxzLnNpemVzW3NpemVdKSB7XG4gICAgICAgICAgICAgICAgZmVhdHVyZWRJbWFnZSA9IG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXNbc2l6ZV0uc291cmNlX3VybDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTaSBubyBzZSBlbmNvbnRyw7MgbmluZ3VuYSBpbWFnZW4gZW4gbG9zIHRhbWHDsW9zLCB1c2FyIGxhIFVSTCBkZSBvcmlnZW5cbiAgICAgICAgICBpZiAoIWZlYXR1cmVkSW1hZ2UgJiYgbWVkaWEuc291cmNlX3VybCkge1xuICAgICAgICAgICAgZmVhdHVyZWRJbWFnZSA9IG1lZGlhLnNvdXJjZV91cmw7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBubyBoYXkgaW1hZ2VuIGRlc3RhY2FkYSwgaW50ZW50YXIgb2J0ZW5lcmxhIGRlIHVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjXG4gICAgICAgIGlmICghZmVhdHVyZWRJbWFnZSAmJiBibG9nLnVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjKSB7XG4gICAgICAgICAgZmVhdHVyZWRJbWFnZSA9IGJsb2cudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmMubWVkaXVtPy5bMF0gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2cudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmMuZnVsbD8uWzBdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBTaSBhw7puIG5vIGhheSBpbWFnZW4sIHVzYXIgdW5hIGltYWdlbiBwb3IgZGVmZWN0b1xuICAgICAgICBpZiAoIWZlYXR1cmVkSW1hZ2UpIHtcbiAgICAgICAgICBmZWF0dXJlZEltYWdlID0gJy9pbWcvZGVmYXVsdC1ibG9nLWltYWdlLmpwZyc7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIENyZWFyIGVsIG9iamV0byBkZSBibG9nIGNvbiBsYSBpbWFnZW4gcHJvY2VzYWRhXG4gICAgICAgIGFsbEJsb2dzLnB1c2goe1xuICAgICAgICAgIC4uLmJsb2csXG4gICAgICAgICAgaW1hZ2U6IHtcbiAgICAgICAgICAgIHNyYzogZmVhdHVyZWRJbWFnZSxcbiAgICAgICAgICAgIGFsdDogYmxvZy50aXRsZT8ucmVuZGVyZWQgfHwgYmxvZy50aXRsZSB8fCAnSW1hZ2VuIGRlbCBibG9nJ1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdGl0bGU6IGJsb2cudGl0bGU/LnJlbmRlcmVkIHx8IGJsb2cudGl0bGUgfHwgJycsXG4gICAgICAgICAgY29udGVudDogYmxvZy5jb250ZW50Py5yZW5kZXJlZCB8fCBibG9nLmNvbnRlbnQgfHwgJycsXG4gICAgICAgICAgZXhjZXJwdDogYmxvZy5leGNlcnB0Py5yZW5kZXJlZCB8fCBibG9nLmV4Y2VycHQgfHwgJycsXG4gICAgICAgICAgc291cmNlOiAnd29yZHByZXNzJ1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBlcnJvckRhdGEgPSBhd2FpdCB3cFJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIG9idGVuZXIgYmxvZ3MgZGUgV29yZFByZXNzOiAke3dwUmVzcG9uc2Uuc3RhdHVzfWAsIGVycm9yRGF0YSk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBjb24gV29yZFByZXNzOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxuICBcbiAgLy8gMi4gSW50ZW50YXIgb2J0ZW5lciBibG9ncyBkZSBNb25nb0RCIHVzYW5kbyBsYSBBUEkgZGlyZWN0YVxuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiT2J0ZW5pZW5kbyBibG9ncyBkZSBNb25nb0RCLi4uXCIpO1xuICAgIFxuICAgIC8vIFVzYXIgbGEgcnV0YSBjb3JyZWN0YSBjb24gQVBJX1VSTFxuICAgIGNvbnN0IG1vbmdvUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9ibG9nYCwge1xuICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIGNvbnNvbGUubG9nKFwiUmVzcHVlc3RhIGRlIE1vbmdvREI6XCIsIHtcbiAgICAgIHN0YXR1czogbW9uZ29SZXNwb25zZS5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiBtb25nb1Jlc3BvbnNlLnN0YXR1c1RleHRcbiAgICB9KTtcbiAgICBcbiAgICBpZiAobW9uZ29SZXNwb25zZS5vaykge1xuICAgICAgY29uc3QgY29udGVudFR5cGUgPSBtb25nb1Jlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmIChjb250ZW50VHlwZSAmJiBjb250ZW50VHlwZS5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgIGNvbnN0IG1vbmdvQmxvZ3MgPSBhd2FpdCBtb25nb1Jlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBPYnRlbmlkb3MgJHttb25nb0Jsb2dzLmxlbmd0aH0gYmxvZ3MgZGUgTW9uZ29EQmApO1xuICAgICAgICBcbiAgICAgICAgLy8gQcOxYWRpciBsb3MgYmxvZ3MgZGUgTW9uZ29EQiBhbCBhcnJheSwgY29uIGxhIGZ1ZW50ZSBtYXJjYWRhXG4gICAgICAgIG1vbmdvQmxvZ3MuZm9yRWFjaChibG9nID0+IHtcbiAgICAgICAgICAvLyBQcm9jZXNhciBsYXMgaW3DoWdlbmVzIHNlZ8O6biBlbCBlc3F1ZW1hXG4gICAgICAgICAgbGV0IGJsb2dJbWFnZXMgPSBbXTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBWZXJpZmljYXIgc2kgZWwgYmxvZyB0aWVuZSBpbcOhZ2VuZXNcbiAgICAgICAgICBpZiAoYmxvZy5pbWFnZXMgJiYgQXJyYXkuaXNBcnJheShibG9nLmltYWdlcykgJiYgYmxvZy5pbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gVXNhciBsYXMgaW3DoWdlbmVzIGRlbCBlc3F1ZW1hXG4gICAgICAgICAgICBibG9nSW1hZ2VzID0gYmxvZy5pbWFnZXMubWFwKGltZyA9PiB7XG4gICAgICAgICAgICAgIC8vIEFzZWd1cmFyc2UgZGUgcXVlIGxhIFVSTCBzZWEgYWJzb2x1dGFcbiAgICAgICAgICAgICAgY29uc3Qgc3JjID0gdHlwZW9mIGltZyA9PT0gJ3N0cmluZycgXG4gICAgICAgICAgICAgICAgPyBpbWcgXG4gICAgICAgICAgICAgICAgOiAoaW1nLnNyYyB8fCAnJyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBjb25zdCBpbWdTcmMgPSBzcmMuc3RhcnRzV2l0aCgnaHR0cCcpIFxuICAgICAgICAgICAgICAgID8gc3JjIFxuICAgICAgICAgICAgICAgIDogYCR7QVBJX1VSTH0ke3NyYy5zdGFydHNXaXRoKCcvJykgPyAnJyA6ICcvJ30ke3NyY31gO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBzcmM6IGltZ1NyYyxcbiAgICAgICAgICAgICAgICBhbHQ6ICh0eXBlb2YgaW1nID09PSAnb2JqZWN0JyAmJiBpbWcuYWx0KSA/IGltZy5hbHQgOiAoYmxvZy50aXRsZSB8fCAnSW1hZ2VuIGRlbCBibG9nJylcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSBpZiAoYmxvZy5pbWFnZSkge1xuICAgICAgICAgICAgLy8gQ29tcGF0aWJpbGlkYWQgY29uIGVsIGZvcm1hdG8gYW50ZXJpb3JcbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmxvZy5pbWFnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgLy8gU2kgbGEgaW1hZ2VuIGVzIHVuYSBjYWRlbmEsIGNyZWFyIHVuIG9iamV0byBkZSBpbWFnZW5cbiAgICAgICAgICAgICAgY29uc3QgYmFzZVVybCA9IEFQSV9VUkw7XG4gICAgICAgICAgICAgIGNvbnN0IGltYWdlU3JjID0gYmxvZy5pbWFnZS5zdGFydHNXaXRoKCdodHRwJykgXG4gICAgICAgICAgICAgICAgPyBibG9nLmltYWdlIFxuICAgICAgICAgICAgICAgIDogYCR7YmFzZVVybH0ke2Jsb2cuaW1hZ2Uuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHtibG9nLmltYWdlfWA7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBibG9nSW1hZ2VzID0gW3sgXG4gICAgICAgICAgICAgICAgc3JjOiBpbWFnZVNyYywgXG4gICAgICAgICAgICAgICAgYWx0OiBibG9nLnRpdGxlIHx8ICdJbWFnZW4gZGVsIGJsb2cnIFxuICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIC8vIFNpIHlhIGVzIHVuIG9iamV0bywgYXNlZ3VyYXJzZSBkZSBxdWUgbGEgVVJMIHNlYSBhYnNvbHV0YVxuICAgICAgICAgICAgICBjb25zdCBiYXNlVXJsID0gQVBJX1VSTDtcbiAgICAgICAgICAgICAgY29uc3Qgc3JjID0gYmxvZy5pbWFnZS5zcmMgfHwgYmxvZy5pbWFnZS51cmwgfHwgJyc7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBibG9nSW1hZ2VzID0gW3tcbiAgICAgICAgICAgICAgICAuLi5ibG9nLmltYWdlLFxuICAgICAgICAgICAgICAgIHNyYzogc3JjLnN0YXJ0c1dpdGgoJ2h0dHAnKSBcbiAgICAgICAgICAgICAgICAgID8gc3JjIFxuICAgICAgICAgICAgICAgICAgOiBgJHtiYXNlVXJsfSR7c3JjLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogJy8nfSR7c3JjfWBcbiAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIFNpIG5vIGhheSBpbcOhZ2VuZXMsIHVzYXIgdW5hIHBvciBkZWZlY3RvXG4gICAgICAgICAgICBibG9nSW1hZ2VzID0gW3sgXG4gICAgICAgICAgICAgIHNyYzogJy9pbWcvZGVmYXVsdC1ibG9nLWltYWdlLmpwZycsIFxuICAgICAgICAgICAgICBhbHQ6IGJsb2cudGl0bGUgfHwgJ0ltYWdlbiBkZWwgYmxvZycgXG4gICAgICAgICAgICB9XTtcbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQXNlZ3VyYXJzZSBkZSBxdWUgZWwgYmxvZyB0ZW5nYSB0b2RvcyBsb3MgY2FtcG9zIG5lY2VzYXJpb3NcbiAgICAgICAgICBhbGxCbG9ncy5wdXNoKHtcbiAgICAgICAgICAgIC4uLmJsb2csXG4gICAgICAgICAgICBfaWQ6IGJsb2cuX2lkIHx8IGBtb25nby0ke0RhdGUubm93KCl9LSR7TWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsIDkpfWAsXG4gICAgICAgICAgICB0aXRsZTogYmxvZy50aXRsZSB8fCAnU2luIHTDrXR1bG8nLFxuICAgICAgICAgICAgY29udGVudDogYmxvZy5jb250ZW50IHx8IGJsb2cuZGVzY3JpcHRpb24gfHwgJycsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogYmxvZy5kZXNjcmlwdGlvbiB8fCBibG9nLmV4Y2VycHQgfHwgJycsXG4gICAgICAgICAgICBkYXRlOiBibG9nLmNyZWF0ZWRBdCB8fCBibG9nLmRhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgZGF0ZUZvcm1hdHRlZDogYmxvZy5kYXRlRm9ybWF0dGVkIHx8IChibG9nLmNyZWF0ZWRBdCA/IG5ldyBEYXRlKGJsb2cuY3JlYXRlZEF0KS50b0xvY2FsZURhdGVTdHJpbmcoJ2VzLUVTJykgOiBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZXMtRVMnKSksXG4gICAgICAgICAgICBpbWFnZXM6IGJsb2dJbWFnZXMsIC8vIEd1YXJkYXIgZWwgYXJyYXkgY29tcGxldG8gZGUgaW3DoWdlbmVzXG4gICAgICAgICAgICBpbWFnZTogYmxvZ0ltYWdlc1swXSB8fCB7IHNyYzogJy9pbWcvZGVmYXVsdC1ibG9nLWltYWdlLmpwZycsIGFsdDogJ0ltYWdlbiBkZWwgYmxvZycgfSwgLy8gQ29tcGF0aWJpbGlkYWQgY29uIGVsIGZvcm1hdG8gYW50ZXJpb3JcbiAgICAgICAgICAgIHNvdXJjZTogJ21vbmdvZGInXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkxhIHJlc3B1ZXN0YSBubyBlcyBKU09OIHbDoWxpZG86XCIsIGF3YWl0IG1vbmdvUmVzcG9uc2UudGV4dCgpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgbW9uZ29SZXNwb25zZS50ZXh0KCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIG9idGVuZXIgYmxvZ3MgZGUgTW9uZ29EQjogJHttb25nb1Jlc3BvbnNlLnN0YXR1c31gLCBlcnJvclRleHQpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBvYnRlbmVyIGJsb2dzIGRlIE1vbmdvREI6ICR7bW9uZ29SZXNwb25zZS5zdGF0dXN9YCwgbW9uZ29SZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgIH1cbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGNvbiBNb25nb0RCOlwiLCBlcnJvci5tZXNzYWdlKTtcbiAgfVxuICBcbiAgY29uc29sZS5sb2coYFRvdGFsIGRlIGJsb2dzIG9idGVuaWRvczogJHthbGxCbG9ncy5sZW5ndGh9YCk7XG4gIHJldHVybiBhbGxCbG9ncztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRlbGV0ZUJsb2dQb3N0KGlkKSB7XG4gIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYCR7QVBJX1VSTH0vYmxvZy8ke2lkfWAsIHtcbiAgICBtZXRob2Q6ICdERUxFVEUnLFxuICB9KTtcblxuICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QmxvZ0J5SWQoaWQpIHtcbiAgdHJ5IHtcbiAgICAvLyBWZXJpZmljYXIgc2kgZXMgdW4gSUQgZGUgTW9uZ29EQiAoZm9ybWF0byBPYmplY3RJZClcbiAgICBjb25zdCBpc01vbmdvSWQgPSAvXlswLTlhLWZBLUZdezI0fSQvLnRlc3QoaWQpO1xuICAgIFxuICAgIGlmIChpc01vbmdvSWQpIHtcbiAgICAgIC8vIEVzIHVuIElEIGRlIE1vbmdvREIsIG9idGVuZXIgZGUgbnVlc3RyYSBBUElcbiAgICAgIGNvbnNvbGUubG9nKGBPYnRlbmllbmRvIGJsb2cgZGUgTW9uZ29EQiBjb24gSUQgJHtpZH1gKTtcbiAgICAgIC8vIFVzYXIgbGEgcnV0YSBjb24gQVBJX1VSTFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgJHtBUElfVVJMfS9ibG9nLyR7aWR9YCk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKFwiUmVzcHVlc3RhIGRlIE1vbmdvREI6XCIsIHtcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHJlc3BvbnNlLnN0YXR1c1RleHRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIG9idGVuZXIgYmxvZyBkZSBNb25nb0RCOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBvYnRlbmVyIGJsb2c6ICR7cmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgY29uc29sZS5sb2coXCJEYXRvcyBkZWwgYmxvZyBkZSBNb25nb0RCOlwiLCBkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gUHJvY2VzYXIgbGFzIGltw6FnZW5lcyBzZWfDum4gZWwgZXNxdWVtYVxuICAgICAgbGV0IGJsb2dJbWFnZXMgPSBbXTtcbiAgICAgIFxuICAgICAgLy8gVmVyaWZpY2FyIHNpIGVsIGJsb2cgdGllbmUgaW3DoWdlbmVzXG4gICAgICBpZiAoZGF0YS5pbWFnZXMgJiYgQXJyYXkuaXNBcnJheShkYXRhLmltYWdlcykgJiYgZGF0YS5pbWFnZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAvLyBVc2FyIGxhcyBpbcOhZ2VuZXMgZGVsIGVzcXVlbWFcbiAgICAgICAgYmxvZ0ltYWdlcyA9IGRhdGEuaW1hZ2VzLm1hcChpbWcgPT4ge1xuICAgICAgICAgIC8vIEFzZWd1cmFyc2UgZGUgcXVlIGxhIFVSTCBzZWEgYWJzb2x1dGFcbiAgICAgICAgICBjb25zdCBzcmMgPSB0eXBlb2YgaW1nID09PSAnc3RyaW5nJyBcbiAgICAgICAgICAgID8gaW1nIFxuICAgICAgICAgICAgOiAoaW1nLnNyYyB8fCAnJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgY29uc3QgaW1nU3JjID0gc3JjLnN0YXJ0c1dpdGgoJ2h0dHAnKSBcbiAgICAgICAgICAgID8gc3JjIFxuICAgICAgICAgICAgOiBgJHtBUElfVVJMfSR7c3JjLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogJy8nfSR7c3JjfWA7XG4gICAgICAgICAgXG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHNyYzogaW1nU3JjLFxuICAgICAgICAgICAgYWx0OiAodHlwZW9mIGltZyA9PT0gJ29iamVjdCcgJiYgaW1nLmFsdCkgPyBpbWcuYWx0IDogKGRhdGEudGl0bGUgfHwgJ0ltYWdlbiBkZWwgYmxvZycpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGRhdGEuaW1hZ2UpIHtcbiAgICAgICAgLy8gQ29tcGF0aWJpbGlkYWQgY29uIGVsIGZvcm1hdG8gYW50ZXJpb3JcbiAgICAgICAgaWYgKHR5cGVvZiBkYXRhLmltYWdlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIFNpIGxhIGltYWdlbiBlcyB1bmEgY2FkZW5hLCBjcmVhciB1biBvYmpldG8gZGUgaW1hZ2VuXG4gICAgICAgICAgY29uc3QgYmFzZVVybCA9IEFQSV9VUkw7XG4gICAgICAgICAgY29uc3QgaW1hZ2VTcmMgPSBkYXRhLmltYWdlLnN0YXJ0c1dpdGgoJ2h0dHAnKSBcbiAgICAgICAgICAgID8gZGF0YS5pbWFnZSBcbiAgICAgICAgICAgIDogYCR7YmFzZVVybH0ke2RhdGEuaW1hZ2Uuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHtkYXRhLmltYWdlfWA7XG4gICAgICAgICAgXG4gICAgICAgICAgYmxvZ0ltYWdlcyA9IFt7IFxuICAgICAgICAgICAgc3JjOiBpbWFnZVNyYywgXG4gICAgICAgICAgICBhbHQ6IGRhdGEudGl0bGUgfHwgJ0ltYWdlbiBkZWwgYmxvZycgXG4gICAgICAgICAgfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU2kgeWEgZXMgdW4gb2JqZXRvLCBhc2VndXJhcnNlIGRlIHF1ZSBsYSBVUkwgc2VhIGFic29sdXRhXG4gICAgICAgICAgY29uc3QgYmFzZVVybCA9IEFQSV9VUkw7XG4gICAgICAgICAgY29uc3Qgc3JjID0gZGF0YS5pbWFnZS5zcmMgfHwgZGF0YS5pbWFnZS51cmwgfHwgJyc7XG4gICAgICAgICAgXG4gICAgICAgICAgYmxvZ0ltYWdlcyA9IFt7XG4gICAgICAgICAgICAuLi5kYXRhLmltYWdlLFxuICAgICAgICAgICAgc3JjOiBzcmMuc3RhcnRzV2l0aCgnaHR0cCcpIFxuICAgICAgICAgICAgICA/IHNyYyBcbiAgICAgICAgICAgICAgOiBgJHtiYXNlVXJsfSR7c3JjLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogJy8nfSR7c3JjfWBcbiAgICAgICAgICB9XTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2kgbm8gaGF5IGltw6FnZW5lcywgdXNhciB1bmEgcG9yIGRlZmVjdG9cbiAgICAgICAgYmxvZ0ltYWdlcyA9IFt7IFxuICAgICAgICAgIHNyYzogJy9pbWcvZGVmYXVsdC1ibG9nLWltYWdlLmpwZycsIFxuICAgICAgICAgIGFsdDogZGF0YS50aXRsZSB8fCAnSW1hZ2VuIGRlbCBibG9nJyBcbiAgICAgICAgfV07XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEFzZWd1cmFyc2UgZGUgcXVlIGVsIGJsb2cgdGVuZ2EgdG9kb3MgbG9zIGNhbXBvcyBuZWNlc2FyaW9zXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBfaWQ6IGRhdGEuX2lkLFxuICAgICAgICB0aXRsZTogZGF0YS50aXRsZSB8fCAnU2luIHTDrXR1bG8nLFxuICAgICAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQgfHwgZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGRhdGEuZGVzY3JpcHRpb24gfHwgZGF0YS5leGNlcnB0IHx8ICcnLFxuICAgICAgICBkYXRlOiBkYXRhLmNyZWF0ZWRBdCB8fCBkYXRhLmRhdGUgfHwgbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICBkYXRlRm9ybWF0dGVkOiBkYXRhLmRhdGVGb3JtYXR0ZWQgfHwgKGRhdGEuY3JlYXRlZEF0ID8gbmV3IERhdGUoZGF0YS5jcmVhdGVkQXQpLnRvTG9jYWxlRGF0ZVN0cmluZygnZXMtRVMnKSA6IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdlcy1FUycpKSxcbiAgICAgICAgaW1hZ2VzOiBibG9nSW1hZ2VzLCAvLyBHdWFyZGFyIGVsIGFycmF5IGNvbXBsZXRvIGRlIGltw6FnZW5lc1xuICAgICAgICBpbWFnZTogYmxvZ0ltYWdlc1swXSB8fCB7IHNyYzogJy9pbWcvZGVmYXVsdC1ibG9nLWltYWdlLmpwZycsIGFsdDogJ0ltYWdlbiBkZWwgYmxvZycgfSwgLy8gQ29tcGF0aWJpbGlkYWQgY29uIGVsIGZvcm1hdG8gYW50ZXJpb3JcbiAgICAgICAgaW1hZ2VVcmw6IGJsb2dJbWFnZXNbMF0/LnNyYyB8fCAnL2ltZy9kZWZhdWx0LWJsb2ctaW1hZ2UuanBnJyxcbiAgICAgICAgc291cmNlOiAnbW9uZ29kYidcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVzIHVuIElEIGRlIFdvcmRQcmVzcywgdXNhciBudWVzdHJvIHByb3h5XG4gICAgICBjb25zb2xlLmxvZyhgT2J0ZW5pZW5kbyBibG9nIGRlIFdvcmRQcmVzcyBjb24gSUQgJHtpZH1gKTtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9hcGkvd29yZHByZXNzLXByb3h5P2VuZHBvaW50PXdwJnBhdGg9cG9zdHMvJHtpZH0mX2VtYmVkPXRydWVgKTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coXCJSZXNwdWVzdGEgZGUgV29yZFByZXNzOlwiLCB7XG4gICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBvYnRlbmVyIGJsb2cgZGUgV29yZFByZXNzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBvYnRlbmVyIGJsb2cgZGUgV29yZFByZXNzOiAke3Jlc3BvbnNlLnN0YXR1c31gKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIGNvbnNvbGUubG9nKFwiRGF0b3MgZGVsIGJsb2cgZGUgV29yZFByZXNzOlwiLCBkYXRhKTtcbiAgICAgIFxuICAgICAgLy8gUHJvY2VzYXIgbGEgaW1hZ2VuIGRlc3RhY2FkYVxuICAgICAgbGV0IGZlYXR1cmVkSW1hZ2UgPSBudWxsO1xuICAgICAgXG4gICAgICAvLyBJbnRlbnRhciBvYnRlbmVyIGxhIGltYWdlbiBkZXN0YWNhZGEgZGVzZGUgX2VtYmVkZGVkXG4gICAgICBpZiAoZGF0YS5fZW1iZWRkZWQgJiYgZGF0YS5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXSAmJiBkYXRhLl9lbWJlZGRlZFsnd3A6ZmVhdHVyZWRtZWRpYSddWzBdKSB7XG4gICAgICAgIGNvbnN0IG1lZGlhID0gZGF0YS5fZW1iZWRkZWRbJ3dwOmZlYXR1cmVkbWVkaWEnXVswXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChtZWRpYS5tZWRpYV9kZXRhaWxzICYmIG1lZGlhLm1lZGlhX2RldGFpbHMuc2l6ZXMpIHtcbiAgICAgICAgICAvLyBCdXNjYXIgbGEgbWVqb3IgaW1hZ2VuIGRpc3BvbmlibGVcbiAgICAgICAgICBjb25zdCBzaXplUHJpb3JpdHkgPSBbJ21lZGl1bV9sYXJnZScsICdtZWRpdW0nLCAnbGFyZ2UnLCAnZnVsbCddO1xuICAgICAgICAgIFxuICAgICAgICAgIGZvciAoY29uc3Qgc2l6ZSBvZiBzaXplUHJpb3JpdHkpIHtcbiAgICAgICAgICAgIGlmIChtZWRpYS5tZWRpYV9kZXRhaWxzLnNpemVzW3NpemVdKSB7XG4gICAgICAgICAgICAgIGZlYXR1cmVkSW1hZ2UgPSBtZWRpYS5tZWRpYV9kZXRhaWxzLnNpemVzW3NpemVdLnNvdXJjZV91cmw7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gU2kgbm8gc2UgZW5jb250csOzIG5pbmd1bmEgaW1hZ2VuIGVuIGxvcyB0YW1hw7FvcywgdXNhciBsYSBVUkwgZGUgb3JpZ2VuXG4gICAgICAgIGlmICghZmVhdHVyZWRJbWFnZSAmJiBtZWRpYS5zb3VyY2VfdXJsKSB7XG4gICAgICAgICAgZmVhdHVyZWRJbWFnZSA9IG1lZGlhLnNvdXJjZV91cmw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgbm8gaGF5IGltYWdlbiBkZXN0YWNhZGEsIGludGVudGFyIG9idGVuZXJsYSBkZSB1YWdiX2ZlYXR1cmVkX2ltYWdlX3NyY1xuICAgICAgaWYgKCFmZWF0dXJlZEltYWdlICYmIGRhdGEudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmMpIHtcbiAgICAgICAgZmVhdHVyZWRJbWFnZSA9IGRhdGEudWFnYl9mZWF0dXJlZF9pbWFnZV9zcmMubWVkaXVtPy5bMF0gfHwgXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLnVhZ2JfZmVhdHVyZWRfaW1hZ2Vfc3JjLmZ1bGw/LlswXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gU2kgYcO6biBubyBoYXkgaW1hZ2VuLCB1c2FyIHVuYSBpbWFnZW4gcG9yIGRlZmVjdG9cbiAgICAgIGlmICghZmVhdHVyZWRJbWFnZSkge1xuICAgICAgICBmZWF0dXJlZEltYWdlID0gJy9pbWcvZGVmYXVsdC1ibG9nLWltYWdlLmpwZyc7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENyZWFyIGVsIG9iamV0byBkZSBibG9nIGNvbiBsYSBpbWFnZW4gcHJvY2VzYWRhXG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBfaWQ6IGB3cC0ke2RhdGEuaWR9YCxcbiAgICAgICAgaWQ6IGRhdGEuaWQsXG4gICAgICAgIHRpdGxlOiBkYXRhLnRpdGxlPy5yZW5kZXJlZCB8fCBkYXRhLnRpdGxlIHx8ICcnLFxuICAgICAgICBjb250ZW50OiBkYXRhLmNvbnRlbnQ/LnJlbmRlcmVkIHx8IGRhdGEuY29udGVudCB8fCAnJyxcbiAgICAgICAgZXhjZXJwdDogZGF0YS5leGNlcnB0Py5yZW5kZXJlZCB8fCBkYXRhLmV4Y2VycHQgfHwgJycsXG4gICAgICAgIGRhdGU6IGRhdGEuZGF0ZSxcbiAgICAgICAgZGF0ZUZvcm1hdHRlZDogbmV3IERhdGUoZGF0YS5kYXRlKS50b0xvY2FsZURhdGVTdHJpbmcoJ2VzLUVTJyksXG4gICAgICAgIGltYWdlczogW3sgXG4gICAgICAgICAgc3JjOiBmZWF0dXJlZEltYWdlLCBcbiAgICAgICAgICBhbHQ6IGRhdGEudGl0bGU/LnJlbmRlcmVkIHx8IGRhdGEudGl0bGUgfHwgJ0ltYWdlbiBkZWwgYmxvZycgXG4gICAgICAgIH1dLFxuICAgICAgICBpbWFnZToge1xuICAgICAgICAgIHNyYzogZmVhdHVyZWRJbWFnZSxcbiAgICAgICAgICBhbHQ6IGRhdGEudGl0bGU/LnJlbmRlcmVkIHx8IGRhdGEudGl0bGUgfHwgJ0ltYWdlbiBkZWwgYmxvZydcbiAgICAgICAgfSxcbiAgICAgICAgaW1hZ2VVcmw6IGZlYXR1cmVkSW1hZ2UsXG4gICAgICAgIHNsdWc6IGRhdGEuc2x1ZyxcbiAgICAgICAgc291cmNlOiAnd29yZHByZXNzJ1xuICAgICAgfTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGVuIGdldEJsb2dCeUlkOlwiLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldFByb3BlcnR5UG9zdHMoKSB7XG4gIGxldCB3cERhdGEgPSBbXTtcbiAgbGV0IG1vbmdvRGF0YSA9IFtdO1xuICBcbiAgLy8gMS4gSW50ZW50YXIgb2J0ZW5lciBwcm9waWVkYWRlcyBkZSBXb29Db21tZXJjZSBhIHRyYXbDqXMgZGVsIHByb3h5XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJPYnRlbmllbmRvIHByb3BpZWRhZGVzIGRlIFdvb0NvbW1lcmNlLi4uXCIpO1xuICAgIFxuICAgIC8vIFVzYXIgbnVlc3RybyBwcm94eSBkZSBOZXh0LmpzXG4gICAgY29uc3QgZmlyc3RQYWdlUmVzcG9uc2UgPSBhd2FpdCBmZXRjaChgL2FwaS93b3JkcHJlc3MtcHJveHk/cGVyX3BhZ2U9MTAwYCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJSZXNwdWVzdGEgZGUgV29vQ29tbWVyY2U6XCIsIHtcbiAgICAgIHN0YXR1czogZmlyc3RQYWdlUmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dDogZmlyc3RQYWdlUmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgIH0pO1xuICAgIFxuICAgIGlmICghZmlyc3RQYWdlUmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGFsIG9idGVuZXIgcHJvcGllZGFkZXMgZGUgV29vQ29tbWVyY2U6ICR7Zmlyc3RQYWdlUmVzcG9uc2Uuc3RhdHVzfSAke2ZpcnN0UGFnZVJlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGFsIG9idGVuZXIgcHJvcGllZGFkZXM6ICR7Zmlyc3RQYWdlUmVzcG9uc2Uuc3RhdHVzfWApO1xuICAgIH1cbiAgICBcbiAgICAvLyBPYnRlbmVyIGVsIG7Dum1lcm8gdG90YWwgZGUgcMOhZ2luYXNcbiAgICBjb25zdCB0b3RhbFBhZ2VzID0gcGFyc2VJbnQoZmlyc3RQYWdlUmVzcG9uc2UuaGVhZGVycy5nZXQoJ1gtV1AtVG90YWxQYWdlcycpIHx8ICcxJyk7XG4gICAgY29uc29sZS5sb2coYFRvdGFsIGRlIHDDoWdpbmFzIGRlIHByb3BpZWRhZGVzOiAke3RvdGFsUGFnZXN9YCk7XG4gICAgXG4gICAgLy8gT2J0ZW5lciBsb3MgZGF0b3MgZGUgbGEgcHJpbWVyYSBww6FnaW5hXG4gICAgY29uc3QgZmlyc3RQYWdlRGF0YSA9IGF3YWl0IGZpcnN0UGFnZVJlc3BvbnNlLmpzb24oKTtcbiAgICBcbiAgICAvLyBNYXJjYXIgbGFzIHByb3BpZWRhZGVzIGNvbW8gcHJvdmVuaWVudGVzIGRlIFdvb0NvbW1lcmNlXG4gICAgY29uc3Qgd3BQcm9wZXJ0aWVzV2l0aFNvdXJjZSA9IGZpcnN0UGFnZURhdGEubWFwKHByb3BlcnR5ID0+ICh7XG4gICAgICAuLi5wcm9wZXJ0eSxcbiAgICAgIHNvdXJjZTogJ3dvb2NvbW1lcmNlJ1xuICAgIH0pKTtcbiAgICBcbiAgICB3cERhdGEgPSBbLi4ud3BQcm9wZXJ0aWVzV2l0aFNvdXJjZV07XG4gICAgXG4gICAgLy8gU2kgaGF5IG3DoXMgcMOhZ2luYXMsIG9idGVuZXJsYXMgZW4gcGFyYWxlbG9cbiAgICBpZiAodG90YWxQYWdlcyA+IDEpIHtcbiAgICAgIGNvbnN0IHBhZ2VQcm9taXNlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgcGFnZSA9IDI7IHBhZ2UgPD0gdG90YWxQYWdlczsgcGFnZSsrKSB7XG4gICAgICAgIHBhZ2VQcm9taXNlcy5wdXNoKFxuICAgICAgICAgIGZldGNoKGAvYXBpL3dvcmRwcmVzcy1wcm94eT9wYWdlPSR7cGFnZX0mcGVyX3BhZ2U9MTAwYClcbiAgICAgICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgICAgIGlmICghcmVzLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIGVuIHDDoWdpbmEgJHtwYWdlfTogJHtyZXMuc3RhdHVzfWApO1xuICAgICAgICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGhlbihwYWdlRGF0YSA9PiB7XG4gICAgICAgICAgICAgIC8vIE1hcmNhciBsYXMgcHJvcGllZGFkZXMgY29tbyBwcm92ZW5pZW50ZXMgZGUgV29vQ29tbWVyY2VcbiAgICAgICAgICAgICAgcmV0dXJuIHBhZ2VEYXRhLm1hcChwcm9wZXJ0eSA9PiAoe1xuICAgICAgICAgICAgICAgIC4uLnByb3BlcnR5LFxuICAgICAgICAgICAgICAgIHNvdXJjZTogJ3dvb2NvbW1lcmNlJ1xuICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFc3BlcmFyIGEgcXVlIHRvZGFzIGxhcyBwcm9tZXNhcyBhZGljaW9uYWxlcyBzZSByZXN1ZWx2YW5cbiAgICAgIGNvbnN0IGFkZGl0aW9uYWxQYWdlc0RhdGEgPSBhd2FpdCBQcm9taXNlLmFsbChwYWdlUHJvbWlzZXMpO1xuICAgICAgXG4gICAgICAvLyBBw7FhZGlyIGxvcyBkYXRvcyBhZGljaW9uYWxlcyBhIHdwRGF0YVxuICAgICAgYWRkaXRpb25hbFBhZ2VzRGF0YS5mb3JFYWNoKHBhZ2VEYXRhID0+IHtcbiAgICAgICAgd3BEYXRhID0gWy4uLndwRGF0YSwgLi4ucGFnZURhdGFdO1xuICAgICAgfSk7XG4gICAgfVxuICAgIFxuICAgIGNvbnNvbGUubG9nKGBUb3RhbCBkZSBwcm9waWVkYWRlcyBkZSBXb29Db21tZXJjZSBvYnRlbmlkYXM6ICR7d3BEYXRhLmxlbmd0aH1gKTtcbiAgfSBjYXRjaCAod3BFcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhbCBvYnRlbmVyIHByb3BpZWRhZGVzIGRlIFdvb0NvbW1lcmNlOlwiLCB3cEVycm9yKTtcbiAgfVxuICBcbiAgLy8gMi4gSW50ZW50YXIgb2J0ZW5lciBwcm9waWVkYWRlcyBkZSBNb25nb0RCXG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCJPYnRlbmllbmRvIHByb3BpZWRhZGVzIGRlIE1vbmdvREIuLi5cIik7XG4gICAgXG4gICAgLy8gVXNhciBsYSBydXRhIGNvcnJlY3RhIGNvbiBBUElfVVJMXG4gICAgY29uc3QgbW9uZ29SZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke0FQSV9VUkx9L3Byb3BlcnR5YCk7XG4gICAgXG4gICAgY29uc29sZS5sb2coXCJSZXNwdWVzdGEgZGUgTW9uZ29EQjpcIiwge1xuICAgICAgc3RhdHVzOiBtb25nb1Jlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IG1vbmdvUmVzcG9uc2Uuc3RhdHVzVGV4dFxuICAgIH0pO1xuICAgIFxuICAgIGlmIChtb25nb1Jlc3BvbnNlLm9rKSB7XG4gICAgICBjb25zdCBjb250ZW50VHlwZSA9IG1vbmdvUmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlICYmIGNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGF3YWl0IG1vbmdvUmVzcG9uc2UuanNvbigpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlByb3BpZWRhZGVzIGRlIE1vbmdvREIgb2J0ZW5pZGFzOlwiLCBwcm9wZXJ0aWVzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFByb2Nlc2FyIGxhcyBwcm9waWVkYWRlcyBwYXJhIGFzZWd1cmFyIHF1ZSB0ZW5nYW4gZWwgZm9ybWF0byBjb3JyZWN0b1xuICAgICAgICBtb25nb0RhdGEgPSBwcm9wZXJ0aWVzLm1hcChwcm9wZXJ0eSA9PiB7XG4gICAgICAgICAgLy8gUHJvY2VzYXIgbGFzIGltw6FnZW5lcyBwYXJhIGFzZWd1cmFyIFVSTHMgYWJzb2x1dGFzXG4gICAgICAgICAgbGV0IGltYWdlcyA9IFtdO1xuICAgICAgICAgIGlmIChwcm9wZXJ0eS5pbWFnZXMpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHByb3BlcnR5LmltYWdlcykpIHtcbiAgICAgICAgICAgICAgaW1hZ2VzID0gcHJvcGVydHkuaW1hZ2VzLm1hcChpbWcgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW1nID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgLy8gU2kgbGEgaW1hZ2VuIGVzIHVuYSBjYWRlbmEsIHZlcmlmaWNhciBzaSBlcyB1bmEgVVJMIGFic29sdXRhXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaW1nLnN0YXJ0c1dpdGgoJ2h0dHAnKSA/IGltZyA6IGAke0FQSV9VUkx9JHtpbWcuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHtpbWd9YDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBpbWcgPT09ICdvYmplY3QnICYmIGltZy51cmwpIHtcbiAgICAgICAgICAgICAgICAgIC8vIFNpIGVzIHVuIG9iamV0byBjb24gVVJMXG4gICAgICAgICAgICAgICAgICByZXR1cm4gaW1nLnVybC5zdGFydHNXaXRoKCdodHRwJykgPyBpbWcudXJsIDogYCR7QVBJX1VSTH0ke2ltZy51cmwuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHtpbWcudXJsfWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBpbWc7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcHJvcGVydHkuaW1hZ2VzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAvLyBTaSBpbWFnZXMgZXMgdW5hIGNhZGVuYVxuICAgICAgICAgICAgICBjb25zdCBpbWcgPSBwcm9wZXJ0eS5pbWFnZXM7XG4gICAgICAgICAgICAgIGltYWdlcyA9IFtpbWcuc3RhcnRzV2l0aCgnaHR0cCcpID8gaW1nIDogYCR7QVBJX1VSTH0ke2ltZy5zdGFydHNXaXRoKCcvJykgPyAnJyA6ICcvJ30ke2ltZ31gXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gU2kgbm8gaGF5IGltw6FnZW5lcywgdXNhciB1bmEgaW1hZ2VuIHBvciBkZWZlY3RvXG4gICAgICAgICAgaWYgKGltYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGltYWdlcyA9IFsnL2ltZy9kZWZhdWx0LXByb3BlcnR5LWltYWdlLmpwZyddO1xuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4ucHJvcGVydHksXG4gICAgICAgICAgICBfaWQ6IHByb3BlcnR5Ll9pZCxcbiAgICAgICAgICAgIHRpdGxlOiBwcm9wZXJ0eS50aXRsZSB8fCBwcm9wZXJ0eS5uYW1lIHx8ICdQcm9waWVkYWQgc2luIHTDrXR1bG8nLFxuICAgICAgICAgICAgZGVzY3JpcHRpb246IHByb3BlcnR5LmRlc2NyaXB0aW9uIHx8ICcnLFxuICAgICAgICAgICAgcHJpY2U6IHByb3BlcnR5LnByaWNlIHx8ICcwJywgLy8gTWFudGVuZXIgY29tbyBzdHJpbmdcbiAgICAgICAgICAgIGxvY2F0aW9uOiBwcm9wZXJ0eS5sb2NhdGlvbiB8fCAnTWFkcmlkJyxcbiAgICAgICAgICAgIGJlZHJvb21zOiBwcm9wZXJ0eS5iZWRyb29tcyB8fCAwLFxuICAgICAgICAgICAgYmF0aHJvb21zOiBwcm9wZXJ0eS5iYXRocm9vbXMgfHwgMCxcbiAgICAgICAgICAgIHNpemU6IHByb3BlcnR5Lm0yIHx8IHByb3BlcnR5LmFyZWEgfHwgcHJvcGVydHkuc2l6ZSB8fCAwLFxuICAgICAgICAgICAgbGl2aW5nQXJlYTogcHJvcGVydHkubTIgfHwgcHJvcGVydHkuYXJlYSB8fCBwcm9wZXJ0eS5zaXplIHx8IDAsXG4gICAgICAgICAgICBpbWFnZXM6IGltYWdlcyxcbiAgICAgICAgICAgIHNvdXJjZTogJ21vbmdvZGInXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBjb25zb2xlLmxvZyhgVG90YWwgZGUgcHJvcGllZGFkZXMgZGUgTW9uZ29EQiBvYnRlbmlkYXM6ICR7bW9uZ29EYXRhLmxlbmd0aH1gKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJMYSByZXNwdWVzdGEgbm8gZXMgSlNPTiB2w6FsaWRvOlwiLCBhd2FpdCBtb25nb1Jlc3BvbnNlLnRleHQoKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IG1vbmdvUmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGBFcnJvciBhbCBvYnRlbmVyIHByb3BpZWRhZGVzIGRlIE1vbmdvREI6ICR7bW9uZ29SZXNwb25zZS5zdGF0dXN9YCwgZXJyb3JUZXh0KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgYWwgb2J0ZW5lciBwcm9waWVkYWRlcyBkZSBNb25nb0RCOiAke21vbmdvUmVzcG9uc2Uuc3RhdHVzfWAsIG1vbmdvUmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChtb25nb0Vycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIG9idGVuZXIgcHJvcGllZGFkZXMgZGUgTW9uZ29EQjpcIiwgbW9uZ29FcnJvcik7XG4gIH1cbiAgXG4gIC8vIENvbWJpbmFyIGxvcyByZXN1bHRhZG9zIGRlIGFtYmFzIGZ1ZW50ZXNcbiAgY29uc3QgY29tYmluZWREYXRhID0gWy4uLm1vbmdvRGF0YSwgLi4ud3BEYXRhXTtcbiAgXG4gIGNvbnNvbGUubG9nKGBUb3RhbCBkZSBwcm9waWVkYWRlcyBjb21iaW5hZGFzOiAke2NvbWJpbmVkRGF0YS5sZW5ndGh9YCk7XG4gIHJldHVybiBjb21iaW5lZERhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRQcm9wZXJ0eUJ5SWQoaWQpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBJbmljaWFuZG8gZ2V0UHJvcGVydHlCeUlkIHBhcmEgSUQ6ICR7aWR9YCk7XG4gICAgXG4gICAgLy8gVmVyaWZpY2FyIHNpIGVzIHVuIElEIGRlIE1vbmdvREIgKGZvcm1hdG8gT2JqZWN0SWQpXG4gICAgY29uc3QgaXNNb25nb0lkID0gL15bMC05YS1mQS1GXXsyNH0kLy50ZXN0KGlkKTtcbiAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSDCv0VzIElEIGRlIE1vbmdvREI/ICR7aXNNb25nb0lkfWApO1xuICAgIFxuICAgIC8vIENyZWFyIHVuIGNvbnRyb2xhZG9yIGRlIGFib3J0byBwYXJhIGVzdGFibGVjZXIgdW4gdGltZW91dFxuICAgIGNvbnN0IGNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBUSU1FT1VUIGFsY2FuemFkbyBwYXJhIGxhIHByb3BpZWRhZCBjb24gSUQ6ICR7aWR9YCk7XG4gICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgfSwgMTAwMDApOyAvLyAxMCBzZWd1bmRvcyB0aW1lb3V0XG4gICAgXG4gICAgbGV0IHJlc3BvbnNlO1xuICAgIFxuICAgIGlmIChpc01vbmdvSWQpIHtcbiAgICAgIC8vIEVzIHVuIElEIGRlIE1vbmdvREIsIG9idGVuZXIgZGUgbnVlc3RyYSBBUElcbiAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIE9idGVuaWVuZG8gcHJvcGllZGFkIGRlIE1vbmdvREIgY29uIElEICR7aWR9YCk7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFVzYXIgbGEgVVJMIGJhc2Ugc2Vnw7puIGVsIGVudG9ybm9cbiAgICAgICAgY29uc3QgYmFzZVVybCA9IHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnIFxuICAgICAgICAgID8gQVBJX1VSTCAvLyBFbiBlbCBzZXJ2aWRvclxuICAgICAgICAgIDogJyc7IC8vIEVuIGVsIGNsaWVudGUgKFVSTCByZWxhdGl2YSlcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHVybCA9IGAke2Jhc2VVcmx9L3Byb3BlcnR5LyR7aWR9YDtcbiAgICAgICAgY29uc29sZS5sb2coYFtERUJVR10gVVJMIGRlIHBldGljacOzbiBNb25nb0RCOiAke3VybH1gKTtcbiAgICAgICAgXG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tc3RvcmUsIG11c3QtcmV2YWxpZGF0ZScsXG4gICAgICAgICAgICAnUHJhZ21hJzogJ25vLWNhY2hlJyxcbiAgICAgICAgICAgICdFeHBpcmVzJzogJzAnXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIFJlc3B1ZXN0YSBNb25nb0RCIHJlY2liaWRhOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtERUJVR10gRXJyb3IgZW4gZmV0Y2ggTW9uZ29EQjpgLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIltERUJVR10gTGEgc29saWNpdHVkIGEgTW9uZ29EQiBzZSBjYW5jZWzDsyBwb3IgdGltZW91dFwiKTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaWVtcG8gZGUgZXNwZXJhIGFnb3RhZG8gYWwgb2J0ZW5lciBsYSBwcm9waWVkYWQuIFBvciBmYXZvciwgaW50w6ludGFsbyBkZSBudWV2by5cIik7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBFcyB1biBJRCBkZSBXb29Db21tZXJjZSwgdXNhciBudWVzdHJvIHByb3h5XG4gICAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBPYnRlbmllbmRvIHByb3BpZWRhZCBkZSBXb29Db21tZXJjZSBjb24gSUQgJHtpZH1gKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVXNhciBsYSBVUkwgYmFzZSBzZWfDum4gZWwgZW50b3Jub1xuICAgICAgICBjb25zdCBiYXNlVXJsID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgXG4gICAgICAgICAgPyBgJHtBUElfVVJMfS9hcGkvd29yZHByZXNzLXByb3h5YCAvLyBFbiBlbCBzZXJ2aWRvclxuICAgICAgICAgIDogJy9hcGkvd29yZHByZXNzLXByb3h5JzsgLy8gRW4gZWwgY2xpZW50ZVxuICAgICAgICBcbiAgICAgICAgY29uc3QgdXJsID0gYCR7YmFzZVVybH0/cGF0aD1wcm9kdWN0cy8ke2lkfWA7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIFVSTCBkZSBwZXRpY2nDs24gV29vQ29tbWVyY2U6ICR7dXJsfWApO1xuICAgICAgICBcbiAgICAgICAgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlLCBuby1zdG9yZSwgbXVzdC1yZXZhbGlkYXRlJyxcbiAgICAgICAgICAgICdQcmFnbWEnOiAnbm8tY2FjaGUnLFxuICAgICAgICAgICAgJ0V4cGlyZXMnOiAnMCdcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgY29uc29sZS5sb2coYFtERUJVR10gUmVzcHVlc3RhIFdvb0NvbW1lcmNlIHJlY2liaWRhOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXRJZCk7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYFtERUJVR10gRXJyb3IgZW4gZmV0Y2ggV29vQ29tbWVyY2U6YCwgZXJyb3IpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVycm9yLm5hbWUgPT09ICdBYm9ydEVycm9yJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJbREVCVUddIExhIHNvbGljaXR1ZCBhIFdvb0NvbW1lcmNlIHNlIGNhbmNlbMOzIHBvciB0aW1lb3V0XCIpO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRpZW1wbyBkZSBlc3BlcmEgYWdvdGFkbyBhbCBvYnRlbmVyIGxhIHByb3BpZWRhZC4gUG9yIGZhdm9yLCBpbnTDqW50YWxvIGRlIG51ZXZvLlwiKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICAgIC8vIExpbXBpYXIgZWwgdGltZW91dFxuICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgIFxuICAgIC8vIFZlcmlmaWNhciBzaSBsYSByZXNwdWVzdGEgZXMgZXhpdG9zYVxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYFtERUJVR10gRXJyb3IgZW4gcmVzcHVlc3RhOiAke3Jlc3BvbnNlLnN0YXR1c30gJHtyZXNwb25zZS5zdGF0dXNUZXh0fWApO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBhbCBvYnRlbmVyIHByb3BpZWRhZDogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gKTtcbiAgICB9XG4gICAgXG4gICAgLy8gT2J0ZW5lciBsb3MgZGF0b3MgZGUgbGEgcmVzcHVlc3RhXG4gICAgY29uc29sZS5sb2coYFtERUJVR10gSW50ZW50YW5kbyBvYnRlbmVyIEpTT04gZGUgbGEgcmVzcHVlc3RhYCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBKU09OIG9idGVuaWRvIGNvcnJlY3RhbWVudGUgcGFyYSBJRCAke2lkfWApO1xuICAgIFxuICAgIC8vIFByb2Nlc2FyIGxvcyBkYXRvcyBzZWfDum4gZWwgdGlwbyBkZSBwcm9waWVkYWRcbiAgICBpZiAoaXNNb25nb0lkKSB7XG4gICAgICBjb25zb2xlLmxvZyhgW0RFQlVHXSBQcm9jZXNhbmRvIGRhdG9zIGRlIE1vbmdvREJgKTtcbiAgICAgIC8vIFByb2Nlc2FyIGxhcyBpbcOhZ2VuZXMgcGFyYSBhc2VndXJhciBVUkxzIGFic29sdXRhc1xuICAgICAgbGV0IGltYWdlcyA9IFtdO1xuICAgICAgaWYgKGRhdGEuaW1hZ2VzKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEuaW1hZ2VzKSkge1xuICAgICAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIFByb2Nlc2FuZG8gYXJyYXkgZGUgaW3DoWdlbmVzOiAke2RhdGEuaW1hZ2VzLmxlbmd0aH0gaW3DoWdlbmVzYCk7XG4gICAgICAgICAgaW1hZ2VzID0gZGF0YS5pbWFnZXMubWFwKGltZyA9PiB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGltZyA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgLy8gU2kgbGEgaW1hZ2VuIGVzIHVuYSBjYWRlbmEsIHZlcmlmaWNhciBzaSBlcyB1bmEgVVJMIGFic29sdXRhXG4gICAgICAgICAgICAgIHJldHVybiBpbWcuc3RhcnRzV2l0aCgnaHR0cCcpID8gaW1nIDogYCR7QVBJX1VSTH0ke2ltZy5zdGFydHNXaXRoKCcvJykgPyAnJyA6ICcvJ30ke2ltZ31gO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaW1nID09PSAnb2JqZWN0JyAmJiBpbWcuc3JjKSB7XG4gICAgICAgICAgICAgIC8vIFNpIGVzIHVuIG9iamV0byBjb24gc3JjLCBhc2VndXJhciBxdWUgc2VhIHVuYSBVUkwgYWJzb2x1dGFcbiAgICAgICAgICAgICAgY29uc3Qgc3JjID0gaW1nLnNyYy5zdGFydHNXaXRoKCdodHRwJykgPyBpbWcuc3JjIDogYCR7QVBJX1VSTH0ke2ltZy5zcmMuc3RhcnRzV2l0aCgnLycpID8gJycgOiAnLyd9JHtpbWcuc3JjfWA7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaW1nLFxuICAgICAgICAgICAgICAgIHNyY1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGltZztcbiAgICAgICAgICB9KS5maWx0ZXIoaW1nID0+IGltZyk7IC8vIEZpbHRyYXIgdmFsb3JlcyBudWxvcyBvIGluZGVmaW5pZG9zXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGRhdGEuaW1hZ2VzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIC8vIFNpIGltYWdlcyBlcyB1bmEgY2FkZW5hXG4gICAgICAgICAgY29uc29sZS5sb2coYFtERUJVR10gUHJvY2VzYW5kbyBpbWFnZW4gw7puaWNhIChzdHJpbmcpYCk7XG4gICAgICAgICAgY29uc3QgaW1nID0gZGF0YS5pbWFnZXM7XG4gICAgICAgICAgaW1hZ2VzID0gW2ltZy5zdGFydHNXaXRoKCdodHRwJykgPyBpbWcgOiBgJHtBUElfVVJMfSR7aW1nLnN0YXJ0c1dpdGgoJy8nKSA/ICcnIDogJy8nfSR7aW1nfWBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIFNpIG5vIGhheSBpbcOhZ2VuZXMsIHVzYXIgdW5hIGltYWdlbiBwb3IgZGVmZWN0b1xuICAgICAgaWYgKGltYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtERUJVR10gTm8gc2UgZW5jb250cmFyb24gaW3DoWdlbmVzLCB1c2FuZG8gaW1hZ2VuIHBvciBkZWZlY3RvYCk7XG4gICAgICAgIGltYWdlcyA9IFsnL2ltZy9kZWZhdWx0LXByb3BlcnR5LWltYWdlLmpwZyddO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBBc2VndXJhcnNlIGRlIHF1ZSB0b2RvcyBsb3MgY2FtcG9zIGNyw610aWNvcyBlc3TDqW4gZGVmaW5pZG9zXG4gICAgICBjb25zdCByZXN1bHQgPSB7IFxuICAgICAgICAuLi5kYXRhLCBcbiAgICAgICAgX2lkOiBkYXRhLl9pZCxcbiAgICAgICAgdGl0bGU6IGRhdGEudGl0bGUgfHwgZGF0YS5uYW1lIHx8ICdQcm9waWVkYWQgc2luIHTDrXR1bG8nLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgcHJpY2U6IGRhdGEucHJpY2UgfHwgJzAnLCAvLyBNYW50ZW5lciBjb21vIHN0cmluZ1xuICAgICAgICBsb2NhdGlvbjogZGF0YS5sb2NhdGlvbiB8fCAnTWFkcmlkJyxcbiAgICAgICAgYmVkcm9vbXM6IGRhdGEuYmVkcm9vbXMgfHwgZGF0YS5yb29tcyB8fCAwLFxuICAgICAgICBiYXRocm9vbXM6IGRhdGEuYmF0aHJvb21zIHx8IGRhdGEud2MgfHwgMCxcbiAgICAgICAgc2l6ZTogZGF0YS5hcmVhIHx8IGRhdGEubTIgfHwgMCxcbiAgICAgICAgaW1hZ2VzOiBpbWFnZXMsXG4gICAgICAgIHNvdXJjZTogJ21vbmdvZGInIFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtERUJVR10gRGF0b3MgZGUgTW9uZ29EQiBwcm9jZXNhZG9zIGNvcnJlY3RhbWVudGVgKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIFByb2Nlc2FuZG8gZGF0b3MgZGUgV29vQ29tbWVyY2VgKTtcbiAgICAgIC8vIFByb2Nlc2FyIGxhcyBpbcOhZ2VuZXMgcGFyYSBhc2VndXJhciBxdWUgdGVuZW1vcyBVUkxzIHbDoWxpZGFzXG4gICAgICBsZXQgaW1hZ2VzID0gW107XG4gICAgICBcbiAgICAgIC8vIEludGVudGFyIG9idGVuZXIgaW3DoWdlbmVzIGRlIGRpZmVyZW50ZXMgZnVlbnRlcyBlbiBXb29Db21tZXJjZVxuICAgICAgaWYgKGRhdGEuaW1hZ2VzICYmIEFycmF5LmlzQXJyYXkoZGF0YS5pbWFnZXMpICYmIGRhdGEuaW1hZ2VzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgY29uc29sZS5sb2coYFtERUJVR10gUHJvY2VzYW5kbyBhcnJheSBkZSBpbcOhZ2VuZXMgV29vQ29tbWVyY2U6ICR7ZGF0YS5pbWFnZXMubGVuZ3RofSBpbcOhZ2VuZXNgKTtcbiAgICAgICAgaW1hZ2VzID0gZGF0YS5pbWFnZXMubWFwKGltZyA9PiBpbWcuc3JjIHx8IGltZykuZmlsdGVyKGltZyA9PiBpbWcpO1xuICAgICAgfSBlbHNlIGlmIChkYXRhLmltYWdlICYmIGRhdGEuaW1hZ2Uuc3JjKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIFByb2Nlc2FuZG8gaW1hZ2VuIMO6bmljYSBXb29Db21tZXJjZWApO1xuICAgICAgICBpbWFnZXMgPSBbZGF0YS5pbWFnZS5zcmNdO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaSBubyBoYXkgaW3DoWdlbmVzLCB1c2FyIHVuYSBpbWFnZW4gcG9yIGRlZmVjdG9cbiAgICAgIGlmIChpbWFnZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGBbREVCVUddIE5vIHNlIGVuY29udHJhcm9uIGltw6FnZW5lcyBXb29Db21tZXJjZSwgdXNhbmRvIGltYWdlbiBwb3IgZGVmZWN0b2ApO1xuICAgICAgICBpbWFnZXMgPSBbJy9pbWcvZGVmYXVsdC1wcm9wZXJ0eS1pbWFnZS5qcGcnXTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQXNlZ3VyYXJzZSBkZSBxdWUgdG9kb3MgbG9zIGNhbXBvcyBjcsOtdGljb3MgZXN0w6luIGRlZmluaWRvc1xuICAgICAgY29uc3QgcmVzdWx0ID0geyBcbiAgICAgICAgLi4uZGF0YSwgXG4gICAgICAgIGlkOiBkYXRhLmlkLFxuICAgICAgICB0aXRsZTogZGF0YS5uYW1lIHx8ICdQcm9waWVkYWQgc2luIHTDrXR1bG8nLFxuICAgICAgICBkZXNjcmlwdGlvbjogZGF0YS5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgcHJpY2U6IGRhdGEucHJpY2UgfHwgJzAnLCAvLyBNYW50ZW5lciBjb21vIHN0cmluZ1xuICAgICAgICBsb2NhdGlvbjogZGF0YS5hZGRyZXNzIHx8ICdNYWRyaWQnLFxuICAgICAgICBiZWRyb29tczogZGF0YS5tZXRhX2RhdGE/LmZpbmQobSA9PiBtLmtleSA9PT0gJ2JlZHJvb21zJyk/LnZhbHVlIHx8IDAsXG4gICAgICAgIGJhdGhyb29tczogZGF0YS5tZXRhX2RhdGE/LmZpbmQobSA9PiBtLmtleSA9PT0gJ2JhdGhyb29tcycpPy52YWx1ZSB8fCAwLFxuICAgICAgICBzaXplOiBkYXRhLm1ldGFfZGF0YT8uZmluZChtID0+IG0ua2V5ID09PSAnYXJlYScpPy52YWx1ZSB8fCAwLFxuICAgICAgICBpbWFnZXM6IGltYWdlcyxcbiAgICAgICAgc291cmNlOiAnd29vY29tbWVyY2UnIFxuICAgICAgfTtcbiAgICAgIFxuICAgICAgY29uc29sZS5sb2coYFtERUJVR10gRGF0b3MgZGUgV29vQ29tbWVyY2UgcHJvY2VzYWRvcyBjb3JyZWN0YW1lbnRlYCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiW0RFQlVHXSBFcnJvciBlbiBnZXRQcm9wZXJ0eUJ5SWQ6XCIsIGVycm9yKTtcbiAgICBjb25zb2xlLmVycm9yKFwiW0RFQlVHXSBTdGFjayB0cmFjZTpcIiwgZXJyb3Iuc3RhY2spO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEZ1bmNpw7NuIHBhcmEgZW52aWFyIGVsIGZvcm11bGFyaW8gZGUgY29udGFjdG9cbmV4cG9ydCBjb25zdCBzZW5kRW1haWwgPSBhc3luYyAoZGF0YSkgPT4ge1xuICB0cnkge1xuICAgXG4gICAgXG4gICAgLy8gUmVmb3JtYXRlYXIgbG9zIGRhdG9zIHBhcmEgYWRhcHRhcnNlIGFsIGZvcm1hdG8gZXNwZXJhZG8gcG9yIGxhIEFQSVxuICAgIGNvbnN0IGZvcm1hdHRlZERhdGEgPSB7XG4gICAgICBub21icmU6IGRhdGEubmFtZSxcbiAgICAgIGVtYWlsOiBkYXRhLmVtYWlsLFxuICAgICAgcHJlZml4OiBkYXRhLnByZWZpeCB8fCAnKzM0JyxcbiAgICAgIHRlbGVmb25vOiBkYXRhLnBob25lIHx8ICcnLFxuICAgICAgYXN1bnRvOiBkYXRhLm1lc3NhZ2UgLy8gRWwgbWVuc2FqZSBsbyBlbnZpYW1vcyBjb21vIGFzdW50byBxdWUgZXMgbG8gcXVlIGVzcGVyYSBlbCBiYWNrZW5kXG4gICAgfTtcbiAgICBcbiAgICAvLyBWYWxpZGFjacOzbiBsb2NhbCBhY3R1YWxpemFkYSBwYXJhIGNhbXBvc1xuICAgIGlmICghZm9ybWF0dGVkRGF0YS5ub21icmUgfHwgIWZvcm1hdHRlZERhdGEuZW1haWwpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJGYWx0YW4gZGF0b3Mgb2JsaWdhdG9yaW9zOlwiLCBmb3JtYXR0ZWREYXRhKTtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICBtZXNzYWdlOiAnRmFsdGFuIGRhdG9zIHJlcXVlcmlkb3M6IG5vbWJyZSB5IGVtYWlsIHNvbiBvYmxpZ2F0b3Jpb3MnLFxuICAgICAgICBlcnJvcjogJ1ZhbGlkYWNpw7NuIGxvY2FsJyxcbiAgICAgICAgb2s6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBEZWZpbmlyIGVsIGVuZHBvaW50IHBhcmEgZWwgY29udGFjdG9cbiAgICBjb25zdCBlbmRwb2ludCA9IGAke0FQSV9VUkx9L2FwaS9jb250YWN0YDtcbiAgICBcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgIH0sXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtYXR0ZWREYXRhKSxcbiAgICB9KTtcbiAgICBcbiAgICAvLyBDYXB0dXJhciBsYSByZXNwdWVzdGEgY29tbyB0ZXh0byBwYXJhIGRlYnVnZ2luZ1xuICAgIGNvbnN0IHJlc3BvbnNlVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICBcbiAgICAvLyBJbnRlbnRhciBwYXJzZWFyIGxhIHJlc3B1ZXN0YSBjb21vIEpTT05cbiAgICBsZXQgcmVzcG9uc2VEYXRhO1xuICAgIHRyeSB7XG4gICAgICByZXNwb25zZURhdGEgPSBKU09OLnBhcnNlKHJlc3BvbnNlVGV4dCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihcIlJlc3B1ZXN0YSBubyBlcyBKU09OIHbDoWxpZG9cIik7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgbWVzc2FnZTogJ0Zvcm1hdG8gZGUgcmVzcHVlc3RhIGludsOhbGlkbycsXG4gICAgICAgIGVycm9yOiAnRWwgc2Vydmlkb3Igbm8gcmVzcG9uZGnDsyBjb24gdW4gZm9ybWF0byB2w6FsaWRvJyxcbiAgICAgICAgb2s6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgICBcbiAgICAvLyBBZ3JlZ2FyIGxhIHByb3BpZWRhZCBvayBwYXJhIGNvbXBhdGliaWxpZGFkIGNvbiBlbCBjw7NkaWdvIGV4aXN0ZW50ZVxuICAgIHJlc3BvbnNlRGF0YS5vayA9IHJlc3BvbnNlLm9rO1xuICAgIFxuICAgIHJldHVybiByZXNwb25zZURhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFsIGVudmlhciBmb3JtdWxhcmlvOlwiLCBlcnJvcik7XG4gICAgLy8gRGV2b2x2ZXIgdW4gb2JqZXRvIGNvbiBmb3JtYXRvIHNpbWlsYXIgYWwgZGUgcmVzcHVlc3RhIGV4aXRvc2FcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiAnRXJyb3IgZGUgY29uZXhpw7NuJyxcbiAgICAgIGVycm9yOiBlcnJvci5tZXNzYWdlLFxuICAgICAgb2s6IGZhbHNlXG4gICAgfTtcbiAgfVxufTtcblxuZXhwb3J0IGNvbnN0IHNlbmRQcm9wZXJ0eUVtYWlsID0gYXN5bmMgKGRhdGEpID0+IHtcbiAgdHJ5IHtcbiAgICAvLyBVc2Ftb3MgbGEgY29uc3RhbnRlIEFQSV9VUkwgcXVlIHlhIGVzdMOhIGRlZmluaWRhIGVuIGVsIGFyY2hpdm9cbiAgICBsZXQgZW5kcG9pbnQgPSBgJHtBUElfVVJMfS9hcGkvcHJvcGVydHktbm90aWZpY2F0aW9uYDtcbiAgICBcbiAgICAvLyBTaSBlcyB1bmEgb2ZlcnRhLCB1c2FyIGxhIG51ZXZhIHJ1dGFcblxuICAgIFxuICAgIGlmIChkYXRhLnR5cGUgPT09ICdvZmZlcicpIHtcbiAgICAgIGVuZHBvaW50ID0gYCR7QVBJX1VSTH0vYXBpL3Byb3BlcnR5LW9mZmVyL2NyZWF0ZWA7XG4gICAgICBcbiAgICAgIC8vIFJlbm9tYnJhciBjYW1wb3Mgc2kgZXMgbmVjZXNhcmlvIHBhcmEgbWFudGVuZXIgY29tcGF0aWJpbGlkYWRcbiAgICAgIGNvbnN0IHsgdHlwZSwgLi4ub2ZmZXJEYXRhIH0gPSBkYXRhO1xuICAgIFxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChlbmRwb2ludCwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgICB9LFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShvZmZlckRhdGEpLFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgZXJyb3JUZXh0ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBlbiByZXNwdWVzdGE6JywgZXJyb3JUZXh0KTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBlbiBsYSByZXNwdWVzdGEgZGVsIHNlcnZpZG9yJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gICAgfVxuICAgIFxuICAgIC8vIFBhcmEgb3Ryb3MgdGlwb3MgKHZpc2l0YXMpLCB1c2FyIGxhIHJ1dGEgb3JpZ2luYWxcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGVuZHBvaW50LCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhdGEpLFxuICAgIH0pO1xuICAgIFxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGNvbnN0IGVycm9yVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGVuIHJlc3B1ZXN0YTonLCBlcnJvclRleHQpO1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdFcnJvciBlbiBsYSByZXNwdWVzdGEgZGVsIHNlcnZpZG9yJyk7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBhd2FpdCByZXNwb25zZS5qc29uKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgYWwgZW52aWFyIGVtYWlsOicsIGVycm9yKTtcbiAgICByZXR1cm4ge1xuICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIHx8ICdFcnJvciBhbCBwcm9jZXNhciBsYSBzb2xpY2l0dWQnLFxuICAgIH07XG4gIH1cbn07XG5cblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xuICBjb25zdCB7IHVybCB9ID0gcmVxLnF1ZXJ5O1xuICBcbiAgaWYgKCF1cmwpIHtcbiAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oeyBlcnJvcjogJ1VSTCBubyBwcm9wb3JjaW9uYWRhJyB9KTtcbiAgfVxuICBcbiAgdHJ5IHtcbiAgICBjb25zdCBpbWFnZVJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsKTtcbiAgICBjb25zdCBpbWFnZUJ1ZmZlciA9IGF3YWl0IGltYWdlUmVzcG9uc2UuYXJyYXlCdWZmZXIoKTtcbiAgICBcbiAgICAvLyBPYnRlbmVyIGVsIHRpcG8gZGUgY29udGVuaWRvXG4gICAgY29uc3QgY29udGVudFR5cGUgPSBpbWFnZVJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICBcbiAgICAvLyBDb25maWd1cmFyIGNhYmVjZXJhcyBkZSByZXNwdWVzdGFcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LVR5cGUnLCBjb250ZW50VHlwZSk7XG4gICAgcmVzLnNldEhlYWRlcignQ2FjaGUtQ29udHJvbCcsICdwdWJsaWMsIG1heC1hZ2U9ODY0MDAnKTsgLy8gQ2FjaGVhciBwb3IgMjQgaG9yYXNcbiAgICBcbiAgICAvLyBFbnZpYXIgbGEgaW1hZ2VuXG4gICAgcmVzLnN0YXR1cygyMDApLnNlbmQoQnVmZmVyLmZyb20oaW1hZ2VCdWZmZXIpKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBvYnRlbmVyIGltYWdlbjonLCBlcnJvcik7XG4gICAgcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0Vycm9yIGFsIG9idGVuZXIgbGEgaW1hZ2VuJyB9KTtcbiAgfVxufSAiXSwibmFtZXMiOlsiQVBJX1VSTCIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19BUElfVVJMIiwiV0NfQ09OU1VNRVJfS0VZIiwiTkVYVF9QVUJMSUNfTkVYVF9QVUJMSUNfV09PX0NPTU1FUkNFX0tFWSIsIldDX0NPTlNVTUVSX1NFQ1JFVCIsIk5FWFRfUFVCTElDX1dPT19DT01NRVJDRV9TRUNSRVQiLCJoYW5kbGVBcGlFcnJvciIsImVycm9yIiwiZnVuY3Rpb25OYW1lIiwiY29uc29sZSIsInJlc3BvbnNlIiwiRXJyb3IiLCJzdGF0dXMiLCJzdGF0dXNUZXh0IiwicmVxdWVzdCIsIm1lc3NhZ2UiLCJnZXRDb3VudHJ5UHJlZml4IiwibG9nIiwiY29udHJvbGxlciIsIkFib3J0Q29udHJvbGxlciIsInRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhYm9ydCIsImZldGNoIiwibWV0aG9kIiwiaGVhZGVycyIsInNpZ25hbCIsImNsZWFyVGltZW91dCIsIm9rIiwiY29udGVudFR5cGUiLCJnZXQiLCJpbmNsdWRlcyIsImpzb24iLCJnZXREZWZhdWx0Q291bnRyeVByZWZpeGVzIiwiZ2V0QmxvZ1Bvc3RzIiwiYWxsQmxvZ3MiLCJ3cFJlc3BvbnNlIiwid3BCbG9ncyIsImxlbmd0aCIsImZvckVhY2giLCJibG9nIiwiZmVhdHVyZWRJbWFnZSIsIl9lbWJlZGRlZCIsIm1lZGlhIiwibWVkaWFfZGV0YWlscyIsInNpemVzIiwic2l6ZVByaW9yaXR5Iiwic2l6ZSIsInNvdXJjZV91cmwiLCJ1YWdiX2ZlYXR1cmVkX2ltYWdlX3NyYyIsIm1lZGl1bSIsImZ1bGwiLCJwdXNoIiwiaW1hZ2UiLCJzcmMiLCJhbHQiLCJ0aXRsZSIsInJlbmRlcmVkIiwiY29udGVudCIsImV4Y2VycHQiLCJzb3VyY2UiLCJlcnJvckRhdGEiLCJtb25nb1Jlc3BvbnNlIiwibW9uZ29CbG9ncyIsImJsb2dJbWFnZXMiLCJpbWFnZXMiLCJBcnJheSIsImlzQXJyYXkiLCJtYXAiLCJpbWciLCJpbWdTcmMiLCJzdGFydHNXaXRoIiwiYmFzZVVybCIsImltYWdlU3JjIiwidXJsIiwiX2lkIiwiTWF0aCIsIkRhdGUiLCJub3ciLCJyYW5kb20iLCJ0b1N0cmluZyIsInN1YnN0cmluZyIsImRlc2NyaXB0aW9uIiwiZGF0ZSIsImNyZWF0ZWRBdCIsInRvSVNPU3RyaW5nIiwiZGF0ZUZvcm1hdHRlZCIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRleHQiLCJlcnJvclRleHQiLCJlIiwiZGVsZXRlQmxvZ1Bvc3QiLCJpZCIsImdldEJsb2dCeUlkIiwiaXNNb25nb0lkIiwidGVzdCIsImRhdGEiLCJpbWFnZVVybCIsInNsdWciLCJnZXRQcm9wZXJ0eVBvc3RzIiwid3BEYXRhIiwibW9uZ29EYXRhIiwiZmlyc3RQYWdlUmVzcG9uc2UiLCJ0b3RhbFBhZ2VzIiwicGFyc2VJbnQiLCJmaXJzdFBhZ2VEYXRhIiwid3BQcm9wZXJ0aWVzV2l0aFNvdXJjZSIsInByb3BlcnR5IiwicGFnZVByb21pc2VzIiwicGFnZSIsInRoZW4iLCJyZXMiLCJwYWdlRGF0YSIsImFkZGl0aW9uYWxQYWdlc0RhdGEiLCJQcm9taXNlIiwiYWxsIiwid3BFcnJvciIsInByb3BlcnRpZXMiLCJuYW1lIiwicHJpY2UiLCJsb2NhdGlvbiIsImJlZHJvb21zIiwiYmF0aHJvb21zIiwibTIiLCJhcmVhIiwibGl2aW5nQXJlYSIsIm1vbmdvRXJyb3IiLCJjb21iaW5lZERhdGEiLCJnZXRQcm9wZXJ0eUJ5SWQiLCJmaWx0ZXIiLCJyZXN1bHQiLCJyb29tcyIsIndjIiwiYWRkcmVzcyIsIm1ldGFfZGF0YSIsImZpbmQiLCJtIiwia2V5IiwidmFsdWUiLCJzdGFjayIsInNlbmRFbWFpbCIsImZvcm1hdHRlZERhdGEiLCJub21icmUiLCJlbWFpbCIsInByZWZpeCIsInRlbGVmb25vIiwicGhvbmUiLCJhc3VudG8iLCJzdWNjZXNzIiwiZW5kcG9pbnQiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsInJlc3BvbnNlVGV4dCIsInJlc3BvbnNlRGF0YSIsInBhcnNlIiwic2VuZFByb3BlcnR5RW1haWwiLCJ0eXBlIiwib2ZmZXJEYXRhIiwiaGFuZGxlciIsInJlcSIsInF1ZXJ5IiwiaW1hZ2VSZXNwb25zZSIsImltYWdlQnVmZmVyIiwiYXJyYXlCdWZmZXIiLCJzZXRIZWFkZXIiLCJzZW5kIiwiQnVmZmVyIiwiZnJvbSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/api.js\n"));

/***/ }),

/***/ "./src/pages/vender/comprar/index.js":
/*!*******************************************!*\
  !*** ./src/pages/vender/comprar/index.js ***!
  \*******************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ Comprar; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/head */ \"./node_modules/next/head.js\");\n/* harmony import */ var next_head__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_propiedades_PropertyPage__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/propiedades/PropertyPage */ \"./src/components/propiedades/PropertyPage.jsx\");\n\n\n\nfunction Comprar() {\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)((next_head__WEBPACK_IMPORTED_MODULE_1___default()), {\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"title\", {\n                        children: \"Propiedades en Venta | Goza Madrid\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/pages/vender/comprar/index.js\",\n                        lineNumber: 9,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"meta\", {\n                        name: \"description\",\n                        content: \"Explora nuestra selecci\\xf3n de propiedades en venta en Madrid. Encuentra tu hogar ideal con Goza Madrid.\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/pages/vender/comprar/index.js\",\n                        lineNumber: 10,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"link\", {\n                        rel: \"icon\",\n                        href: \"/favicon.ico\"\n                    }, void 0, false, {\n                        fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/pages/vender/comprar/index.js\",\n                        lineNumber: 11,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/pages/vender/comprar/index.js\",\n                lineNumber: 8,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_propiedades_PropertyPage__WEBPACK_IMPORTED_MODULE_2__[\"default\"], {}, void 0, false, {\n                fileName: \"/home/nacho/Documentos/Programaci\\xf3n/nextjs-gozamadrid/frontend/src/pages/vender/comprar/index.js\",\n                lineNumber: 13,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true);\n}\n_c = Comprar;\nvar _c;\n$RefreshReg$(_c, \"Comprar\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvdmVuZGVyL2NvbXByYXIvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUE2QjtBQUVvQztBQUVsRCxTQUFTRTtJQUN0QixxQkFDRTs7MEJBQ0UsOERBQUNGLGtEQUFJQTs7a0NBQ0gsOERBQUNHO2tDQUFNOzs7Ozs7a0NBQ1AsOERBQUNDO3dCQUFLQyxNQUFLO3dCQUFjQyxTQUFROzs7Ozs7a0NBQ2pDLDhEQUFDQzt3QkFBS0MsS0FBSTt3QkFBT0MsTUFBSzs7Ozs7Ozs7Ozs7OzBCQUV4Qiw4REFBQ1IsNEVBQVlBOzs7Ozs7O0FBR25CO0tBWHdCQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvcGFnZXMvdmVuZGVyL2NvbXByYXIvaW5kZXguanM/NmEwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSGVhZCBmcm9tICduZXh0L2hlYWQnO1xuXG5pbXBvcnQgUHJvcGVydHlQYWdlIGZyb20gXCJAL2NvbXBvbmVudHMvcHJvcGllZGFkZXMvUHJvcGVydHlQYWdlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIENvbXByYXIoKSB7XG4gIHJldHVybiAoXG4gICAgPD5cbiAgICAgIDxIZWFkPlxuICAgICAgICA8dGl0bGU+UHJvcGllZGFkZXMgZW4gVmVudGEgfCBHb3phIE1hZHJpZDwvdGl0bGU+XG4gICAgICAgIDxtZXRhIG5hbWU9XCJkZXNjcmlwdGlvblwiIGNvbnRlbnQ9XCJFeHBsb3JhIG51ZXN0cmEgc2VsZWNjacOzbiBkZSBwcm9waWVkYWRlcyBlbiB2ZW50YSBlbiBNYWRyaWQuIEVuY3VlbnRyYSB0dSBob2dhciBpZGVhbCBjb24gR296YSBNYWRyaWQuXCIgLz5cbiAgICAgICAgPGxpbmsgcmVsPVwiaWNvblwiIGhyZWY9XCIvZmF2aWNvbi5pY29cIiAvPlxuICAgICAgPC9IZWFkPlxuICAgICAgPFByb3BlcnR5UGFnZSAvPlxuICAgIDwvPlxuICApO1xufVxuXG5cblxuXG4iXSwibmFtZXMiOlsiSGVhZCIsIlByb3BlcnR5UGFnZSIsIkNvbXByYXIiLCJ0aXRsZSIsIm1ldGEiLCJuYW1lIiwiY29udGVudCIsImxpbmsiLCJyZWwiLCJocmVmIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/pages/vender/comprar/index.js\n"));

/***/ })

},
/******/ function(__webpack_require__) { // webpackRuntimeModules
/******/ var __webpack_exec__ = function(moduleId) { return __webpack_require__(__webpack_require__.s = moduleId); }
/******/ __webpack_require__.O(0, ["vendors-node_modules_framer-motion_dist_es_index_mjs","commons","vendors-node_modules_next_dist_build_webpack_loaders_css-loader_src_runtime_api_js-node_modul-252188","pages/_app","main"], function() { return __webpack_exec__("./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js?absolutePagePath=%2Fhome%2Fnacho%2FDocumentos%2FProgramaci%C3%B3n%2Fnextjs-gozamadrid%2Ffrontend%2Fsrc%2Fpages%2Fvender%2Fcomprar%2Findex.js&page=%2Fvender%2Fcomprar!"); });
/******/ var __webpack_exports__ = __webpack_require__.O();
/******/ _N_E = __webpack_exports__;
/******/ }
]);