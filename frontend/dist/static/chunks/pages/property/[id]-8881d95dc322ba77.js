(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1299],{87307:(e,a,r)=>{"use strict";r.r(a),r.d(a,{__N_SSG:()=>P,default:()=>_});var t=r(37876),o=r(55605),s=r(14232),l=r(54710),n=r.n(l);r(4121);var i=r(73422),c=r.n(i),d=r(92734),m=r(79118),x=r(27036),p=r.n(x),b=r(39200),f=r.n(b);r(98774);var g=r(89062),u=r(30660),h=r(8589),j=r(52815),y=r(1284),v=r(97685),w=r(20225);let N=e=>{if(!e)return console.error("No se puede extraer datos de una propiedad que es null"),{livingArea:0,bedrooms:0,bathrooms:0,floor:0};try{if("woocommerce"===e.source||!e.source&&e.meta_data){console.log("Extrayendo datos de propiedad WooCommerce");let a=0,r=0,t=0,o=0;return e.meta_data&&Array.isArray(e.meta_data)&&e.meta_data.forEach(e=>{"living_area"===e.key&&e.value&&(a=parseInt(e.value,10)||0),"bedrooms"===e.key&&e.value&&(r=parseInt(e.value,10)||0),"ba\xf1os"===e.key&&e.value&&"-1"!==e.value&&(t=parseInt(e.value,10)||0),"Planta"===e.key&&e.value&&(o=parseInt(e.value,10)||0)}),{livingArea:a,bedrooms:r,bathrooms:t,floor:o}}if("mongodb"===e.source)return console.log("Extrayendo datos de propiedad MongoDB"),{livingArea:e.m2||e.area||e.livingArea||e.size||0,bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||0,floor:e.piso||e.floor||0};return console.log("Usando fallback para extracci\xf3n de datos"),{livingArea:e.living_area||e.size||0,bedrooms:e.bedrooms||0,bathrooms:e.bathrooms||e.baños||0,floor:e.floor||e.Planta||0}}catch(e){return console.error("Error al extraer datos de la propiedad:",e),{livingArea:0,bedrooms:0,bathrooms:0,floor:0}}},k=function(e){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:160;if(!e)return"";let r=e.replace(/<[^>]*>/g,"");return r.length>a?r.substring(0,a)+"...":r};function I(e){let{property:a}=e;console.log("Renderizando PropertyContent con propiedad:",a?"ID: ".concat(a.id||a._id):"null");let[r,o]=(0,s.useState)(0),[l,i]=(0,s.useState)(!1),[x,b]=(0,s.useState)(null),[I,S]=(0,s.useState)(null),E=(0,s.useRef)(null),[P,_]=(0,s.useState)(!1),[z,C]=(0,s.useState)(null),R=(0,s.useRef)(null),[A,M]=(0,s.useState)(""),[U,T]=(0,s.useState)(""),[D,L]=(0,s.useState)(""),[O,F]=(0,s.useState)([]),[H,G]=(0,s.useState)(""),[q,V]=(0,s.useState)(""),[W,Z]=(0,s.useState)(!0),[B,Q]=(0,s.useState)({}),[$,J]=(0,s.useState)({livingArea:0,bedrooms:0,bathrooms:0,floor:0});(0,s.useEffect)(()=>{V(window.location.href)},[]),(0,s.useEffect)(()=>{if(a){let e=N(a);J(e),console.log("Datos extra\xeddos de la propiedad:",e)}},[a]),(0,s.useEffect)(()=>{if(!a){console.error("No se recibieron datos de propiedad");return}try{console.log("Procesando im\xe1genes de propiedad:",a.title||a.name);let e=[],r=e=>{if(!e)return console.log("URL de imagen nula o indefinida"),null;if(console.log("Procesando URL de imagen:",e),"object"==typeof e)return(console.log("URL es un objeto:",e),e.src)?(console.log("Usando imageUrl.src:",e.src),r(e.src)):e.url?(console.log("Usando imageUrl.url:",e.url),r(e.url)):e.source_url?(console.log("Usando imageUrl.source_url:",e.source_url),r(e.source_url)):(console.log("Objeto de imagen sin URL reconocible"),null);if("string"!=typeof e)return console.log("URL no es una cadena ni un objeto reconocible:",typeof e),null;if(e.includes("images.weserv.nl"))return console.log("URL ya es proxy, devolviendo tal cual:",e),e;if(!e.startsWith("http")&&!e.startsWith("/")&&!e.startsWith("data:")){let a=window.location.origin,r="".concat(a,"/").concat(e);return console.log("URL relativa convertida a absoluta:",r),r}if(e.startsWith("http")){let a="https://images.weserv.nl/?url=".concat(encodeURIComponent(e),"&n=-1&default=https://via.placeholder.com/800x600?text=Sin+Imagen");return console.log("URL convertida a proxy:",a),a}return console.log("URL local, devolviendo tal cual:",e),e};"woocommerce"===a.source||!a.source&&a.images?a.images&&Array.isArray(a.images)&&(e=a.images.map(e=>{let t=e.src||("string"==typeof e?e:"");return{src:r(t),alt:e.alt||"".concat(a.name||"Propiedad"," - Imagen"),originalSrc:t}}).filter(e=>e.src)):"mongodb"===a.source&&a.images&&Array.isArray(a.images)&&(e=a.images.map(e=>{let t="string"==typeof e?e:e.src||e.url||"";return{src:r(t),alt:"".concat(a.title||"Propiedad"," - Imagen"),originalSrc:t}}).filter(e=>e.src)),e&&0!==e.length||(console.log("No se encontraron im\xe1genes. Usando imagen por defecto"),e=[{src:"/img/default-property-image.jpg",alt:"Imagen por defecto",isDefault:!0}]),console.log("Im\xe1genes procesadas:",e.length),F(e)}catch(e){console.error("Error al procesar im\xe1genes:",e),F([{src:"/img/default-property-image.jpg",alt:"Imagen por defecto (error)",isDefault:!0}])}},[a]),(0,s.useEffect)(()=>{if(!a)return;let e="";G("woocommerce"===a.source||a.id?(e=>{if(!e)return"";let a=e;return(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=(a=a.replace(/\[\/?vc_[^\]]*\]/g,"")).replace(/\[\/?(fusion|vc)_[^\]]*\]/g,"")).replace(/\[[^\]]*\]/g,"")).replace(/Mostrar más|Mostrar menos/gi,"")).replace(/Mostrar másMostrar menos/gi,"")).replace(/<button[^>]*>(Mostrar más|Mostrar menos)<\/button>/gi,"")).replace(/<a[^>]*class="[^"]*mostrarmas[^"]*"[^>]*>.*?<\/a>/gi,"")).replace(/<a[^>]*class="[^"]*mostrarmenos[^"]*"[^>]*>.*?<\/a>/gi,"")).replace(/<h2[^>]*>Ubicación<\/h2>[\s\S]*?(?=<h2|$)/gi,"")).replace(/<h2[^>]*>\s*Ubicación\s*<\/h2>[\s\S]*?(?=<h2|<div class="elementor|$)/gi,"")).replace(/<iframe[^>]*google\.com\/maps[^>]*>[\s\S]*?<\/iframe>/gi,"")).replace(/<div[^>]*class="[^"]*ubicacion[^"]*"[^>]*>[\s\S]*?<\/div>/gi,"")).replace(/<section[^>]*class="[^"]*mapa[^"]*"[^>]*>[\s\S]*?<\/section>/gi,"")).replace(/<div[^>]*>\s*<\/div>/g,"")).replace(/\s{2,}/g," ")).replace(/<p/g,'<p class="mb-4"')).replace(/<ul/g,'<ul class="ml-6 mb-6 list-disc"')).replace(/<h2/g,'<h2 class="text-2xl font-bold mb-4 mt-8"')})(a.description||a.content||""):a.description||"")},[a]);let K=e=>{if(console.error("Error al cargar imagen:",e.target.src),e.target.src&&!e.target.src.includes("images.weserv.nl")&&e.target.src.startsWith("http")){let a="https://images.weserv.nl/?url=".concat(encodeURIComponent(e.target.src),"&n=-1&default=/img/default-property-image.jpg");console.log("Reintentando con proxy:",a),e.target.src=a}else e.target.src&&e.target.src.includes("images.weserv.nl")?console.log("El proxy tambi\xe9n fall\xf3, usando imagen por defecto"):console.log("URL no es HTTP o es local, usando imagen por defecto"),e.target.src="/img/default-property-image.jpg",e.target.alt="Imagen por defecto (error al cargar)";Z(!1),Q(e=>({...e,[r]:!0}))};if((0,s.useEffect)(()=>{B[r]?Z(!1):Z(!0)},[r,B]),(0,s.useEffect)(()=>{if(O.length<=1)return;let e=(r+1)%O.length,a=(r-1+O.length)%O.length;if(O[e]&&!B[e]){let a=new Image;a.src=O[e].src,a.onload=()=>{Q(a=>({...a,[e]:!0}))}}if(O[a]&&!B[a]){let e=new Image;e.src=O[a].src,e.onload=()=>{Q(e=>({...e,[a]:!0}))}}},[r,O,B]),!a)return console.log("Renderizando estado de propiedad no disponible"),(0,t.jsx)("div",{className:"container mx-auto py-8 text-center",children:(0,t.jsx)("p",{className:"text-lg",children:"Informaci\xf3n de la propiedad no disponible"})});console.log("Renderizando propiedad completa:",a.title||a.name),console.log("Im\xe1genes disponibles:",O.length);let X=a.title||a.name||"Propiedad sin t\xedtulo",Y=H||a.description||"",ee=a.price,ea="Consultar precio";if(ee){if("string"==typeof ee){let e=parseFloat(ee.replace(/[^\d.-]/g,""));ea=isNaN(e)?ee:new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e<1e4?1e3*e:e)}else if("number"==typeof ee){let e=ee<1e4?1e3*ee:ee;ea=new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e)}}let er=a.location||"Madrid, Espa\xf1a",et=a.type||"Propiedad",eo="".concat(X," | Propiedad en ").concat(er),es=k(Y,160)||"".concat(et," en ").concat(er,". ").concat($.bedrooms>0?$.bedrooms+" habitaciones, ":"").concat($.bathrooms>0?$.bathrooms+" ba\xf1os, ":"").concat($.livingArea>0?$.livingArea+" m\xb2. ":""),el="".concat(et,", ").concat(er,", inmobiliaria, comprar, alquilar, ").concat($.bedrooms>0?$.bedrooms+" habitaciones, ":"").concat($.livingArea>0?$.livingArea+" m\xb2, ":""),en=O&&O.length>0?O[0].src:"/img/default-property-image.jpg",ei={"@context":"https://schema.org","@type":"RealEstateListing",name:X,description:k(Y,500),url:q,image:O.map(e=>e.src),address:{"@type":"PostalAddress",addressLocality:er.split(",")[0]||"Madrid",addressRegion:"Madrid",addressCountry:"ES"},offers:{"@type":"Offer",price:"number"==typeof ee?ee:"string"==typeof ee?ee.replace(/[^\d]/g,""):"",priceCurrency:"EUR",availability:"https://schema.org/InStock"},numberOfRooms:(null==$?void 0:$.bedrooms)||void 0,numberOfBathroomsTotal:(null==$?void 0:$.bathrooms)||void 0,floorSize:{"@type":"QuantitativeValue",value:(null==$?void 0:$.livingArea)||void 0,unitCode:"MTK"},datePosted:a.date||a.createdAt||a.updatedAt||"2023-01-01T00:00:00.000Z",mainEntityOfPage:q};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{className:"jsx-3ca4eb49aef0a10",children:eo}),(0,t.jsx)("meta",{name:"description",content:es,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"keywords",content:el,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"robots",content:"index, follow",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("link",{rel:"canonical",href:q,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:title",content:"".concat(X," | ").concat(ea),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:description",content:es,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:image",content:en,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:image:alt",content:"Imagen de ".concat(X),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:url",content:q,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:type",content:"website",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:site_name",content:"Goza Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{property:"og:locale",content:"es_ES",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:card",content:"summary_large_image",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:title",content:"".concat(X," | ").concat(ea),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:description",content:es,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:image",content:en,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:image:alt",content:"Imagen de ".concat(X),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"twitter:site",content:"@gozamadrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"geo.region",content:"ES-MD",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"geo.placename",content:er.split(",")[0]||"Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"author",content:"Goza Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{name:"publisher",content:"Goza Madrid",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(ei)},className:"jsx-3ca4eb49aef0a10"})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 container mx-auto px-4 py-8",children:[(0,t.jsxs)("article",{itemScope:!0,itemType:"https://schema.org/RealEstateListing",className:"jsx-3ca4eb49aef0a10 relative",children:[(0,t.jsx)("meta",{itemProp:"name",content:X,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"description",content:k(Y,500),className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"url",content:q,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"datePosted",content:a.date||a.createdAt||a.updatedAt||"2023-01-01T00:00:00.000Z",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"propertyType",content:et,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"numberOfRooms",content:(null==$?void 0:$.bedrooms)||0,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"numberOfBathroomsTotal",content:(null==$?void 0:$.bathrooms)||0,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"floorSize",content:(null==$?void 0:$.livingArea)||0,className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"floorSizeUnit",content:"MTK",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"price",content:"number"==typeof ee?ee:"string"==typeof ee?ee.replace(/[^\d]/g,""):"",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"priceCurrency",content:"EUR",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mb-12 bg-gradient-to-r from-black/80 via-black/70 to-black/80 backdrop-blur-xl p-10 rounded-[2rem] border border-amarillo/20 shadow-2xl relative overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 bg-gradient-to-r from-amarillo/5 via-amarillo/10 to-amarillo/5 animate-shimmer"}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col lg:flex-row lg:items-center lg:justify-between relative z-10",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 lg:mr-8",children:[(0,t.jsx)("h1",{itemProp:"name",className:"jsx-3ca4eb49aef0a10 text-4xl md:text-5xl font-bold text-white mb-4 tracking-tight leading-tight",children:X}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10  items-center mt-4 bg-black/30 backdrop-blur-md px-4 py-3 rounded-xl inline-block",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo p-2 rounded-lg mr-3",children:(0,t.jsx)(m.vq8,{className:"text-black text-xl"})}),(0,t.jsx)("p",{itemProp:"address",itemScope:!0,itemType:"https://schema.org/PostalAddress",className:"jsx-3ca4eb49aef0a10 text-xl text-white font-light",children:(0,t.jsx)("span",{itemProp:"addressLocality",className:"jsx-3ca4eb49aef0a10",children:er})})]})]}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 mt-8 lg:mt-0",children:(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo py-4 px-8 rounded-2xl inline-flex items-center shadow-xl transform hover:scale-105 transition-all duration-500 group",children:[(0,t.jsx)(m.q83,{className:"text-3xl text-black mr-3"}),(0,t.jsxs)("p",{itemProp:"offers",itemScope:!0,itemType:"https://schema.org/Offer",className:"jsx-3ca4eb49aef0a10 text-3xl font-bold text-black tracking-wide",children:[(0,t.jsx)("span",{itemProp:"price",className:"jsx-3ca4eb49aef0a10",children:ea}),(0,t.jsx)("meta",{itemProp:"priceCurrency",content:"EUR",className:"jsx-3ca4eb49aef0a10"}),(0,t.jsx)("meta",{itemProp:"availability",content:"https://schema.org/InStock",className:"jsx-3ca4eb49aef0a10"})]})]})})]})]}),(0,t.jsxs)("section",{"aria-label":"Galer\xeda de im\xe1genes",className:"jsx-3ca4eb49aef0a10 flex flex-col mb-16",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 relative w-full h-[75vh] mb-8 rounded-[2rem] overflow-hidden shadow-2xl border border-amarillo/20 group",children:[W&&!B[r]&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 z-10 flex items-center justify-center bg-black/90",children:(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 w-24 h-12 relative",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute left-0 w-12 h-12 rounded-full border-4 border-amarillo animate-[spin_2s_linear_infinite]"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute right-0 w-12 h-12 rounded-full border-4 border-amarillo animate-[spin_2s_linear_infinite_reverse]"})]})}),O&&O.length>0&&O[r]?(0,t.jsx)(g.P.img,{src:O[r].src,alt:O[r].alt||"".concat(X," - Imagen ").concat(r+1),className:"w-full h-full object-cover transition-transform duration-3000 group-hover:scale-110",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.7},onError:K,onLoad:()=>{Z(!1),Q(e=>({...e,[r]:!0}))},loading:"eager",itemProp:"image"},r):(0,t.jsx)("img",{src:"/img/default-property-image.jpg",alt:"".concat(X," - Imagen por defecto"),onLoad:()=>Z(!1),itemProp:"image",className:"jsx-3ca4eb49aef0a10 w-full h-full object-cover"}),O.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:()=>{let e=(r-1+O.length)%O.length;o(e),B[e]||Z(!0)},"aria-label":"Imagen anterior",className:"jsx-3ca4eb49aef0a10 absolute left-6 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-amarillo text-white hover:text-black p-6 rounded-full transition-all duration-500 hover:scale-110 shadow-xl group",children:(0,t.jsx)(m._Jj,{className:"text-xl group-hover:transform group-hover:-translate-x-1 transition-transform"})}),(0,t.jsx)("button",{onClick:()=>{let e=(r+1)%O.length;o(e),B[e]||Z(!0)},"aria-label":"Imagen siguiente",className:"jsx-3ca4eb49aef0a10 absolute right-6 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-amarillo text-white hover:text-black p-6 rounded-full transition-all duration-500 hover:scale-110 shadow-xl group",children:(0,t.jsx)(m.X6T,{className:"text-xl group-hover:transform group-hover:translate-x-1 transition-transform"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 absolute bottom-6 right-6 bg-black/60 backdrop-blur-xl text-white px-6 py-3 rounded-2xl text-lg font-light tracking-wider shadow-xl border border-white/10",children:[r+1," / ",O.length]})]}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-black/80 backdrop-blur-xl p-6 rounded-[2rem] border border-amarillo/20 shadow-2xl hidden sm:block",children:(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-wrap justify-center gap-4",children:O.map((e,a)=>(0,t.jsx)("button",{onClick:()=>o(a),"aria-label":"Ver imagen ".concat(a+1," de ").concat(O.length),className:"jsx-3ca4eb49aef0a10 "+"relative w-[120px] h-[90px] md:w-[150px] md:h-[100px] rounded-xl overflow-hidden transition-all duration-500 ".concat(a===r?"ring-4 ring-amarillo shadow-2xl scale-110 z-10":"ring-1 ring-white/10 hover:ring-amarillo hover:shadow-xl hover:scale-105"),children:(0,t.jsx)("img",{src:e.src,alt:e.alt||"".concat(X," - Imagen ").concat(a+1),onError:K,className:"jsx-3ca4eb49aef0a10 h-full w-full object-cover transition-transform duration-3000 hover:scale-125"})},a))})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-12 mb-16 bg-black/80 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-amarillo/20 overflow-hidden",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-8 border-b border-amarillo/20 flex items-center",children:[(0,t.jsx)(d.SPy,{className:"text-amarillo mr-4 text-4xl"}),(0,t.jsx)("h2",{className:"jsx-3ca4eb49aef0a10 text-3xl font-bold  tracking-wide !text-amarillo",children:"Caracter\xedsticas Premium"})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 p-10",children:[(null==$?void 0:$.livingArea)>0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.c7S,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsxs)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:[$.livingArea," m\xb2"]}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Superficie"})]})]}),(null==$?void 0:$.bedrooms)!==void 0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.TiC,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:$.bedrooms}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Habitaciones"})]})]}),(null==$?void 0:$.bathrooms)!==void 0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.F6e,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:$.bathrooms}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Ba\xf1os"})]})]}),(null==$?void 0:$.floor)>0&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/60 to-black/40 backdrop-blur-xl rounded-2xl shadow-2xl transition-transform hover:scale-105 border border-amarillo/20 overflow-hidden group",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-r from-amarillo to-amarillo/90 p-6 flex justify-center",children:(0,t.jsx)(m.ymh,{className:"text-3xl text-black"})}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-6 flex flex-col items-center",children:[(0,t.jsxs)("p",{className:"jsx-3ca4eb49aef0a10 text-4xl font-bold text-white mb-2",children:[$.floor,"\xaa"]}),(0,t.jsx)("p",{className:"jsx-3ca4eb49aef0a10 text-lg text-gray-300 group-hover:text-amarillo transition-colors",children:"Planta"})]})]})]})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-12 bg-black/80 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-amarillo/20 overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 p-8 border-b border-amarillo/20",children:(0,t.jsx)("h2",{className:"jsx-3ca4eb49aef0a10 text-3xl font-bold tracking-wide !text-white",children:"Descripci\xf3n Exclusiva"})}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 p-10",children:(0,t.jsx)("div",{dangerouslySetInnerHTML:{__html:H},itemProp:"description",className:"jsx-3ca4eb49aef0a10 prose prose-xl max-w-none text-gray-100 prose-headings:text-white prose-h1:text-3xl prose-h2:text-2xl prose-h3:text-xl prose-h1:font-bold prose-h2:font-bold prose-h3:font-medium prose-p:text-gray-200 prose-p:leading-relaxed prose-li:text-gray-200 prose-strong:text-amarillo prose-a:text-amarillo hover:prose-a:text-amarillo/80 prose-img:rounded-2xl prose-h2:!text-white prose-h2:before:!text-amarillo prose-h2:after:!text-amarillo [&>h2]:!text-white [&>h2]:before:!text-amarillo [&>h2]:after:!text-amarillo"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-16 bg-black/80 backdrop-blur-xl rounded-[2rem] shadow-2xl border border-amarillo/20 overflow-hidden",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 p-8 border-b border-amarillo/20 flex items-center",children:[(0,t.jsx)(m.vq8,{className:"text-amarillo mr-4 text-3xl"}),(0,t.jsx)("h2",{className:"jsx-3ca4eb49aef0a10 text-3xl font-bold  tracking-wide !text-white",children:"Ubicaci\xf3n Privilegiada"})]}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 p-10",children:(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 relative w-full h-[500px] rounded-2xl overflow-hidden shadow-2xl border border-amarillo/10",children:(0,t.jsx)("iframe",{src:"https://www.google.com/maps/embed/v1/place?key=AIzaSyAZAI0_oecmQkuzwZ4IM2H_NLynxD2Lkxo&q=".concat(encodeURIComponent(X+", "+er),"&zoom=15"),width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de ubicaci\xf3n de ".concat(X," en ").concat(er),"aria-label":"Ubicaci\xf3n de ".concat(X," en ").concat(er),className:"jsx-3ca4eb49aef0a10 rounded-2xl"})})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col sm:flex-row justify-center gap-6 md:gap-8 my-16",children:[(0,t.jsxs)("button",{onClick:()=>i(!0),"aria-label":"Agendar visita privada",className:"jsx-3ca4eb49aef0a10 group relative inline-flex items-center gap-3 overflow-hidden rounded-2xl bg-black/80 px-8 py-6 transition-all duration-500 hover:bg-black backdrop-blur-xl border border-amarillo/20 shadow-2xl hover:shadow-amarillo/20",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo p-3 rounded-xl",children:(0,t.jsx)(m.bfZ,{className:"text-2xl text-black"})}),(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10 text-xl font-semibold text-white tracking-wide group-hover:text-amarillo transition-colors",children:"Agendar Visita Privada"})]}),(0,t.jsxs)("button",{onClick:()=>_(!0),"aria-label":"Realizar oferta por esta propiedad",className:"jsx-3ca4eb49aef0a10 group relative inline-flex items-center gap-3 overflow-hidden rounded-2xl bg-black/80 px-8 py-6 transition-all duration-500 hover:bg-black backdrop-blur-xl border border-amarillo/20 shadow-2xl hover:shadow-amarillo/20",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 bg-amarillo p-3 rounded-xl",children:(0,t.jsx)(m.DDN,{className:"text-2xl text-black"})}),(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10 text-xl font-semibold text-white tracking-wide group-hover:text-amarillo transition-colors",children:"Realizar Oferta"})]})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gradient-to-br from-black/90 to-black/80 rounded-[2rem] shadow-2xl p-12 text-center mt-16 border border-amarillo/20 backdrop-blur-xl relative overflow-hidden",children:[(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 absolute inset-0 bg-gradient-to-r from-amarillo/5 via-amarillo/10 to-amarillo/5 animate-shimmer"}),(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-3xl font-semibold text-white mb-8 tracking-wide relative z-10",children:"\xbfDesea m\xe1s informaci\xf3n sobre esta propiedad exclusiva?"}),(0,t.jsx)(p(),{href:"/contacto",children:(0,t.jsxs)("button",{"aria-label":"Contactar para m\xe1s informaci\xf3n",className:"jsx-3ca4eb49aef0a10 group relative inline-flex items-center gap-3 overflow-hidden rounded-2xl bg-amarillo px-8 py-6 transition-all duration-500 hover:bg-amarillo/90 shadow-2xl hover:scale-105",children:[(0,t.jsx)(m.maD,{className:"text-2xl text-black"}),(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10 text-xl font-semibold text-black tracking-wide",children:"Contacto Personalizado"})]})})]})]}),l&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-start justify-center p-4 pt-8 animate-fadeIn overflow-y-auto",children:(0,t.jsxs)("div",{ref:E,className:"jsx-3ca4eb49aef0a10 bg-black/95 rounded-[2rem] p-10 max-w-xl w-full mx-auto shadow-2xl border border-amarillo/20 animate-scaleIn backdrop-blur-xl my-4",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-2xl font-bold text-white",children:"Agenda una visita"}),(0,t.jsx)("button",{onClick:()=>i(!1),className:"jsx-3ca4eb49aef0a10 text-gray-400 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",children:(0,t.jsx)(m.QCr,{className:"text-xl"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 relative z-50",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-2",children:"Selecciona un d\xeda"}),(0,t.jsx)(f(),{selected:x,onChange:e=>b(e),filterDate:e=>e>=new Date&&0!==e.getDay()&&6!==e.getDay(),minDate:new Date,maxDate:(0,u.default)(new Date,30),locale:y.A,placeholderText:"Selecciona una fecha",className:"w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none",dateFormat:"dd/MM/yyyy",required:!0,popperClassName:"date-picker-popper",popperPlacement:"bottom",popperModifiers:[{name:"preventOverflow",options:{boundary:"viewport",padding:20}}]})]}),x&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-2",children:"Selecciona una hora"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 grid grid-cols-2 gap-2",children:Array.from({length:10},(e,a)=>{let r=(0,h.default)((0,j.default)(new Date,0),a+9);return(0,t.jsxs)("button",{onClick:()=>S(r),className:"jsx-3ca4eb49aef0a10 "+"p-3 rounded-lg transition-transform hover:scale-105 font-medium ".concat(I&&r.getHours()===I.getHours()?"bg-amarillo text-white shadow-md":"bg-gray-800 hover:bg-gray-700 text-white border border-gray-700"),children:[r.getHours(),":00"]},a)})})]}),x&&I&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 bg-gray-800/70 p-5 rounded-lg border border-gray-700",children:[(0,t.jsxs)("h3",{className:"jsx-3ca4eb49aef0a10 text-lg font-semibold mb-4 flex items-center text-white",children:[(0,t.jsx)(m.x$1,{className:"mr-2 text-amarillo"}),"Datos de contacto"]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-4",children:[(0,t.jsx)("input",{type:"email",value:A,onChange:e=>M(e.target.value),placeholder:"Email de contacto",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"text",value:U,onChange:e=>T(e.target.value),placeholder:"Nombre completo",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"tel",value:D,onChange:e=>L(e.target.value),placeholder:"Tel\xe9fono",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"})]})]}),x&&I&&A&&U&&D&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>i(!1),className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-all duration-300 font-medium border border-gray-700",children:"Cancelar"}),(0,t.jsx)("button",{onClick:async()=>{try{let e={type:"visit",name:U,email:A,phone:D,propertyTitle:a.title||a.name||"Propiedad sin t\xedtulo",propertyId:a.id||a._id||"",propertyUrl:q,visitDate:x,visitTime:I,price:ea,message:"Solicitud de visita para la propiedad ".concat(a.title||a.name||"Propiedad sin t\xedtulo"," el d\xeda ").concat(x?x.toLocaleDateString("es-ES"):""," a las ").concat(I?I.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}):"")};console.log("Enviando datos de visita:",e);let r=await (0,w.wu)(e);r.success?v.oR.success("Solicitud de visita enviada correctamente"):(v.oR.error(r.message||"Error al enviar la solicitud"),console.error("Error al enviar solicitud de visita:",r)),i(!1),b(null),S(null),T(""),M(""),L("")}catch(e){console.error("Error al procesar la solicitud:",e),v.oR.error("Ha ocurrido un error al enviar la solicitud")}},className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-amarillo hover:bg-amber-600 text-white font-medium transition-all duration-300 shadow-md hover:shadow-lg",children:"Confirmar Visita"})]})]})]})}),P&&(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 fixed inset-0 bg-black/90 backdrop-blur-xl z-50 flex items-center justify-center p-4 animate-fadeIn",children:(0,t.jsxs)("div",{ref:R,className:"jsx-3ca4eb49aef0a10 bg-black/95 rounded-[2rem] p-10 max-w-xl w-full mx-auto shadow-2xl overflow-y-auto max-h-[90vh] border border-amarillo/20 animate-scaleIn backdrop-blur-xl",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex justify-between items-center mb-6",children:[(0,t.jsx)("h3",{className:"jsx-3ca4eb49aef0a10 text-2xl font-bold text-white",children:"Hacer una oferta"}),(0,t.jsx)("button",{onClick:()=>_(!1),className:"jsx-3ca4eb49aef0a10 text-gray-400 hover:text-white transition-colors duration-300 p-2 rounded-full hover:bg-white/10",children:(0,t.jsx)(m.QCr,{className:"text-xl text-amarillo"})})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-6",children:[(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-3",children:"Selecciona tu oferta"}),(0,t.jsx)("div",{className:"jsx-3ca4eb49aef0a10 space-y-3",children:(e=>{let a;if(isNaN(a="string"==typeof e?parseFloat(e.replace(/[€$.\s]/g,"").replace(",",".")):e)||a<=0)return[];let r=[];return r.push({label:"5% menos",value:Math.round(.95*a),percentage:-5}),r.push({label:"10% menos",value:Math.round(.9*a),percentage:-10}),r.push({label:"Precio publicado",value:a,percentage:0}),r})(ea).map((e,a)=>(0,t.jsxs)("button",{onClick:()=>C(e),className:"jsx-3ca4eb49aef0a10 "+"w-full p-4 rounded-lg transition-all duration-300 flex justify-between items-center ".concat((null==z?void 0:z.percentage)===e.percentage?"bg-amarillo text-white font-semibold shadow-md":"bg-gray-800 hover:bg-gray-700 text-white border border-gray-700"),children:[(0,t.jsx)("span",{className:"jsx-3ca4eb49aef0a10",children:e.label}),(0,t.jsxs)("span",{className:"jsx-3ca4eb49aef0a10 font-semibold",children:[Math.round(e.value).toLocaleString(),"€"]})]},a))})]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 border-t border-gray-700 pt-4",children:[(0,t.jsx)("label",{className:"jsx-3ca4eb49aef0a10 block text-sm font-medium text-gray-300 mb-2",children:"Introduce tu oferta"}),(0,t.jsx)("input",{type:"number",placeholder:"Introduce tu oferta",onChange:e=>C({value:parseInt(e.target.value),label:"Oferta personalizada"}),className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"})]})]}),z&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 mt-6 space-y-4 border-t border-gray-700 pt-4",children:[(0,t.jsxs)("h3",{className:"jsx-3ca4eb49aef0a10 text-lg font-semibold mb-4 flex items-center text-white",children:[(0,t.jsx)(m.x$1,{className:"mr-2 text-amarillo"}),"Datos de contacto"]}),(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 space-y-4",children:[(0,t.jsx)("input",{type:"email",value:A,onChange:e=>M(e.target.value),placeholder:"Email de contacto",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"text",value:U,onChange:e=>T(e.target.value),placeholder:"Nombre completo",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"}),(0,t.jsx)("input",{type:"tel",value:D,onChange:e=>L(e.target.value),placeholder:"Tel\xe9fono",className:"jsx-3ca4eb49aef0a10 w-full p-3 border border-gray-700 rounded-lg text-white bg-gray-800/90 placeholder-gray-400 focus:ring-2 focus:ring-amarillo focus:border-amarillo outline-none"})]})]}),z&&A&&U&&D&&(0,t.jsxs)("div",{className:"jsx-3ca4eb49aef0a10 flex flex-col sm:flex-row justify-end gap-3 mt-6",children:[(0,t.jsx)("button",{onClick:()=>_(!1),className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-gray-800 hover:bg-gray-700 text-white transition-all duration-300 font-medium border border-gray-700",children:"Cancelar"}),(0,t.jsx)("button",{onClick:async()=>{try{let e={type:"offer",name:U,email:A,phone:D,propertyTitle:a.title||a.name||"Propiedad sin t\xedtulo",propertyId:a.id||a._id||"",propertyUrl:q,offerAmount:z.value,offerLabel:z.label,originalPrice:ea,percentage:z.percentage||0,message:"Oferta de ".concat(z.value.toLocaleString(),"€ (").concat(z.label,') para la propiedad "').concat(a.title||a.name||"Propiedad sin t\xedtulo",'" por parte de ').concat(U)},r=await (0,w.wu)(e);r.success?v.oR.success("Oferta enviada correctamente"):(v.oR.error(r.message||"Error al enviar la oferta"),console.error("Error al enviar oferta:",r)),_(!1),C(null),M(""),T(""),L("")}catch(e){console.error("Error al procesar la oferta:",e),v.oR.error("Ha ocurrido un error al enviar la oferta")}},className:"jsx-3ca4eb49aef0a10 px-4 py-3 rounded-lg bg-amarillo hover:bg-amber-600 text-white font-medium transition-all duration-300 shadow-md hover:shadow-lg",children:"Enviar Oferta"})]})]})})]}),(0,t.jsx)(c(),{id:"3ca4eb49aef0a10",children:"@-webkit-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-moz-keyframes fadeIn{from{opacity:0}to{opacity:1}}@-o-keyframes fadeIn{from{opacity:0}to{opacity:1}}@keyframes fadeIn{from{opacity:0}to{opacity:1}}@-webkit-keyframes scaleIn{from{-webkit-transform:scale(.95);transform:scale(.95);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:1}}@-moz-keyframes scaleIn{from{-moz-transform:scale(.95);transform:scale(.95);opacity:0}to{-moz-transform:scale(1);transform:scale(1);opacity:1}}@-o-keyframes scaleIn{from{-o-transform:scale(.95);transform:scale(.95);opacity:0}to{-o-transform:scale(1);transform:scale(1);opacity:1}}@keyframes scaleIn{from{-webkit-transform:scale(.95);-moz-transform:scale(.95);-o-transform:scale(.95);transform:scale(.95);opacity:0}to{-webkit-transform:scale(1);-moz-transform:scale(1);-o-transform:scale(1);transform:scale(1);opacity:1}}@-webkit-keyframes shimmer{0%{-webkit-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);transform:translatex(100%)}}@-moz-keyframes shimmer{0%{-moz-transform:translatex(-100%);transform:translatex(-100%)}100%{-moz-transform:translatex(100%);transform:translatex(100%)}}@-o-keyframes shimmer{0%{-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-o-transform:translatex(100%);transform:translatex(100%)}}@keyframes shimmer{0%{-webkit-transform:translatex(-100%);-moz-transform:translatex(-100%);-o-transform:translatex(-100%);transform:translatex(-100%)}100%{-webkit-transform:translatex(100%);-moz-transform:translatex(100%);-o-transform:translatex(100%);transform:translatex(100%)}}.animate-fadeIn{-webkit-animation:fadeIn.5s ease-out forwards;-moz-animation:fadeIn.5s ease-out forwards;-o-animation:fadeIn.5s ease-out forwards;animation:fadeIn.5s ease-out forwards}.animate-scaleIn{-webkit-animation:scaleIn.5s ease-out forwards;-moz-animation:scaleIn.5s ease-out forwards;-o-animation:scaleIn.5s ease-out forwards;animation:scaleIn.5s ease-out forwards}.animate-shimmer{-webkit-animation:shimmer 3s infinite;-moz-animation:shimmer 3s infinite;-o-animation:shimmer 3s infinite;animation:shimmer 3s infinite}.text-shadow-sm{text-shadow:0 2px 4px rgba(0,0,0,.4)}.drop-shadow-md{-webkit-filter:drop-shadow(0 4px 3px rgb(0 0 0/.3))drop-shadow(0 2px 2px rgb(0 0 0/.2));filter:drop-shadow(0 4px 3px rgb(0 0 0/.3))drop-shadow(0 2px 2px rgb(0 0 0/.2))}.shadow-amarillo{-webkit-box-shadow:0 0 20px rgba(255,215,0,.2);-moz-box-shadow:0 0 20px rgba(255,215,0,.2);box-shadow:0 0 20px rgba(255,215,0,.2)}h2,.prose h2,article h2{@apply text-amarillo !important;}h2::before,h2::after,.prose h2::before,.prose h2::after,article h2::before,article h2::after{@apply text-amarillo !important;}"})]})}var S=r(23129);let E=async function(e,a){let r,t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:5;console.log("Intentando obtener propiedad con ID: ".concat(e,", Source: ").concat(a,", IsServer: ").concat(t)),console.log("Usando URL:",r="mongodb"===a?"https://goza-madrid.onrender.com/property/".concat(e):t?"".concat("https://wordpress-1430059-5339263.cloudwaysapps.com/wp-json/wc/v3","/products/").concat(e,"?consumer_key=").concat("ck_d69e61427264a7beea70ca9ee543b45dd00cae85","&consumer_secret=").concat("cs_a1757851d6db34bf9fb669c3ce6ef5a0dc855b5e"):"/api/woocommerce-proxy?endpoint=products/".concat(e));try{let s=new AbortController,l=setTimeout(()=>s.abort(),6e4),n={signal:s.signal};t&&(n.headers={"Cache-Control":"no-cache",Pragma:"no-cache"});let i=await fetch(r,n);if(clearTimeout(l),503===i.status&&o>0)return console.log("Error 503 al obtener propiedad ".concat(e,". Reintentando en 5 segundos... (").concat(o," intentos restantes)")),await new Promise(e=>setTimeout(e,5e3)),E(e,a,t,o-1);if(!i.ok)throw Error("Error al obtener la propiedad: ".concat(i.status," ").concat(i.statusText));return{property:await i.json(),error:null}}catch(r){if(console.error("Error al obtener propiedad:",r),("AbortError"===r.name||"TypeError"===r.name)&&o>0)return console.log("Error de red al obtener propiedad ".concat(e,". Reintentando en 5 segundos... (").concat(o," intentos restantes)")),await new Promise(e=>setTimeout(e,5e3)),E(e,a,t,o-1);return{property:null,error:r.message}}};var P=!0;function _(e){var a,r;let{id:l,error:i,preloadedProperty:c,source:d}=e,m=(0,o.useRouter)(),{id:x,source:p}=m.query,[b,f]=(0,s.useState)(!c),[g,u]=(0,s.useState)(c||null),[h,j]=(0,s.useState)(i||null),y=l||x,v=p||d||(y&&/[a-zA-Z]/.test(y)&&y.length>10?"mongodb":"woocommerce");(0,s.useEffect)(()=>{if(c&&!i){console.log("Usando propiedad precargada:",c),u(c),f(!1);return}m.isReady&&y&&(async()=>{f(!0),j(null);try{console.log("Cargando propiedad con ID: ".concat(y,", Source: ").concat(v));let{property:e,error:a}=await E(y,v,!1);if(a)throw Error(a);if(!e)throw Error("No se pudo obtener la informaci\xf3n de la propiedad");console.log("Propiedad cargada correctamente:",e),u(e)}catch(e){console.error("Error al cargar la propiedad:",e),j(e.message||"Error al cargar la propiedad")}finally{setTimeout(()=>f(!1),1e3)}})()},[m.isReady,y,v,c,i,!0]);let w=e=>{var a;return e?"".concat(e.type||"Propiedad"," en ").concat(e.location||"Madrid",". ").concat(e.bedrooms||0," habitaciones, ").concat(e.bathrooms||0," ba\xf1os. ").concat((null===(a=e.description)||void 0===a?void 0:a.substring(0,100))||""):""};return b?(0,t.jsx)(S.A,{}):h?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"Error | Goza Madrid Inmobiliaria"}),(0,t.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,t.jsxs)("div",{className:"container mx-auto py-12 text-center",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold text-red-500 mb-4",children:"Error"}),(0,t.jsx)("p",{className:"text-lg",children:h}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("button",{onClick:()=>m.reload(),className:"bg-amber-400 hover:bg-amber-500 text-black font-bold py-2 px-6 rounded-lg mr-4",children:"Reintentar"}),(0,t.jsx)("button",{onClick:()=>m.push("/"),className:"bg-gray-300 hover:bg-gray-400 text-black font-bold py-2 px-6 rounded-lg",children:"Volver a inicio"})]})]})]}):g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"".concat(g.type||"Propiedad"," en ").concat(g.location||"Madrid"," | Goza Madrid")}),(0,t.jsx)("meta",{name:"description",content:w(g)}),(0,t.jsx)("meta",{name:"robots",content:"index, follow"}),(0,t.jsx)("link",{rel:"canonical",href:"https://gozamadrid.com/property/".concat(y)}),(0,t.jsx)("meta",{property:"og:type",content:"website"}),(0,t.jsx)("meta",{property:"og:title",content:"".concat(g.type||"Propiedad"," en ").concat(g.location||"Madrid")}),(0,t.jsx)("meta",{property:"og:description",content:w(g)}),(0,t.jsx)("meta",{property:"og:image",content:(null===(a=g.images)||void 0===a?void 0:a[0])||"/img/default-property-image.jpg"}),(0,t.jsx)("meta",{property:"og:url",content:"https://gozamadrid.com/property/".concat(y)}),(0,t.jsx)("meta",{property:"og:site_name",content:"Goza Madrid Inmobiliaria"}),(0,t.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,t.jsx)("meta",{name:"twitter:title",content:"".concat(g.type||"Propiedad"," en ").concat(g.location||"Madrid")}),(0,t.jsx)("meta",{name:"twitter:description",content:w(g)}),(0,t.jsx)("meta",{name:"twitter:image",content:(null===(r=g.images)||void 0===r?void 0:r[0])||"/img/default-property-image.jpg"}),(0,t.jsx)("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"RealEstateListing",name:"".concat(g.type||"Propiedad"," en ").concat(g.location||"Madrid"),description:g.description,url:"https://gozamadrid.com/property/".concat(y),datePosted:g.createdAt,image:g.images||["/img/default-property.jpg"],price:{"@type":"MonetaryAmount",currency:"EUR",value:g.price},address:{"@type":"PostalAddress",addressLocality:g.location||"Madrid",addressRegion:"Madrid",addressCountry:"ES"},numberOfRooms:g.bedrooms,numberOfBathroomsTotal:g.bathrooms,floorSize:{"@type":"QuantitativeValue",value:g.size,unitCode:"MTK"},amenityFeature:g.features||[],broker:{"@type":"RealEstateAgent",name:"Goza Madrid Inmobiliaria",image:"https://gozamadrid.com/logo.png",address:{"@type":"PostalAddress",addressLocality:"Madrid",addressRegion:"Madrid",addressCountry:"ES"}}})}),(0,t.jsx)("meta",{name:"keywords",content:"".concat(g.type||"",", ").concat(g.location||"Madrid",", inmobiliaria, venta, alquiler, propiedad, real estate")}),(0,t.jsx)("meta",{property:"article:modified_time",content:g.updatedAt||g.createdAt}),(0,t.jsx)("meta",{name:"geo.region",content:"ES-M"}),(0,t.jsx)("meta",{name:"geo.placename",content:g.location||"Madrid"})]}),(0,t.jsx)(I,{property:g})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(n(),{children:[(0,t.jsx)("title",{children:"Propiedad no encontrada | Goza Madrid Inmobiliaria"}),(0,t.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,t.jsxs)("div",{className:"container mx-auto py-12 text-center",children:[(0,t.jsx)("p",{className:"text-lg",children:"No se encontr\xf3 la propiedad"}),(0,t.jsx)("button",{onClick:()=>m.push("/"),className:"mt-6 bg-amber-400 hover:bg-amber-500 text-black font-bold py-2 px-6 rounded-lg",children:"Volver a inicio"})]})]})}},90432:(e,a,r)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/property/[id]",function(){return r(87307)}])}},e=>{var a=a=>e(e.s=a);e.O(0,[6593,5015,9062,2534,8251,225,636,8792],()=>a(90432)),_N_E=e.O()}]);