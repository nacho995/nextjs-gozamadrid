"use strict";(()=>{var e={};e.id=949,e.ids=[220,636,949],e.modules={7085:e=>{e.exports=require("styled-jsx/style")},8732:e=>{e.exports=require("react/jsx-runtime")},19121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},22326:e=>{e.exports=require("react-dom")},27910:e=>{e.exports=require("stream")},28311:(e,t)=>{Object.defineProperty(t,"M",{enumerable:!0,get:function(){return function e(t,r){return r in t?t[r]:"then"in t&&"function"==typeof t.then?t.then(t=>e(t,r)):"function"==typeof t&&"default"===r?t:void 0}}})},29021:e=>{e.exports=require("fs")},29294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29825:e=>{e.exports=require("prop-types")},33873:e=>{e.exports=require("path")},40361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},42893:e=>{e.exports=import("react-hot-toast")},50169:(e,t,r)=>{r.a(e,async(e,o)=>{try{r.r(t),r.d(t,{config:()=>f,default:()=>c,getServerSideProps:()=>u,getStaticPaths:()=>g,getStaticProps:()=>x,reportWebVitals:()=>h,routeModule:()=>S,unstable_getServerProps:()=>j,unstable_getServerSideProps:()=>v,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>b,unstable_getStaticProps:()=>m});var s=r(35799),i=r(82755),d=r(28311),n=r(76263),a=r(46157),l=r(84164),p=e([a]);a=(p.then?(await p)():p)[0];let c=(0,d.M)(l,"default"),x=(0,d.M)(l,"getStaticProps"),g=(0,d.M)(l,"getStaticPaths"),u=(0,d.M)(l,"getServerSideProps"),f=(0,d.M)(l,"config"),h=(0,d.M)(l,"reportWebVitals"),m=(0,d.M)(l,"unstable_getStaticProps"),b=(0,d.M)(l,"unstable_getStaticPaths"),y=(0,d.M)(l,"unstable_getStaticParams"),j=(0,d.M)(l,"unstable_getServerProps"),v=(0,d.M)(l,"unstable_getServerSideProps"),S=new s.PagesRouteModule({definition:{kind:i.A.PAGES,page:"/propiedad-test",pathname:"/propiedad-test",bundlePath:"",filename:""},components:{App:a.default,Document:n.default},userland:l});o()}catch(e){o(e)}})},63033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},74075:e=>{e.exports=require("zlib")},76263:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var o=r(8732),s=r(23267);function i(){return(0,o.jsxs)(s.Html,{lang:"es",children:[(0,o.jsxs)(s.Head,{children:[(0,o.jsx)("meta",{charSet:"utf-8"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),(0,o.jsx)("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossOrigin:"anonymous"}),(0,o.jsx)("link",{href:"https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@400;500;600;700&display=swap",rel:"stylesheet"}),(0,o.jsx)("link",{rel:"apple-touch-icon",sizes:"180x180",href:"/logo.png"}),(0,o.jsx)("link",{rel:"manifest",href:"/site.webmanifest"})]}),(0,o.jsxs)("body",{children:[(0,o.jsx)(s.Main,{}),(0,o.jsx)(s.NextScript,{})]})]})}},76338:e=>{e.exports=import("js-cookie")},82015:e=>{e.exports=require("react")},82755:(e,t)=>{Object.defineProperty(t,"A",{enumerable:!0,get:function(){return r}});var r=function(e){return e.PAGES="PAGES",e.PAGES_API="PAGES_API",e.APP_PAGE="APP_PAGE",e.APP_ROUTE="APP_ROUTE",e.IMAGE="IMAGE",e}({})},84164:(e,t,r)=>{r.r(t),r.d(t,{default:()=>p});var o=r(8732),s=r(7085),i=r.n(s),d=r(82015),n=r(68030),a=r.n(n),l=r(80431);function p(){let{id:e}=(0,l.useRouter)().query,[t,r]=(0,d.useState)(""),[s,n]=(0,d.useState)("https://goza-madrid.onrender.com"),[p,c]=(0,d.useState)(!1),[x,g]=(0,d.useState)(null),[u,f]=(0,d.useState)(null),[h,m]=(0,d.useState)([]),[b,y]=(0,d.useState)([]),j=e=>{m(t=>[...t,{time:new Date().toISOString(),message:e}])},v=(e,t,r)=>{y(o=>[{time:new Date().toISOString(),url:e,success:t,message:r},...o])},S=async e=>{try{j(`Probando URL: ${e}`),c(!0);let t=await fetch(e,{headers:{"Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:"0"}});if(j(`Respuesta: ${t.status} ${t.statusText}`),!t.ok)return j(`Error en la respuesta: ${t.status} ${t.statusText}`),g(null),v(e,!1,`Error: ${t.status} ${t.statusText}`),!1;{let r=await t.json();return j("Datos recibidos correctamente"),g(r),v(e,!0,`\xc9xito: ${t.status} ${t.statusText}`),!0}}catch(t){return j(`Error: ${t.message}`),g(null),v(e,!1,`Error: ${t.message}`),!1}finally{c(!1)}},P=async e=>{if(e.preventDefault(),!t){f("Por favor, introduce un ID de propiedad");return}for(let e of(f(null),[`${s}/property/${t}`,`/property/${t}`,`/api/property/${t}`,`/api/diagnostico?id=${t}`]))if(j(`Intentando con URL: ${e}`),await S(e)){j(`\xc9xito con URL: ${e}`);break}};return(0,o.jsxs)("div",{style:{fontFamily:"Arial, sans-serif",maxWidth:"1200px",margin:"0 auto",padding:"20px"},children:[(0,o.jsxs)(a(),{children:[(0,o.jsx)("title",{children:"Test de Propiedad | Goza Madrid"}),(0,o.jsx)("meta",{name:"robots",content:"noindex, nofollow"})]}),(0,o.jsx)("h1",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"20px"},children:"Test de Propiedad"}),(0,o.jsx)("form",{onSubmit:P,style:{marginBottom:"20px"},children:(0,o.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"10px",backgroundColor:"#f3f4f6",padding:"15px",borderRadius:"4px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"URL del servidor:"}),(0,o.jsx)("input",{type:"text",value:s,onChange:e=>n(e.target.value),style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{style:{display:"block",marginBottom:"5px"},children:"ID de la propiedad:"}),(0,o.jsx)("input",{type:"text",value:t,onChange:e=>r(e.target.value),placeholder:"ID de la propiedad",style:{width:"100%",padding:"8px",border:"1px solid #ccc",borderRadius:"4px"}})]}),(0,o.jsx)("button",{type:"submit",disabled:p,style:{padding:"10px",backgroundColor:p?"#ccc":"#f59e0b",color:"#000",border:"none",borderRadius:"4px",fontWeight:"bold",cursor:p?"not-allowed":"pointer"},children:p?"Probando...":"Probar URLs"})]})}),u&&(0,o.jsxs)("div",{style:{backgroundColor:"#fee2e2",border:"1px solid #ef4444",color:"#b91c1c",padding:"10px",borderRadius:"4px",marginBottom:"20px"},children:[(0,o.jsx)("h2",{style:{fontWeight:"bold",marginBottom:"5px"},children:"Error"}),(0,o.jsx)("p",{children:u})]}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"},children:[(0,o.jsxs)("div",{style:{backgroundColor:"#f3f4f6",padding:"15px",borderRadius:"4px"},children:[(0,o.jsx)("h2",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Resultados de pruebas"}),(0,o.jsx)("div",{style:{backgroundColor:"#fff",border:"1px solid #ccc",padding:"15px",borderRadius:"4px",height:"200px",overflowY:"auto"},children:0===b.length?(0,o.jsx)("p",{style:{color:"#6b7280",textAlign:"center"},children:"No hay resultados disponibles"}):(0,o.jsxs)("table",{style:{width:"100%",borderCollapse:"collapse"},children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #ddd"},children:"Hora"}),(0,o.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #ddd"},children:"URL"}),(0,o.jsx)("th",{style:{textAlign:"left",padding:"8px",borderBottom:"1px solid #ddd"},children:"Resultado"})]})}),(0,o.jsx)("tbody",{children:b.map((e,t)=>(0,o.jsxs)("tr",{style:{backgroundColor:e.success?"#d1fae5":"#fee2e2"},children:[(0,o.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:e.time.split("T")[1].split(".")[0]}),(0,o.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd",fontFamily:"monospace",fontSize:"12px"},children:e.url}),(0,o.jsx)("td",{style:{padding:"8px",borderBottom:"1px solid #ddd"},children:e.message})]},t))})]})})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f3f4f6",padding:"15px",borderRadius:"4px"},children:[(0,o.jsx)("h2",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Logs"}),(0,o.jsx)("div",{style:{backgroundColor:"#000",color:"#4ade80",padding:"10px",borderRadius:"4px",height:"200px",overflowY:"auto",fontFamily:"monospace",fontSize:"14px"},children:0===h.length?(0,o.jsx)("p",{style:{color:"#6b7280"},children:"No hay logs disponibles"}):h.map((e,t)=>(0,o.jsxs)("div",{style:{marginBottom:"5px"},children:[(0,o.jsxs)("span",{style:{color:"#6b7280"},children:["[",e.time.split("T")[1].split(".")[0],"]"]})," ",e.message]},t))}),(0,o.jsx)("div",{style:{marginTop:"10px"},children:(0,o.jsx)("button",{onClick:()=>m([]),style:{padding:"4px 8px",backgroundColor:"#ef4444",color:"#fff",border:"none",borderRadius:"4px",fontSize:"14px",cursor:"pointer"},children:"Limpiar logs"})})]})]}),(0,o.jsxs)("div",{style:{backgroundColor:"#f3f4f6",padding:"15px",borderRadius:"4px",marginTop:"20px"},children:[(0,o.jsx)("h2",{style:{fontWeight:"bold",marginBottom:"10px"},children:"Datos de la propiedad"}),(0,o.jsx)("div",{style:{backgroundColor:"#fff",border:"1px solid #ccc",padding:"15px",borderRadius:"4px",maxHeight:"400px",overflowY:"auto"},children:p?(0,o.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100px"},className:"jsx-3c9718bfa994b27f",children:[(0,o.jsx)("div",{style:{border:"4px solid #f3f4f6",borderTopColor:"#f59e0b",borderRadius:"50%",width:"50px",height:"50px",animation:"spin 1s linear infinite"},className:"jsx-3c9718bfa994b27f"}),(0,o.jsx)(i(),{id:"3c9718bfa994b27f",children:"@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-moz-keyframes spin{0%{-moz-transform:rotate(0deg);transform:rotate(0deg)}100%{-moz-transform:rotate(360deg);transform:rotate(360deg)}}@-o-keyframes spin{0%{-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-o-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes spin{0%{-webkit-transform:rotate(0deg);-moz-transform:rotate(0deg);-o-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);-moz-transform:rotate(360deg);-o-transform:rotate(360deg);transform:rotate(360deg)}}"})]}):x?(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{style:{fontWeight:"bold",fontSize:"18px",marginBottom:"10px"},children:x.title||x.name||"Propiedad sin t\xedtulo"}),(0,o.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"10px",marginBottom:"15px"},children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:"ID:"}),(0,o.jsx)("p",{children:x._id||x.id||"No disponible"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:"Tipo:"}),(0,o.jsx)("p",{children:x.source||(x._id?"MongoDB":"WooCommerce")})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:"Precio:"}),(0,o.jsx)("p",{children:x.price||"No disponible"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:"Ubicaci\xf3n:"}),(0,o.jsx)("p",{children:x.location||"No disponible"})]})]}),(0,o.jsxs)("div",{style:{marginBottom:"15px"},children:[(0,o.jsx)("p",{style:{fontWeight:"bold"},children:"Im\xe1genes:"}),x.images&&x.images.length>0?(0,o.jsx)("ul",{style:{listStyleType:"disc",paddingLeft:"20px"},children:x.images.map((e,t)=>(0,o.jsx)("li",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:"string"==typeof e?e:e.src||"Objeto de imagen sin URL"},t))}):(0,o.jsx)("p",{children:"No hay im\xe1genes disponibles"})]}),(0,o.jsxs)("details",{children:[(0,o.jsx)("summary",{style:{cursor:"pointer",fontWeight:"bold"},children:"Ver JSON completo"}),(0,o.jsx)("pre",{style:{backgroundColor:"#f3f4f6",padding:"10px",borderRadius:"4px",marginTop:"10px",fontSize:"12px",overflowX:"auto"},children:JSON.stringify(x,null,2)})]})]}):(0,o.jsx)("p",{style:{color:"#6b7280",textAlign:"center"},children:"No hay datos disponibles"})})]})]})}}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[348,871,267,423],()=>r(50169));module.exports=o})();