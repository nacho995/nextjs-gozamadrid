(()=>{var e={};e.id=868,e.ids=[868],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10273:(e,r,t)=>{Promise.resolve().then(t.bind(t,43110))},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14774:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,67572,23)),Promise.resolve().then(t.t.bind(t,1530,23)),Promise.resolve().then(t.t.bind(t,92234,23)),Promise.resolve().then(t.t.bind(t,78109,23)),Promise.resolve().then(t.t.bind(t,41417,23)),Promise.resolve().then(t.t.bind(t,34001,23)),Promise.resolve().then(t.t.bind(t,34761,23)),Promise.resolve().then(t.t.bind(t,29819,23))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},29566:()=>{},33873:e=>{"use strict";e.exports=require("path")},38622:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>a.a,__next_app__:()=>m,pages:()=>c,routeModule:()=>u,tree:()=>l});var o=t(67265),s=t(25830),n=t(36576),a=t.n(n),i=t(12871),d={};for(let e in i)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);t.d(r,d);let l={children:["",{children:["api-test",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,75070)),"/home/nacho/Documentos/Programaci\xf3n/nextjs-gozamadrid/frontend/src/app/api-test/page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,73421)),"/home/nacho/Documentos/Programaci\xf3n/nextjs-gozamadrid/frontend/src/app/layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,68108,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,493,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,87626,23)),"next/dist/client/components/unauthorized-error"]}]}.children,c=["/home/nacho/Documentos/Programaci\xf3n/nextjs-gozamadrid/frontend/src/app/api-test/page.jsx"],m={require:t,loadChunk:()=>Promise.resolve()},u=new o.AppPageRouteModule({definition:{kind:s.RouteKind.APP_PAGE,page:"/api-test/page",pathname:"/api-test",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},43110:(e,r,t)=>{"use strict";t.d(r,{default:()=>i});var o=t(54701),s=t(66616);let n=async(e,r={})=>{let t=new AbortController,{signal:o}=t,s=setTimeout(()=>{t.abort()},6e4);try{let t=await fetch(e,{...r,signal:o});if(clearTimeout(s),!t.ok)throw Error(`Error HTTP: ${t.status}`);return t}catch(e){if(clearTimeout(s),"AbortError"===e.name)throw Error("La petici\xf3n ha excedido el tiempo m\xe1ximo");throw e}},a=async e=>{try{let r=await n("/api/contact",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!r.ok)throw Error(`Error: ${r.status}`);return await r.json()}catch(e){throw console.error("Error al enviar el formulario de contacto:",e),e}};function i(){let[e,r]=(0,s.useState)([]),[t,n]=(0,s.useState)(!0),[i,d]=(0,s.useState)(null),[l,c]=(0,s.useState)({name:"",email:"",message:""}),[m,u]=(0,s.useState)(null),p=e=>{let{name:r,value:t}=e.target;c(e=>({...e,[r]:t}))},h=async e=>{e.preventDefault();try{u("sending"),await a(l),u("success"),c({name:"",email:"",message:""})}catch(e){console.error("Error submitting form:",e),u("error")}};return(0,o.jsxs)("div",{className:"container mx-auto p-4",children:[(0,o.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Ejemplo de API con HTTPS a trav\xe9s de Cloudflare"}),(0,o.jsxs)("div",{className:"mb-8",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Propiedades"}),t&&(0,o.jsx)("p",{children:"Cargando propiedades..."}),i&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:i}),!t&&!i&&(0,o.jsx)("div",{className:"grid gap-4 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:e.length>0?e.map(e=>(0,o.jsxs)("div",{className:"border rounded p-4 shadow-sm",children:[(0,o.jsx)("h3",{className:"font-bold",children:e.title}),(0,o.jsx)("p",{className:"text-gray-600",children:e.location}),(0,o.jsxs)("p",{className:"text-green-600 font-semibold",children:[e.price,"â‚¬"]})]},e._id)):(0,o.jsx)("p",{children:"No hay propiedades disponibles."})})]}),(0,o.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[(0,o.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Formulario de Contacto"}),"success"===m&&(0,o.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"\xa1Mensaje enviado correctamente! Nos pondremos en contacto contigo pronto."}),"error"===m&&(0,o.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:"Ha ocurrido un error al enviar el mensaje. Por favor, intenta nuevamente."}),(0,o.jsxs)("form",{onSubmit:h,className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:"Nombre"}),(0,o.jsx)("input",{type:"text",id:"name",name:"name",value:l.name,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,o.jsx)("input",{type:"email",id:"email",name:"email",value:l.email,onChange:p,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{htmlFor:"message",className:"block text-sm font-medium text-gray-700 mb-1",children:"Mensaje"}),(0,o.jsx)("textarea",{id:"message",name:"message",value:l.message,onChange:p,required:!0,rows:"4",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,o.jsx)("button",{type:"submit",disabled:"sending"===m,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:"sending"===m?"Enviando...":"Enviar mensaje"})]})]})]})}},48898:(e,r,t)=>{"use strict";t.d(r,{default:()=>o});let o=(0,t(44905).registerClientReference)(function(){throw Error("Attempted to call the default export of \"/home/nacho/Documentos/Programaci\xf3n/nextjs-gozamadrid/frontend/src/components/ApiExample.jsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"/home/nacho/Documentos/Programaci\xf3n/nextjs-gozamadrid/frontend/src/components/ApiExample.jsx","default")},51726:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,12922,23)),Promise.resolve().then(t.t.bind(t,41404,23)),Promise.resolve().then(t.t.bind(t,36576,23)),Promise.resolve().then(t.t.bind(t,13507,23)),Promise.resolve().then(t.t.bind(t,81235,23)),Promise.resolve().then(t.t.bind(t,3099,23)),Promise.resolve().then(t.t.bind(t,48523,23)),Promise.resolve().then(t.t.bind(t,4077,23))},57122:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73421:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n,metadata:()=>s});var o=t(95143);t(57122);let s={title:"GozaMadrid - Portal inmobiliario",description:"Encuentra las mejores propiedades en Madrid"};function n({children:e}){return(0,o.jsx)("html",{lang:"es",children:(0,o.jsx)("body",{children:e})})}},73825:(e,r,t)=>{Promise.resolve().then(t.bind(t,48898))},75070:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>a,metadata:()=>n});var o=t(95143),s=t(48898);let n={title:"Test de API con HTTPS - GozaMadrid",description:"P\xe1gina de prueba para mostrar la integraci\xf3n del frontend con la API a trav\xe9s de HTTPS usando Cloudflare"};function a(){return(0,o.jsx)("main",{children:(0,o.jsx)(s.default,{})})}},89654:()=>{}};var r=require("../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),o=r.X(0,[317],()=>t(38622));module.exports=o})();