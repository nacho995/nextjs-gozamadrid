"use strict";exports.id=78,exports.ids=[78],exports.modules={45105:(e,t,r)=>{r.d(t,{A:()=>c});var a=r(8732),s=r(82015),i=r(68030),o=r.n(i),l=r(34163),n=r.n(l);let c=({src:e,alt:t="Imagen",className:r="",width:i,height:l,priority:c=!1,loading:d="lazy",sizes:g,quality:m=75,fallbackSrc:u,...p})=>{let[h,f]=(0,s.useState)(!1),[x,y]=(0,s.useState)(!1),[b,j]=(0,s.useState)(null),w=process.env.NEXT_PUBLIC_ASSET_PREFIX||"";(0,s.useEffect)(()=>{e?(!e.startsWith("/")||e.startsWith("//")||e.startsWith("http")?j(e):j(`${w}${e}`),f(!1)):f(!0)},[e,w]);let v=()=>{f(!0)};if(h||!b)return u?(0,a.jsx)("img",{src:u,alt:t,className:r,style:{width:i||"100%",height:l||"200px",objectFit:"cover"},loading:d}):(0,a.jsx)("div",{className:`relative flex items-center justify-center bg-gray-200 ${r||""}`,style:{width:i||"100%",height:l||"300px"},...p,children:(0,a.jsx)("span",{className:"text-gray-500",children:"Imagen no disponible"})});let S=b.startsWith("/")||b.startsWith("data:")||b.startsWith("http");return(0,a.jsxs)(a.Fragment,{children:[c&&(0,a.jsx)(o(),{children:(0,a.jsx)("link",{rel:"preload",as:"image",href:b,imageSrcSet:g,imageSizes:g})}),(0,a.jsxs)("div",{className:"relative w-full h-full",children:[!x&&(0,a.jsx)("div",{className:"absolute inset-0 bg-gray-100","aria-hidden":"true"}),S?(0,a.jsx)(n(),{src:b,alt:t,width:i||800,height:l||600,className:`${r} ${x?"opacity-100":"opacity-0"} transition-opacity duration-300 object-cover`,quality:m,priority:c,loading:d,onError:v,onLoad:()=>y(!0),...p}):(0,a.jsx)("img",{src:b,alt:t,className:`${r} ${x?"opacity-100":"opacity-0"} transition-opacity duration-300 w-full h-full object-cover`,style:{width:i||"100%",height:l||"100%"},loading:c?"eager":d,onError:v,onLoad:()=>y(!0),...p})]})]})}},68703:(e,t,r)=>{r.d(t,{A:()=>l});var a=r(8732),s=r(82015);r(34163);var i=r(68030),o=r.n(i);let l=({src:e,alt:t,className:r="",priority:i=!1,sizes:l="(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw"})=>{let[n,c]=(0,s.useState)(!1),[d,g]=(0,s.useState)(!1),[m,u]=(0,s.useState)(!0),p=(0,s.useRef)(null),[h,f]=(0,s.useState)({width:800,height:600}),[x,y]=(0,s.useState)({original:null,processed:null}),[b,j]=(0,s.useState)("/img/default-blog-image.jpg");(0,s.useEffect)(()=>{c(!0)},[]),(0,s.useEffect)(()=>{let t=e=>{let r="/img/default-blog-image.jpg";if(!e)return r;if(Array.isArray(e)&&e.length>0){let a=e[0];return"object"==typeof a&&a.src?t(a.src):"string"==typeof a?t(a):r}return"object"==typeof e?e.src?t(e.src):e.url?t(e.url):e.source_url?t(e.source_url):r:"string"!=typeof e||e.includes("imageproxy/")?r:e.includes("realestategozamadrid.com")||e.includes("gozamadrid.com")||e.includes("wp-content")?r=`https://images.weserv.nl/?url=${encodeURIComponent(e)}&default=https://via.placeholder.com/800x600?text=Sin+Imagen`:e.startsWith("http")||e.startsWith("https")?e:r=`https://goza-madrid.onrender.com${e.startsWith("/")?"":"/"}${e}`},r=t(e);j(r),y({original:e,processed:r})},[e]);let w=`blog-image-${Math.random().toString(36).substring(2,9)}`,v={"@context":"https://schema.org","@type":"ImageObject","@id":`#${w}`,contentUrl:b||"/img/default-blog-image.jpg",name:t||"Imagen del blog",description:t||"Fotograf\xeda del blog",representativeOfPage:i};return n?d||!b?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify({...v,contentUrl:"/img/default-blog-image.jpg"})}})}),(0,a.jsxs)("div",{className:`flex items-center justify-center bg-gray-200 ${r}`,ref:p,itemScope:!0,itemType:"https://schema.org/ImageObject","aria-label":"Imagen no disponible",role:"img",itemID:`#${w}`,children:[(0,a.jsx)("span",{className:"text-gray-500",children:"Sin imagen disponible"}),(0,a.jsx)("meta",{itemProp:"contentUrl",content:"/img/default-blog-image.jpg"}),(0,a.jsx)("meta",{itemProp:"name",content:t||"Imagen no disponible"})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(v)}})}),(0,a.jsxs)("div",{ref:p,className:"relative overflow-hidden",itemScope:!0,itemType:"https://schema.org/ImageObject",itemID:`#${w}`,children:[m&&(0,a.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-gray-100",children:(0,a.jsx)("div",{className:"animate-pulse bg-gray-200 rounded-full h-16 w-16"})}),(0,a.jsx)("img",{src:b,alt:t||"Imagen del blog",className:`w-full h-full object-cover ${r}`,onError:()=>{g(!0),u(!1)},onLoad:()=>u(!1),loading:i?"eager":"lazy",decoding:"async",itemProp:"contentUrl","data-debug":JSON.stringify(x)}),(0,a.jsx)("meta",{itemProp:"name",content:t||"Fotograf\xeda del blog"}),(0,a.jsx)("meta",{itemProp:"representativeOfPage",content:i?"true":"false"})]})]}):null}},89852:(e,t,r)=>{r.d(t,{XL:()=>i,t1:()=>o});let a="/api/proxy?service=wordpress",s=e=>null==e?"":"string"==typeof e?e:"number"==typeof e||"boolean"==typeof e?String(e):"object"==typeof e?e.rendered?e.rendered:JSON.stringify(e):String(e),i=async(e=1,t=9)=>{try{let r=`${a}&resource=posts&page=${e}&per_page=${t}`,i=new AbortController,o=setTimeout(()=>i.abort(),1e4),l=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json"},cache:"no-store",signal:i.signal});if(clearTimeout(o),!l.ok)throw console.error(`Error en la respuesta de WordPress: ${l.status} ${l.statusText}`),Error("Error al obtener los posts");let n=await l.json(),c=parseInt(l.headers.get("X-WP-TotalPages")||"1");return{posts:n.map(e=>({...e,title:s(e.title),content:s(e.content),excerpt:s(e.excerpt),image:{src:function(e){let t=null;if(!e)return"";if(e._embedded&&e._embedded["wp:featuredmedia"]&&e._embedded["wp:featuredmedia"][0]){let r=e._embedded["wp:featuredmedia"][0];if(r.media_details&&r.media_details.sizes){for(let e of["medium_large","medium","large","full"])if(r.media_details.sizes[e]){t=r.media_details.sizes[e].source_url;break}}!t&&r.source_url&&(t=r.source_url)}return t||(t=e.uagb_featured_image_src?.medium?.[0]||e.uagb_featured_image_src?.full?.[0]||e.image?.src||"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='200' viewBox='0 0 300 200'%3E%3Crect width='300' height='200' fill='%23f0f0f0'/%3E%3Ctext x='50%25' y='50%25' font-size='24' text-anchor='middle' alignment-baseline='middle' font-family='Arial' fill='%23999999'%3EImagen no disponible%3C/text%3E%3C/svg%3E"),t}(e),alt:s(e.title)},source:"wordpress",_id:`wp-${e.id}`,id:e.id})),totalPages:c}}catch(e){return console.error("Error en getBlogPostsFromServer:",e),"AbortError"===e.name&&console.error("La solicitud a WordPress se cancel\xf3 por timeout"),{posts:[],totalPages:0}}};async function o(e,t=5){try{let r=`${a}&resource=posts&slug=${encodeURIComponent(e)}`,i=new AbortController,l=setTimeout(()=>i.abort(),6e4),n=await fetch(r,{method:"GET",headers:{"Content-Type":"application/json","Cache-Control":"no-cache",Pragma:"no-cache"},cache:"no-store",signal:i.signal});if(clearTimeout(l),503===n.status&&t>0)return await new Promise(e=>setTimeout(e,5e3)),o(e,t-1);if(!n.ok)throw console.error(`Error al obtener el post: ${n.status} ${n.statusText}`),Error(`Error al obtener el post: ${n.status}`);let c=await n.json();if(!c||!(c.length>0))return null;{let e=c[0];return e.title=s(e.title),e.content=s(e.content),e.excerpt=s(e.excerpt),e}}catch(r){if(console.error("Error en getBlogPostBySlug:",r),("AbortError"===r.name||"TypeError"===r.name)&&t>0)return await new Promise(e=>setTimeout(e,5e3)),o(e,t-1);throw r}}}};