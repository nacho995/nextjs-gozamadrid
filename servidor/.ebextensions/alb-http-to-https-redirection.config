option_settings:
  aws:elbv2:listener:80:
    ListenerEnabled: true
    Protocol: HTTP
    DefaultProcess: default
    Rules: redirect-to-https
  aws:elbv2:listenerrule:redirect-to-https:
    PathPatterns: /*
    Priority: 1
    Actions: '{"Type":"redirect","RedirectConfig":{"Protocol":"HTTPS","Port":"443","Host":"#{host}","Path":"#{path}","Query":"#{query}","StatusCode":"HTTP_301"}}'
  aws:elasticbeanstalk:environment:process:default:
    Port: 80
    Protocol: HTTP
    HealthCheckPath: /api/health
    HealthCheckTimeout: 30
    HealthCheckInterval: 30
    HealthyThresholdCount: 3
    UnhealthyThresholdCount: 5
  aws:elbv2:listener:443:
    ListenerEnabled: true
    Protocol: HTTPS
    SSLCertificateArns: arn:aws:acm:eu-west-3:1823996942323 